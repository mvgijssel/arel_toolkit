<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <title>Code coverage for Arel toolkit</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <script src='./assets/0.10.2/application.js' type='text/javascript'></script>    
    <link href='./assets/0.10.2/application.css' media='screen, projection, print' rel='stylesheet' type='text/css'>
    <link rel="shortcut icon" type="image/png" href="./assets/0.10.2/favicon_green.png" />
    <link rel="icon" type="image/png" href="./assets/0.10.2/favicon.png" />
  </head>
  
  <body>
    <div id="loading">
      <img src="./assets/0.10.2/loading.gif" alt="loading"/>
    </div>
    <div id="wrapper" style="display:none;">
      <div class="timestamp">Generated <abbr class="timeago" title="2022-02-01T10:02:25+00:00">2022-02-01T10:02:25+00:00</abbr></div>
      <ul class="group_tabs"></ul>

      <div id="content">
        <div class="file_list_container" id="AllFiles">
  <h2>
    <span class="group_name">All Files</span>
    (<span class="covered_percent"><span class="green">97.56%</span></span>
     covered at
     <span class="covered_strength">
       <span class="green">
         2120.67
       </span>
    </span> hits/line)
  </h2>
  <a name="AllFiles"></a>
  <div>
    <b>143</b> files in total.
    <b>2911</b> relevant lines. 
    <span class="green"><b>2840</b> lines covered</span> and
    <span class="red"><b>71</b> lines missed </span>
  </div>
  <table class="file_list">
    <thead>
      <tr>
        <th>File</th>
        <th>% covered</th>
        <th>Lines</th>
        <th>Relevant Lines</th>
        <th>Lines covered</th>
        <th>Lines missed</th>
        <th>Avg. Hits / Line</th>
      </tr>
    </thead>
    <tbody>
      
      <tr>
        <td class="strong"><a href="#aa649217f9e760110d046fa730661689c4494a4e" class="src_link" title="lib/arel/enhance.rb">lib/arel/enhance.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>17</td>
        <td>11</td>
        <td>11</td>
        <td>0</td>
        <td>658.4</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#1c60a1a401ba95db9ee6670989bce6c7063c935a" class="src_link" title="lib/arel/enhance/context_enhancer/arel_table.rb">lib/arel/enhance/context_enhancer/arel_table.rb</a></td>
        <td class="yellow strong">86.96 %</td>
        <td>112</td>
        <td>46</td>
        <td>40</td>
        <td>6</td>
        <td>535.4</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#c1a559b082e303380dd934b23f1c5c121cdbcf3e" class="src_link" title="lib/arel/enhance/node.rb">lib/arel/enhance/node.rb</a></td>
        <td class="green strong">97.76 %</td>
        <td>240</td>
        <td>134</td>
        <td>131</td>
        <td>3</td>
        <td>9196.1</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#88da2e1c8ddddf838ba5cc90d2ca9864cc528255" class="src_link" title="lib/arel/enhance/path.rb">lib/arel/enhance/path.rb</a></td>
        <td class="red strong">45.45 %</td>
        <td>38</td>
        <td>22</td>
        <td>10</td>
        <td>12</td>
        <td>2.3</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#26872b0876dff5d4117ebdfa939a9c328fada54e" class="src_link" title="lib/arel/enhance/path_node.rb">lib/arel/enhance/path_node.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>26</td>
        <td>14</td>
        <td>14</td>
        <td>0</td>
        <td>17735.8</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#a9a0bb856498e8a7e7caa3ec461d7ecadc59d5bf" class="src_link" title="lib/arel/enhance/query.rb">lib/arel/enhance/query.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>38</td>
        <td>20</td>
        <td>20</td>
        <td>0</td>
        <td>9677.6</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#07758b56e992dadaef5439916e63555c44b5afe8" class="src_link" title="lib/arel/enhance/query_methods.rb">lib/arel/enhance/query_methods.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>23</td>
        <td>12</td>
        <td>12</td>
        <td>0</td>
        <td>227.5</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#12d8a83fedd7b989da56e2a3cb9858d3a49ec9c4" class="src_link" title="lib/arel/enhance/visitor.rb">lib/arel/enhance/visitor.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>97</td>
        <td>49</td>
        <td>49</td>
        <td>0</td>
        <td>31246.8</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#011473514f5266d31032b6da3272a150fa6f9be9" class="src_link" title="lib/arel/extensions.rb">lib/arel/extensions.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>123</td>
        <td>117</td>
        <td>117</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#83c514fa69636719fc0ec1002bd953fac0d0849b" class="src_link" title="lib/arel/extensions/absolute.rb">lib/arel/extensions/absolute.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>10</td>
        <td>5</td>
        <td>5</td>
        <td>0</td>
        <td>6.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#7e9ce36d38759cb9c33d617b2779186fe01dff25" class="src_link" title="lib/arel/extensions/active_model_attribute_with_cast_value.rb">lib/arel/extensions/active_model_attribute_with_cast_value.rb</a></td>
        <td class="yellow strong">88.89 %</td>
        <td>22</td>
        <td>9</td>
        <td>8</td>
        <td>1</td>
        <td>36.4</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#8127b312af3efb8fd1b222163199795613640f8b" class="src_link" title="lib/arel/extensions/active_record_relation_query_attribute.rb">lib/arel/extensions/active_record_relation_query_attribute.rb</a></td>
        <td class="yellow strong">88.89 %</td>
        <td>22</td>
        <td>9</td>
        <td>8</td>
        <td>1</td>
        <td>55.6</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#e6cc35b83dbfaedd36de3f5a10a687e389c3aa88" class="src_link" title="lib/arel/extensions/active_record_type_caster_connection.rb">lib/arel/extensions/active_record_type_caster_connection.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>7</td>
        <td>4</td>
        <td>4</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#6c9be5626e5fe965e241210acfa9a5bb035bd11e" class="src_link" title="lib/arel/extensions/active_record_type_caster_map.rb">lib/arel/extensions/active_record_type_caster_map.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>7</td>
        <td>4</td>
        <td>4</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#6aa21db169446455f4d4e29389c8d539a361a0d4" class="src_link" title="lib/arel/extensions/all.rb">lib/arel/extensions/all.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>23</td>
        <td>9</td>
        <td>9</td>
        <td>0</td>
        <td>8.3</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#92b8a3eed4d85e5f29dd2686eb7a6d43608dc484" class="src_link" title="lib/arel/extensions/any.rb">lib/arel/extensions/any.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>23</td>
        <td>9</td>
        <td>9</td>
        <td>0</td>
        <td>15.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#e3c0a32e7e91db156db49bf31f8085f7ce8dd734" class="src_link" title="lib/arel/extensions/array.rb">lib/arel/extensions/array.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>22</td>
        <td>9</td>
        <td>9</td>
        <td>0</td>
        <td>36.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#a1c370e57cdff3a5f626fb8b5d7260854dd00a6d" class="src_link" title="lib/arel/extensions/array_subselect.rb">lib/arel/extensions/array_subselect.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>23</td>
        <td>9</td>
        <td>9</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#f3719a62b72ae835213b99fe89a4fb3747fa5ff4" class="src_link" title="lib/arel/extensions/assignment.rb">lib/arel/extensions/assignment.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>22</td>
        <td>9</td>
        <td>9</td>
        <td>0</td>
        <td>91.6</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#dff478242492b6d2e6c557b6b545f0f01d253803" class="src_link" title="lib/arel/extensions/at_time_zone.rb">lib/arel/extensions/at_time_zone.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>37</td>
        <td>18</td>
        <td>18</td>
        <td>0</td>
        <td>18.1</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#aa7142e62c09c9a75851e0e2b2bfa77b788f0dd1" class="src_link" title="lib/arel/extensions/attributes_attribute.rb">lib/arel/extensions/attributes_attribute.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>47</td>
        <td>22</td>
        <td>22</td>
        <td>0</td>
        <td>561.6</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#0136190b2888be2614bf27df7f38969a18dbc09e" class="src_link" title="lib/arel/extensions/between_symmetric.rb">lib/arel/extensions/between_symmetric.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>23</td>
        <td>9</td>
        <td>9</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#c4df4129c86ed57b720f2fcd12528b34be353cbb" class="src_link" title="lib/arel/extensions/binary.rb">lib/arel/extensions/binary.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>7</td>
        <td>4</td>
        <td>4</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#5b3bbab1452b05ec0610816f14ecbf259be8e820" class="src_link" title="lib/arel/extensions/bind_param.rb">lib/arel/extensions/bind_param.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>15</td>
        <td>5</td>
        <td>5</td>
        <td>0</td>
        <td>93.8</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#5048be753faa6ffa2f082edb3541b6034be57d88" class="src_link" title="lib/arel/extensions/bit_string.rb">lib/arel/extensions/bit_string.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>20</td>
        <td>7</td>
        <td>7</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#a3791e3a1a85dbda5b984769494531646b3e747a" class="src_link" title="lib/arel/extensions/bitwise_xor.rb">lib/arel/extensions/bitwise_xor.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>10</td>
        <td>5</td>
        <td>5</td>
        <td>0</td>
        <td>8.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#647e720ed777957ef53216529cb64287c86d59f6" class="src_link" title="lib/arel/extensions/case.rb">lib/arel/extensions/case.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>17</td>
        <td>7</td>
        <td>7</td>
        <td>0</td>
        <td>7.1</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#8899f5b98c504de452e52931e4551f249886214b" class="src_link" title="lib/arel/extensions/coalesce.rb">lib/arel/extensions/coalesce.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>23</td>
        <td>9</td>
        <td>9</td>
        <td>0</td>
        <td>13.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#6c31d822566b6a19cdd55501a82d501b938f0f27" class="src_link" title="lib/arel/extensions/conflict.rb">lib/arel/extensions/conflict.rb</a></td>
        <td class="green strong">96.3 %</td>
        <td>56</td>
        <td>27</td>
        <td>26</td>
        <td>1</td>
        <td>11.6</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#bcbf164299f1657f436dcedc5e9fbda1ad21a0f3" class="src_link" title="lib/arel/extensions/contained_by.rb">lib/arel/extensions/contained_by.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>10</td>
        <td>5</td>
        <td>5</td>
        <td>0</td>
        <td>12.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#73b47c18a3ea446a6046634f70c2b8fae96c1529" class="src_link" title="lib/arel/extensions/contained_within_equals.rb">lib/arel/extensions/contained_within_equals.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>10</td>
        <td>5</td>
        <td>5</td>
        <td>0</td>
        <td>6.4</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#13a730242ea0f3c2a999f99b961dce5f6246ed24" class="src_link" title="lib/arel/extensions/contains.rb">lib/arel/extensions/contains.rb</a></td>
        <td class="green strong">92.31 %</td>
        <td>32</td>
        <td>13</td>
        <td>12</td>
        <td>1</td>
        <td>5.1</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#1c856c7740922aec2590ec3a536d495dc92061dc" class="src_link" title="lib/arel/extensions/contains_equals.rb">lib/arel/extensions/contains_equals.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>10</td>
        <td>5</td>
        <td>5</td>
        <td>0</td>
        <td>6.4</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#6cbf9c8f652b1b68cb34e9b539a8efb66bacc773" class="src_link" title="lib/arel/extensions/cross_join.rb">lib/arel/extensions/cross_join.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>21</td>
        <td>8</td>
        <td>8</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#037fd24781503ab0a411f7c1f45f881272e15586" class="src_link" title="lib/arel/extensions/cube_root.rb">lib/arel/extensions/cube_root.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>10</td>
        <td>5</td>
        <td>5</td>
        <td>0</td>
        <td>6.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#3af145747fd31b6b8ab7010a22e4d023a7ac7561" class="src_link" title="lib/arel/extensions/current_catalog.rb">lib/arel/extensions/current_catalog.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>24</td>
        <td>9</td>
        <td>9</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#24afd5b63af8f33a12531a3c1680fe2ff916aab1" class="src_link" title="lib/arel/extensions/current_date.rb">lib/arel/extensions/current_date.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>24</td>
        <td>9</td>
        <td>9</td>
        <td>0</td>
        <td>5.6</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#48865410f8448cf91a36d244d84b3a5016465508" class="src_link" title="lib/arel/extensions/current_of_expression.rb">lib/arel/extensions/current_of_expression.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>22</td>
        <td>8</td>
        <td>8</td>
        <td>0</td>
        <td>6.3</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#5da4fcbb878eea56682c8fee8072f846f74e41cf" class="src_link" title="lib/arel/extensions/current_role.rb">lib/arel/extensions/current_role.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>24</td>
        <td>9</td>
        <td>9</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#2c170f77b437f7d7c2b6289959697b460aaccf29" class="src_link" title="lib/arel/extensions/current_row.rb">lib/arel/extensions/current_row.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>7</td>
        <td>4</td>
        <td>4</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#c318c8965c508b483b28bbf7aa3a2682425a12bf" class="src_link" title="lib/arel/extensions/current_schema.rb">lib/arel/extensions/current_schema.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>24</td>
        <td>9</td>
        <td>9</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#8fa9cc5f1428e6e473ae043d1524828a6a68a2a8" class="src_link" title="lib/arel/extensions/current_time.rb">lib/arel/extensions/current_time.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>22</td>
        <td>9</td>
        <td>9</td>
        <td>0</td>
        <td>8.3</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#1709cf63a3a23820478d21844148b8efe5e4b3f9" class="src_link" title="lib/arel/extensions/current_timestamp.rb">lib/arel/extensions/current_timestamp.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>22</td>
        <td>9</td>
        <td>9</td>
        <td>0</td>
        <td>13.3</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#d6ac2e8ac0c226e7067ae0a82e90422acbbbd931" class="src_link" title="lib/arel/extensions/current_user.rb">lib/arel/extensions/current_user.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>24</td>
        <td>9</td>
        <td>9</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#95040713eeeba948f5a979f35c4f0a85f91350c5" class="src_link" title="lib/arel/extensions/dealocate.rb">lib/arel/extensions/dealocate.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>31</td>
        <td>13</td>
        <td>13</td>
        <td>0</td>
        <td>6.9</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#20dabd36ddd9ad2673b0a327f5bcee6d5b83b8f3" class="src_link" title="lib/arel/extensions/default_values.rb">lib/arel/extensions/default_values.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>25</td>
        <td>9</td>
        <td>9</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#66a6d35ad927c395f4c7344df32cd65405de14d4" class="src_link" title="lib/arel/extensions/delete_manager.rb">lib/arel/extensions/delete_manager.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>25</td>
        <td>10</td>
        <td>10</td>
        <td>0</td>
        <td>10.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#a15ba35a22fdbedd867de544612d546265ec254b" class="src_link" title="lib/arel/extensions/delete_statement.rb">lib/arel/extensions/delete_statement.rb</a></td>
        <td class="green strong">92.86 %</td>
        <td>78</td>
        <td>42</td>
        <td>39</td>
        <td>3</td>
        <td>37.9</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#4e3749783d053a64094cf8601bd79368a963b233" class="src_link" title="lib/arel/extensions/distinct_from.rb">lib/arel/extensions/distinct_from.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>9</td>
        <td>5</td>
        <td>5</td>
        <td>0</td>
        <td>6.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#6f0cf23f8e3770bb63f50dc88b4daee3257ce2a8" class="src_link" title="lib/arel/extensions/dot.rb">lib/arel/extensions/dot.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>11</td>
        <td>4</td>
        <td>4</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#acbbbd8cf7e5d66431e3a80c5c414382e3ac594f" class="src_link" title="lib/arel/extensions/equality.rb">lib/arel/extensions/equality.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>28</td>
        <td>13</td>
        <td>13</td>
        <td>0</td>
        <td>453.3</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#18f054bd1e7fcf187e32499a2494db7a9a792af7" class="src_link" title="lib/arel/extensions/except_all.rb">lib/arel/extensions/except_all.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>21</td>
        <td>8</td>
        <td>8</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#0668bc058026f2e3f32023f95289458d2a41c2e6" class="src_link" title="lib/arel/extensions/exists.rb">lib/arel/extensions/exists.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>59</td>
        <td>25</td>
        <td>25</td>
        <td>0</td>
        <td>9.8</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#70de9f3c8e6ad07e79c7917d9e89eeb60a1139f5" class="src_link" title="lib/arel/extensions/exponentiation.rb">lib/arel/extensions/exponentiation.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>10</td>
        <td>5</td>
        <td>5</td>
        <td>0</td>
        <td>6.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#d9b9d222d320647d4d5c6856b4d86045b277a217" class="src_link" title="lib/arel/extensions/extract_from.rb">lib/arel/extensions/extract_from.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>25</td>
        <td>11</td>
        <td>11</td>
        <td>0</td>
        <td>11.8</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#f5f74babc92efe679d9b682de7e8108a5575fa16" class="src_link" title="lib/arel/extensions/factorial.rb">lib/arel/extensions/factorial.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>41</td>
        <td>20</td>
        <td>20</td>
        <td>0</td>
        <td>9.5</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#4d025cb6c82f6e11e276972fc539f722c5cc6efa" class="src_link" title="lib/arel/extensions/false.rb">lib/arel/extensions/false.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>7</td>
        <td>4</td>
        <td>4</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#cc1a7cab4c87cd37609e25c7a8b6e87470038802" class="src_link" title="lib/arel/extensions/function.rb">lib/arel/extensions/function.rb</a></td>
        <td class="green strong">96.36 %</td>
        <td>98</td>
        <td>55</td>
        <td>53</td>
        <td>2</td>
        <td>814.1</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#c3e65bf10c8ff10512cb2db2c3704679e84fd720" class="src_link" title="lib/arel/extensions/greatest.rb">lib/arel/extensions/greatest.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>23</td>
        <td>9</td>
        <td>9</td>
        <td>0</td>
        <td>6.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#f6a2498e0b27d049b4c29535652337968283173c" class="src_link" title="lib/arel/extensions/indirection.rb">lib/arel/extensions/indirection.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>23</td>
        <td>10</td>
        <td>10</td>
        <td>0</td>
        <td>9.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#0a7386fc0fec7b40c29a168cfe004afd7e03e663" class="src_link" title="lib/arel/extensions/infer.rb">lib/arel/extensions/infer.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>35</td>
        <td>17</td>
        <td>17</td>
        <td>0</td>
        <td>6.6</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#bab7f4c2e64ccb62ee46cef49b48878572b867d6" class="src_link" title="lib/arel/extensions/infix_operation.rb">lib/arel/extensions/infix_operation.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>17</td>
        <td>7</td>
        <td>7</td>
        <td>0</td>
        <td>209.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#8ddbf2dc1efab98a0e9f26c06264fea1d524ad0b" class="src_link" title="lib/arel/extensions/insert_manager.rb">lib/arel/extensions/insert_manager.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>21</td>
        <td>8</td>
        <td>8</td>
        <td>0</td>
        <td>16.4</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#ac3853f054b9c508284b6b51d1c301ed1510bf49" class="src_link" title="lib/arel/extensions/insert_statement.rb">lib/arel/extensions/insert_statement.rb</a></td>
        <td class="green strong">91.49 %</td>
        <td>95</td>
        <td>47</td>
        <td>43</td>
        <td>4</td>
        <td>153.9</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#c422f44e472540a31cf4334fea53ee3338372276" class="src_link" title="lib/arel/extensions/intersect_all.rb">lib/arel/extensions/intersect_all.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>21</td>
        <td>8</td>
        <td>8</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#e117450934d9b31ebdc0cb69357070c7d67d95d2" class="src_link" title="lib/arel/extensions/into.rb">lib/arel/extensions/into.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>21</td>
        <td>8</td>
        <td>8</td>
        <td>0</td>
        <td>7.5</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#3c4a0ac75bfa743a181d1dab6538e1ac55589565" class="src_link" title="lib/arel/extensions/json_get_field.rb">lib/arel/extensions/json_get_field.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>10</td>
        <td>5</td>
        <td>5</td>
        <td>0</td>
        <td>8.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#8211093c350bcb34b57626fa40bd56f8d4e1e9dd" class="src_link" title="lib/arel/extensions/json_get_object.rb">lib/arel/extensions/json_get_object.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>10</td>
        <td>5</td>
        <td>5</td>
        <td>0</td>
        <td>8.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#9955f1ce632448071e8b0681dacb48224c053c6a" class="src_link" title="lib/arel/extensions/json_path_get_field.rb">lib/arel/extensions/json_path_get_field.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>10</td>
        <td>5</td>
        <td>5</td>
        <td>0</td>
        <td>6.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#de854851dd4781f3d7fc912e99a9a3d97dcd5649" class="src_link" title="lib/arel/extensions/json_path_get_object.rb">lib/arel/extensions/json_path_get_object.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>10</td>
        <td>5</td>
        <td>5</td>
        <td>0</td>
        <td>6.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#bc342b718c58c86e278fa216d27efaf4cbdc5120" class="src_link" title="lib/arel/extensions/jsonb_all_key_exists.rb">lib/arel/extensions/jsonb_all_key_exists.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>10</td>
        <td>5</td>
        <td>5</td>
        <td>0</td>
        <td>6.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#9b8960920faca7ad248ea57d4403c08a0008526c" class="src_link" title="lib/arel/extensions/jsonb_any_key_exists.rb">lib/arel/extensions/jsonb_any_key_exists.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>10</td>
        <td>5</td>
        <td>5</td>
        <td>0</td>
        <td>8.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#d0affe06749a8d77405088050b631ed2bc6e63cc" class="src_link" title="lib/arel/extensions/jsonb_key_exists.rb">lib/arel/extensions/jsonb_key_exists.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>10</td>
        <td>5</td>
        <td>5</td>
        <td>0</td>
        <td>6.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#24a9fc5af6ab551661dd8fcb8db0469395902d39" class="src_link" title="lib/arel/extensions/lateral.rb">lib/arel/extensions/lateral.rb</a></td>
        <td class="red strong">78.57 %</td>
        <td>34</td>
        <td>14</td>
        <td>11</td>
        <td>3</td>
        <td>3.6</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#89dd0c283c83a987eb1d8b9d9fe4bd679887d42e" class="src_link" title="lib/arel/extensions/least.rb">lib/arel/extensions/least.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>23</td>
        <td>9</td>
        <td>9</td>
        <td>0</td>
        <td>6.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#4da9be76908b1e511eda91013cad97640e77a0f0" class="src_link" title="lib/arel/extensions/local_time.rb">lib/arel/extensions/local_time.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>22</td>
        <td>9</td>
        <td>9</td>
        <td>0</td>
        <td>8.3</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#4ea255a9599ca501848eabc334b6043c7538c455" class="src_link" title="lib/arel/extensions/local_timestamp.rb">lib/arel/extensions/local_timestamp.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>22</td>
        <td>9</td>
        <td>9</td>
        <td>0</td>
        <td>8.3</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#1dfa53208341962229627ace1fc6b263336f6840" class="src_link" title="lib/arel/extensions/modulo.rb">lib/arel/extensions/modulo.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>10</td>
        <td>5</td>
        <td>5</td>
        <td>0</td>
        <td>6.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#3dd25b90a6a6521621751fdcd3c0f2c6d037f743" class="src_link" title="lib/arel/extensions/named_argument.rb">lib/arel/extensions/named_argument.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>24</td>
        <td>11</td>
        <td>11</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#cd8f5e4fee8d592bda69a8557de15bf8f8608fed" class="src_link" title="lib/arel/extensions/named_function.rb">lib/arel/extensions/named_function.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>22</td>
        <td>9</td>
        <td>9</td>
        <td>0</td>
        <td>506.2</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#47962a453a61b921549cf8be4ba6787461d06f5d" class="src_link" title="lib/arel/extensions/natural_join.rb">lib/arel/extensions/natural_join.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>21</td>
        <td>8</td>
        <td>8</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#9b23a95346cdcbd248076dfef0c501a422c7330a" class="src_link" title="lib/arel/extensions/node.rb">lib/arel/extensions/node.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>10</td>
        <td>6</td>
        <td>6</td>
        <td>0</td>
        <td>80.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#9f196e59fddf91f676a9195ad6e9e08714986878" class="src_link" title="lib/arel/extensions/not_between.rb">lib/arel/extensions/not_between.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>22</td>
        <td>9</td>
        <td>9</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#58f7a89e9e43aa33b7c61539c5c40e16f6f67a1c" class="src_link" title="lib/arel/extensions/not_between_symmetric.rb">lib/arel/extensions/not_between_symmetric.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>23</td>
        <td>9</td>
        <td>9</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#f56f716221e2faca71da08041cac2f07541715b4" class="src_link" title="lib/arel/extensions/not_distinct_from.rb">lib/arel/extensions/not_distinct_from.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>9</td>
        <td>5</td>
        <td>5</td>
        <td>0</td>
        <td>6.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#dd075b2b57e8d2af6580d18f42421b4f6c44403c" class="src_link" title="lib/arel/extensions/not_equal.rb">lib/arel/extensions/not_equal.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>28</td>
        <td>13</td>
        <td>13</td>
        <td>0</td>
        <td>22.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#f2c097d2149def497643d69d2b3d33de60e21f58" class="src_link" title="lib/arel/extensions/not_similar.rb">lib/arel/extensions/not_similar.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>29</td>
        <td>13</td>
        <td>13</td>
        <td>0</td>
        <td>6.5</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#e0404412be039c16a61b3ec468b3fdf1d35016ae" class="src_link" title="lib/arel/extensions/null_if.rb">lib/arel/extensions/null_if.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>24</td>
        <td>11</td>
        <td>11</td>
        <td>0</td>
        <td>9.5</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#5519c02567b4ade4af209c4b8e3298021df9f55d" class="src_link" title="lib/arel/extensions/ordering.rb">lib/arel/extensions/ordering.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>62</td>
        <td>30</td>
        <td>30</td>
        <td>0</td>
        <td>48.5</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#f55e57d6951c365be30b7b43a4526420638e50e6" class="src_link" title="lib/arel/extensions/overlap.rb">lib/arel/extensions/overlap.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>10</td>
        <td>5</td>
        <td>5</td>
        <td>0</td>
        <td>11.2</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#3f1f3f3288bc746fb7757b8d51a1984456e5befe" class="src_link" title="lib/arel/extensions/overlaps.rb">lib/arel/extensions/overlaps.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>55</td>
        <td>33</td>
        <td>33</td>
        <td>0</td>
        <td>5.5</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#84022ddd4346bac55982ebaf169a094ed5e1e453" class="src_link" title="lib/arel/extensions/overlay.rb">lib/arel/extensions/overlay.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>53</td>
        <td>31</td>
        <td>31</td>
        <td>0</td>
        <td>16.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#2f655fb76cc33b87d080ec7051c7a6c28a7ee8a6" class="src_link" title="lib/arel/extensions/position.rb">lib/arel/extensions/position.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>27</td>
        <td>13</td>
        <td>13</td>
        <td>0</td>
        <td>8.8</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#739bd301ff9a362393682e457f2e771b9347d953" class="src_link" title="lib/arel/extensions/prepare.rb">lib/arel/extensions/prepare.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>39</td>
        <td>21</td>
        <td>21</td>
        <td>0</td>
        <td>9.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#02609cc17aa1cd8ec4282792c99eed5cd618dd8d" class="src_link" title="lib/arel/extensions/range_function.rb">lib/arel/extensions/range_function.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>31</td>
        <td>14</td>
        <td>14</td>
        <td>0</td>
        <td>11.4</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#d32438f2d8830801503ce4b0942c744f1043916b" class="src_link" title="lib/arel/extensions/row.rb">lib/arel/extensions/row.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>25</td>
        <td>11</td>
        <td>11</td>
        <td>0</td>
        <td>6.4</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#e5227a83a432ce374426f9c707c11189c1b675fe" class="src_link" title="lib/arel/extensions/select_core.rb">lib/arel/extensions/select_core.rb</a></td>
        <td class="green strong">94.12 %</td>
        <td>73</td>
        <td>34</td>
        <td>32</td>
        <td>2</td>
        <td>1462.8</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#3f5333c2cb6473a51fb543e70c5daa1dee87f77a" class="src_link" title="lib/arel/extensions/select_manager.rb">lib/arel/extensions/select_manager.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>25</td>
        <td>10</td>
        <td>10</td>
        <td>0</td>
        <td>326.3</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#77e4206f6dff81addf4f7c5bd124638ea42cb895" class="src_link" title="lib/arel/extensions/select_statement.rb">lib/arel/extensions/select_statement.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>48</td>
        <td>24</td>
        <td>24</td>
        <td>0</td>
        <td>1032.2</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#205748b0904cc6877e6ce4978c17ac5b227e61fc" class="src_link" title="lib/arel/extensions/session_user.rb">lib/arel/extensions/session_user.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>24</td>
        <td>9</td>
        <td>9</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#33335e6168f3075b65eb467189d38d09fb318307" class="src_link" title="lib/arel/extensions/set_to_default.rb">lib/arel/extensions/set_to_default.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>25</td>
        <td>9</td>
        <td>9</td>
        <td>0</td>
        <td>6.1</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#d5b6a87a575e5014a0ec44d111ce309c3732c696" class="src_link" title="lib/arel/extensions/similar.rb">lib/arel/extensions/similar.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>32</td>
        <td>15</td>
        <td>15</td>
        <td>0</td>
        <td>8.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#84d14d7ad15f8f5f57d0305b42a0ced56c1bbc52" class="src_link" title="lib/arel/extensions/square_root.rb">lib/arel/extensions/square_root.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>10</td>
        <td>5</td>
        <td>5</td>
        <td>0</td>
        <td>6.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#d92537145da6b0a390a5134d7e7fa7ced175c700" class="src_link" title="lib/arel/extensions/substring.rb">lib/arel/extensions/substring.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>46</td>
        <td>26</td>
        <td>26</td>
        <td>0</td>
        <td>24.4</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#3431ec46ba15a30265625ce3051029cad5e11064" class="src_link" title="lib/arel/extensions/table.rb">lib/arel/extensions/table.rb</a></td>
        <td class="green strong">97.22 %</td>
        <td>87</td>
        <td>36</td>
        <td>35</td>
        <td>1</td>
        <td>869.9</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#e82200e1378935dc3cea926ca10f0d1ebf332666" class="src_link" title="lib/arel/extensions/time_with_precision.rb">lib/arel/extensions/time_with_precision.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>19</td>
        <td>10</td>
        <td>10</td>
        <td>0</td>
        <td>34.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#050dc82f991fd9e5ab822af0322479cd78cd773c" class="src_link" title="lib/arel/extensions/to_sql.rb">lib/arel/extensions/to_sql.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>27</td>
        <td>14</td>
        <td>14</td>
        <td>0</td>
        <td>432.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#40df19742f48166b8be669820872902ce1483ba5" class="src_link" title="lib/arel/extensions/top.rb">lib/arel/extensions/top.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>8</td>
        <td>3</td>
        <td>3</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#d7012368d1b214e54b635ad2bcd6b13eb1f547a8" class="src_link" title="lib/arel/extensions/transaction.rb">lib/arel/extensions/transaction.rb</a></td>
        <td class="green strong">94.74 %</td>
        <td>45</td>
        <td>19</td>
        <td>18</td>
        <td>1</td>
        <td>27.6</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#5d911cbcbed1c1fc0496b9d401b52e967146d69f" class="src_link" title="lib/arel/extensions/tree_manager.rb">lib/arel/extensions/tree_manager.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>10</td>
        <td>5</td>
        <td>5</td>
        <td>0</td>
        <td>1265.8</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#f75cea64029e3a5c5af1b5bd6934d0a7f3e45f2f" class="src_link" title="lib/arel/extensions/trim.rb">lib/arel/extensions/trim.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>44</td>
        <td>24</td>
        <td>24</td>
        <td>0</td>
        <td>20.8</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#de5608552bef3bbda8af5c664d7ff50efca5a670" class="src_link" title="lib/arel/extensions/true.rb">lib/arel/extensions/true.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>7</td>
        <td>4</td>
        <td>4</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#af039ab7e77483bd66326dc2f8bf33142c1179cb" class="src_link" title="lib/arel/extensions/type_cast.rb">lib/arel/extensions/type_cast.rb</a></td>
        <td class="green strong">95.0 %</td>
        <td>41</td>
        <td>20</td>
        <td>19</td>
        <td>1</td>
        <td>678.4</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#a0f3b3d6f4ab7ce0c184dd41cb64d7134dd84bb8" class="src_link" title="lib/arel/extensions/unary.rb">lib/arel/extensions/unary.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>7</td>
        <td>4</td>
        <td>4</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#d0da5dc4a6c4d51dc1b9028a8809418eeea8569b" class="src_link" title="lib/arel/extensions/unary_operation.rb">lib/arel/extensions/unary_operation.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>16</td>
        <td>6</td>
        <td>6</td>
        <td>0</td>
        <td>21.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#58682cec75fc19c810681e46890386b21de45bc0" class="src_link" title="lib/arel/extensions/unknown.rb">lib/arel/extensions/unknown.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>24</td>
        <td>9</td>
        <td>9</td>
        <td>0</td>
        <td>5.6</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#21559cf9f156081519601bada8163e0489f1f97a" class="src_link" title="lib/arel/extensions/update_manager.rb">lib/arel/extensions/update_manager.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>25</td>
        <td>10</td>
        <td>10</td>
        <td>0</td>
        <td>10.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#f581c962d7cf22285e9742d8fc9f70c079c192ab" class="src_link" title="lib/arel/extensions/update_statement.rb">lib/arel/extensions/update_statement.rb</a></td>
        <td class="green strong">97.44 %</td>
        <td>74</td>
        <td>39</td>
        <td>38</td>
        <td>1</td>
        <td>42.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#0d03f3f00cc6bf8f2a6a3b9a51a13623806fe04a" class="src_link" title="lib/arel/extensions/user.rb">lib/arel/extensions/user.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>24</td>
        <td>9</td>
        <td>9</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#7bbaeeaefab34bdc0e8fcd042efcc6b44fddd95c" class="src_link" title="lib/arel/extensions/values_list.rb">lib/arel/extensions/values_list.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>15</td>
        <td>5</td>
        <td>5</td>
        <td>0</td>
        <td>20.2</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#f1accd684fb525853a7193fed0228a6af6bbffaa" class="src_link" title="lib/arel/extensions/variable_set.rb">lib/arel/extensions/variable_set.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>55</td>
        <td>30</td>
        <td>30</td>
        <td>0</td>
        <td>20.8</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#2274a0a2d8d22c8e94cafb462a8a382bbde154cc" class="src_link" title="lib/arel/extensions/variable_show.rb">lib/arel/extensions/variable_show.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>26</td>
        <td>10</td>
        <td>10</td>
        <td>0</td>
        <td>6.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#e5da3d9194b68d261aadfe0360bd9a51416f4c98" class="src_link" title="lib/arel/extensions/with_ordinality.rb">lib/arel/extensions/with_ordinality.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>22</td>
        <td>8</td>
        <td>8</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#387976fbb1fe44d2596a2a0a4a78ff02ad98cdb8" class="src_link" title="lib/arel/middleware.rb">lib/arel/middleware.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>27</td>
        <td>17</td>
        <td>17</td>
        <td>0</td>
        <td>1801.8</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#8d1b6abd635bb70945c0f5001a1700a672582e35" class="src_link" title="lib/arel/middleware/active_record_extension.rb">lib/arel/middleware/active_record_extension.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>13</td>
        <td>6</td>
        <td>6</td>
        <td>0</td>
        <td>10.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#327c9068e1e550c53e4fb4a4ee03c82d6148b522" class="src_link" title="lib/arel/middleware/cache_accessor.rb">lib/arel/middleware/cache_accessor.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>35</td>
        <td>16</td>
        <td>16</td>
        <td>0</td>
        <td>168.2</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#cbb2bad76668e1dd69db4b65a3ab1d2e5db67ffa" class="src_link" title="lib/arel/middleware/chain.rb">lib/arel/middleware/chain.rb</a></td>
        <td class="green strong">98.86 %</td>
        <td>172</td>
        <td>88</td>
        <td>87</td>
        <td>1</td>
        <td>740.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#5a3dbb8b0efd1d2c3f25af4a046300f339c4787e" class="src_link" title="lib/arel/middleware/database_executor.rb">lib/arel/middleware/database_executor.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>77</td>
        <td>40</td>
        <td>40</td>
        <td>0</td>
        <td>215.9</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#a5b47d299896010e5c380f0a241989c1ad8ce2d6" class="src_link" title="lib/arel/middleware/no_op_cache.rb">lib/arel/middleware/no_op_cache.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>9</td>
        <td>5</td>
        <td>5</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#ac29631b0ce85687384d0308021433ce1c8e55ed" class="src_link" title="lib/arel/middleware/postgresql_adapter.rb">lib/arel/middleware/postgresql_adapter.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>62</td>
        <td>21</td>
        <td>21</td>
        <td>0</td>
        <td>3911.2</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#1490f4ecb0f0645f900885c00f580a4e43099a48" class="src_link" title="lib/arel/middleware/railtie.rb">lib/arel/middleware/railtie.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>25</td>
        <td>11</td>
        <td>11</td>
        <td>0</td>
        <td>3.5</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#b859cb7427cb9fdc560612db188536ecd9795eac" class="src_link" title="lib/arel/middleware/result.rb">lib/arel/middleware/result.rb</a></td>
        <td class="green strong">96.43 %</td>
        <td>170</td>
        <td>84</td>
        <td>81</td>
        <td>3</td>
        <td>2632.5</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#bd766f316a6bfbe829cdc5e67075dbb77f511185" class="src_link" title="lib/arel/middleware/to_sql_executor.rb">lib/arel/middleware/to_sql_executor.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>15</td>
        <td>6</td>
        <td>6</td>
        <td>0</td>
        <td>15.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#0085ce8da81b95f889c51cf17c9b154eb7e39383" class="src_link" title="lib/arel/middleware/to_sql_middleware.rb">lib/arel/middleware/to_sql_middleware.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>33</td>
        <td>18</td>
        <td>18</td>
        <td>0</td>
        <td>19.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#a107c1c47710a95ce722e16baf299dc7d82a3009" class="src_link" title="lib/arel/sql_to_arel.rb">lib/arel/sql_to_arel.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>12</td>
        <td>7</td>
        <td>7</td>
        <td>0</td>
        <td>920.1</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#117ddcde798d5459383d610110011f9b710e2bac" class="src_link" title="lib/arel/sql_to_arel/error.rb">lib/arel/sql_to_arel/error.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>6</td>
        <td>3</td>
        <td>3</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#9ee3b46b7e64e9514cae5a13d7b5633eb579db86" class="src_link" title="lib/arel/sql_to_arel/pg_query_visitor.rb">lib/arel/sql_to_arel/pg_query_visitor.rb</a></td>
        <td class="green strong">96.88 %</td>
        <td>1162</td>
        <td>608</td>
        <td>589</td>
        <td>19</td>
        <td>2325.1</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#50e4f15555728bbdb5a6df7de4591dc5763c82a3" class="src_link" title="lib/arel/sql_to_arel/pg_query_visitor/frame_options.rb">lib/arel/sql_to_arel/pg_query_visitor/frame_options.rb</a></td>
        <td class="green strong">93.48 %</td>
        <td>144</td>
        <td>46</td>
        <td>43</td>
        <td>3</td>
        <td>1100.9</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#133975ff063a6a5445b684f153018088fca00cfe" class="src_link" title="lib/arel/sql_to_arel/result.rb">lib/arel/sql_to_arel/result.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>30</td>
        <td>16</td>
        <td>16</td>
        <td>0</td>
        <td>1856.3</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#db6d01e92d6027ee7d5737f2b1f7fd784d0999bb" class="src_link" title="lib/arel/transformer.rb">lib/arel/transformer.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>7</td>
        <td>4</td>
        <td>4</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#f82357c9702debacaff100ffdb0a111bb51afeaf" class="src_link" title="lib/arel/transformer/prefix_schema_name.rb">lib/arel/transformer/prefix_schema_name.rb</a></td>
        <td class="green strong">97.67 %</td>
        <td>185</td>
        <td>86</td>
        <td>84</td>
        <td>2</td>
        <td>9218.8</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#fe608cd549253ce112d854d8a1046665d822b287" class="src_link" title="lib/arel/transformer/replace_table_with_subquery.rb">lib/arel/transformer/replace_table_with_subquery.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>31</td>
        <td>15</td>
        <td>15</td>
        <td>0</td>
        <td>7.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#7292a66fecfbd9ea82f0ad6d5d2fe1be03a4fcca" class="src_link" title="lib/arel_toolkit.rb">lib/arel_toolkit.rb</a></td>
        <td class="green strong">100.0 %</td>
        <td>22</td>
        <td>16</td>
        <td>16</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
    </tbody>
  </table>
</div>


        
      </div>
    
      <div id="footer">
        Generated by <a href="http://github.com/colszowka/simplecov">simplecov</a> v0.16.1 
        and simplecov-html v0.10.2<br/>
        using /home/runner/work/arel_toolkit/arel_toolkit/Gemfile, /home/runner/work/arel_toolkit/arel_toolkit/gemfiles/active_record_6.gemfile, /home/runner/work/arel_toolkit/arel_toolkit/gemfiles/active_record_6_1.gemfile, /home/runner/work/arel_toolkit/arel_toolkit/gemfiles/arel_gems.gemfile, /home/runner/work/arel_toolkit/arel_toolkit/gemfiles/default.gemfile
      </div>
    
      <div class="source_files">
      
        <div class="source_table" id="aa649217f9e760110d046fa730661689c4494a4e">
  <div class="header">
    <h3>lib/arel/enhance.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>11</b> relevant lines. 
      <span class="green"><b>11</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">require_relative &#39;./enhance/node&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">require_relative &#39;./enhance/path&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">require_relative &#39;./enhance/path_node&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">require_relative &#39;./enhance/query&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">require_relative &#39;./enhance/query_methods&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">require_relative &#39;./enhance/visitor&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="8">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">  module Enhance</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">  def self.enhance(object, context_enhancers = Arel::Enhance::Visitor::DEFAULT_CONTEXT_ENHANCERS)</code>
        </li>
      
        <li class="covered" data-hits="3606" data-linenumber="13">
          <span class="hits">3606</span>
          
          <code class="ruby">    return object if object.is_a?(Arel::Enhance::Node)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3591" data-linenumber="15">
          <span class="hits">3591</span>
          
          <code class="ruby">    Arel::Enhance::Visitor.new.accept(object, context_enhancers)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="1c60a1a401ba95db9ee6670989bce6c7063c935a">
  <div class="header">
    <h3>lib/arel/enhance/context_enhancer/arel_table.rb</h3>
    <h4><span class="yellow">86.96 %</span> covered</h4>
    <div>
      <b>46</b> relevant lines. 
      <span class="green"><b>40</b> lines covered</span> and
      <span class="red"><b>6</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Enhance</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">    module ContextEnhancer</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">      class ArelTable</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">        # rubocop:disable Metrics/PerceivedComplexity</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">        # rubocop:disable Metrics/CyclomaticComplexity</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">        # rubocop:disable Metrics/AbcSize</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="8">
          <span class="hits">5</span>
          
          <code class="ruby">        def self.call(node)</code>
        </li>
      
        <li class="covered" data-hits="2121" data-linenumber="9">
          <span class="hits">2121</span>
          
          <code class="ruby">          context = node.context.merge!(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">            range_variable: false, column_reference: false, alias: false,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">          )</code>
        </li>
      
        <li class="covered" data-hits="2121" data-linenumber="12">
          <span class="hits">2121</span>
          
          <code class="ruby">          parent_object = node.parent.object</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">          # Using Arel::Table as SELECT ... FROM &lt;table&gt;</code>
        </li>
      
        <li class="covered" data-hits="2121" data-linenumber="15">
          <span class="hits">2121</span>
          
          <code class="ruby">          if parent_object.is_a?(Arel::Nodes::JoinSource)</code>
        </li>
      
        <li class="covered" data-hits="536" data-linenumber="16">
          <span class="hits">536</span>
          
          <code class="ruby">            context[:range_variable] = true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">          # NOTE: only applies to ActiveRecord generated Arel</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">          # which does not use Arel::Table#alias but Arel::TableAlias instead</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">          # Using Arel::Table as SELECT ... FROM &lt;table&gt; AS alias</code>
        </li>
      
        <li class="covered" data-hits="1585" data-linenumber="21">
          <span class="hits">1585</span>
          
          <code class="ruby">          elsif parent_object.is_a?(Arel::Nodes::TableAlias) &amp;&amp;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">                node.parent.parent.object.is_a?(Arel::Nodes::JoinSource)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="23">
          <span class="hits">5</span>
          
          <code class="ruby">            context[:range_variable] = true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1580" data-linenumber="25">
          <span class="hits">1580</span>
          
          <code class="ruby">          elsif parent_object.is_a?(Arel::Nodes::TableAlias) &amp;&amp;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">                node.parent.parent.parent.object.is_a?(Arel::Nodes::JoinSource)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="27">
          <span class="hits">10</span>
          
          <code class="ruby">            context[:range_variable] = true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">          # Using Arel::Table as SELECT ... FROM [&lt;table&gt;]</code>
        </li>
      
        <li class="covered" data-hits="1570" data-linenumber="30">
          <span class="hits">1570</span>
          
          <code class="ruby">          elsif parent_object.is_a?(Array) &amp;&amp;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">                node.parent.parent.object.is_a?(Arel::Nodes::JoinSource)</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="32">
          <span class="hits">30</span>
          
          <code class="ruby">            context[:range_variable] = true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">          # NOTE: only applies to ActiveRecord generated Arel</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">          # which does not use Arel::Table#alias but Arel::TableAlias instead</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">          # Using Arel::Table as SELECT ... FROM [&lt;table&gt; AS alias]</code>
        </li>
      
        <li class="covered" data-hits="1540" data-linenumber="37">
          <span class="hits">1540</span>
          
          <code class="ruby">          elsif parent_object.is_a?(Arel::Nodes::TableAlias) &amp;&amp;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">                node.parent.parent.object.is_a?(Array) &amp;&amp;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby">                node.parent.parent.parent.object.is_a?(Arel::Nodes::JoinSource)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="40">
          
          
          <code class="ruby">            context[:range_variable] = true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1540" data-linenumber="42">
          <span class="hits">1540</span>
          
          <code class="ruby">          elsif parent_object.is_a?(Arel::Nodes::TableAlias) &amp;&amp;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">                node.parent.parent.object.is_a?(Arel::Attributes::Attribute)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="44">
          
          
          <code class="ruby">            context[:column_reference] = true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1540" data-linenumber="46">
          <span class="hits">1540</span>
          
          <code class="ruby">          elsif parent_object.is_a?(Arel::Nodes::TableAlias) &amp;&amp;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby">                node.parent.parent.parent.object.is_a?(Arel::Attributes::Attribute)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="48">
          
          
          <code class="ruby">            context[:column_reference] = true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">          # Using Arel::Table as SELECT ... INNER JOIN &lt;table&gt; ON TRUE</code>
        </li>
      
        <li class="covered" data-hits="1540" data-linenumber="51">
          <span class="hits">1540</span>
          
          <code class="ruby">          elsif parent_object.is_a?(Arel::Nodes::Join)</code>
        </li>
      
        <li class="covered" data-hits="124" data-linenumber="52">
          <span class="hits">124</span>
          
          <code class="ruby">            context[:range_variable] = true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1416" data-linenumber="54">
          <span class="hits">1416</span>
          
          <code class="ruby">          elsif parent_object.is_a?(Arel::Nodes::TableAlias) &amp;&amp;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">                node.parent.parent.object.is_a?(Arel::Nodes::Join)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="56">
          
          
          <code class="ruby">            context[:range_variable] = true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1416" data-linenumber="58">
          <span class="hits">1416</span>
          
          <code class="ruby">          elsif parent_object.is_a?(Arel::Nodes::TableAlias) &amp;&amp;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">                node.parent.parent.parent.object.is_a?(Arel::Nodes::Join)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="60">
          
          
          <code class="ruby">            context[:range_variable] = true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby">          # Using Arel::Table as an attribute SELECT &lt;table&gt;.id ...</code>
        </li>
      
        <li class="covered" data-hits="1416" data-linenumber="63">
          <span class="hits">1416</span>
          
          <code class="ruby">          elsif parent_object.is_a?(Arel::Attributes::Attribute)</code>
        </li>
      
        <li class="covered" data-hits="1127" data-linenumber="64">
          <span class="hits">1127</span>
          
          <code class="ruby">            context[:column_reference] = true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby">          # Using Arel::Table in an INSERT INTO &lt;table&gt;</code>
        </li>
      
        <li class="covered" data-hits="289" data-linenumber="67">
          <span class="hits">289</span>
          
          <code class="ruby">          elsif parent_object.is_a?(Arel::Nodes::InsertStatement)</code>
        </li>
      
        <li class="covered" data-hits="86" data-linenumber="68">
          <span class="hits">86</span>
          
          <code class="ruby">            context[:range_variable] = true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby">          # Using Arel::Table in an UPDATE &lt;table&gt; ...</code>
        </li>
      
        <li class="covered" data-hits="203" data-linenumber="71">
          <span class="hits">203</span>
          
          <code class="ruby">          elsif parent_object.is_a?(Arel::Nodes::UpdateStatement)</code>
        </li>
      
        <li class="covered" data-hits="52" data-linenumber="72">
          <span class="hits">52</span>
          
          <code class="ruby">            context[:range_variable] = true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">          # Arel::Table in UPDATE ... FROM [&lt;table&gt;]</code>
        </li>
      
        <li class="covered" data-hits="151" data-linenumber="75">
          <span class="hits">151</span>
          
          <code class="ruby">          elsif parent_object.is_a?(Array) &amp;&amp;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby">                node.parent.parent.object.is_a?(Arel::Nodes::UpdateStatement)</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="77">
          <span class="hits">20</span>
          
          <code class="ruby">            context[:range_variable] = true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="79">
          
          
          <code class="ruby">          # Using Arel::Table in an DELETE FROM &lt;table&gt;</code>
        </li>
      
        <li class="covered" data-hits="131" data-linenumber="80">
          <span class="hits">131</span>
          
          <code class="ruby">          elsif parent_object.is_a?(Arel::Nodes::DeleteStatement)</code>
        </li>
      
        <li class="covered" data-hits="45" data-linenumber="81">
          <span class="hits">45</span>
          
          <code class="ruby">            context[:range_variable] = true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="83">
          
          
          <code class="ruby">          # Arel::Table in DELETE ... USING [&lt;table&gt;]</code>
        </li>
      
        <li class="covered" data-hits="86" data-linenumber="84">
          <span class="hits">86</span>
          
          <code class="ruby">          elsif parent_object.is_a?(Array) &amp;&amp;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby">                node.parent.parent.object.is_a?(Arel::Nodes::DeleteStatement)</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="86">
          <span class="hits">20</span>
          
          <code class="ruby">            context[:range_variable] = true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby">          # Using Arel::Table as an &quot;alias&quot; for WITH &lt;table&gt; AS (SELECT 1) SELECT 1</code>
        </li>
      
        <li class="covered" data-hits="66" data-linenumber="89">
          <span class="hits">66</span>
          
          <code class="ruby">          elsif parent_object.is_a?(Arel::Nodes::As) &amp;&amp;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby">                node.parent.parent.parent.object.is_a?(Arel::Nodes::With)</code>
        </li>
      
        <li class="covered" data-hits="41" data-linenumber="91">
          <span class="hits">41</span>
          
          <code class="ruby">            context[:alias] = true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="93">
          
          
          <code class="ruby">          # Using Arel::Table as an &quot;alias&quot; for WITH RECURSIVE &lt;table&gt; AS (SELECT 1) SELECT 1</code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="94">
          <span class="hits">25</span>
          
          <code class="ruby">          elsif parent_object.is_a?(Arel::Nodes::As) &amp;&amp;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby">                node.parent.parent.parent.object.is_a?(Arel::Nodes::WithRecursive)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="96">
          
          
          <code class="ruby">            context[:alias] = true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="97">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="98">
          
          
          <code class="ruby">          # Using Arel::Table as an &quot;alias&quot; for SELECT INTO &lt;table&gt; ...</code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="99">
          <span class="hits">25</span>
          
          <code class="ruby">          elsif parent_object.is_a?(Arel::Nodes::Into)</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="100">
          <span class="hits">20</span>
          
          <code class="ruby">            context[:alias] = true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="101">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="103">
          <span class="hits">5</span>
          
          <code class="ruby">            raise &quot;Unknown AST location for table #{node.inspect}, #{node.root_node.to_sql}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="104">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="106">
          
          
          <code class="ruby">        # rubocop:enable Metrics/PerceivedComplexity</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="107">
          
          
          <code class="ruby">        # rubocop:enable Metrics/CyclomaticComplexity</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="108">
          
          
          <code class="ruby">        # rubocop:enable Metrics/AbcSize</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="109">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="110">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="111">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="112">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="c1a559b082e303380dd934b23f1c5c121cdbcf3e">
  <div class="header">
    <h3>lib/arel/enhance/node.rb</h3>
    <h4><span class="green">97.76 %</span> covered</h4>
    <div>
      <b>134</b> relevant lines. 
      <span class="green"><b>131</b> lines covered</span> and
      <span class="red"><b>3</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Enhance</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">    class Node</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :local_path</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :object</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :parent</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :root_node</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(object)</code>
        </li>
      
        <li class="covered" data-hits="125754" data-linenumber="10">
          <span class="hits">125754</span>
          
          <code class="ruby">        @object = object</code>
        </li>
      
        <li class="covered" data-hits="125754" data-linenumber="11">
          <span class="hits">125754</span>
          
          <code class="ruby">        @root_node = self</code>
        </li>
      
        <li class="covered" data-hits="125754" data-linenumber="12">
          <span class="hits">125754</span>
          
          <code class="ruby">        @dirty = false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">      def inspect</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="16">
          <span class="hits">15</span>
          
          <code class="ruby">        recursive_inspect(&#39;&#39;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="19">
          <span class="hits">5</span>
          
          <code class="ruby">      def value</code>
        </li>
      
        <li class="covered" data-hits="250" data-linenumber="20">
          <span class="hits">250</span>
          
          <code class="ruby">        return unless value?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="250" data-linenumber="22">
          <span class="hits">250</span>
          
          <code class="ruby">        fields.first</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="25">
          <span class="hits">5</span>
          
          <code class="ruby">      def each(&amp;block)</code>
        </li>
      
        <li class="covered" data-hits="16812" data-linenumber="26">
          <span class="hits">16812</span>
          
          <code class="ruby">        return enum_for(:each) unless block_given?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="16386" data-linenumber="28">
          <span class="hits">16386</span>
          
          <code class="ruby">        yield self</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="16386" data-linenumber="30">
          <span class="hits">16386</span>
          
          <code class="ruby">        children.each_value do |child|</code>
        </li>
      
        <li class="covered" data-hits="15960" data-linenumber="31">
          <span class="hits">15960</span>
          
          <code class="ruby">          child.each(&amp;block)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="35">
          <span class="hits">5</span>
          
          <code class="ruby">      def value?</code>
        </li>
      
        <li class="covered" data-hits="855" data-linenumber="36">
          <span class="hits">855</span>
          
          <code class="ruby">        children.empty?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="39">
          <span class="hits">5</span>
          
          <code class="ruby">      def dirty?</code>
        </li>
      
        <li class="covered" data-hits="171" data-linenumber="40">
          <span class="hits">171</span>
          
          <code class="ruby">        root_node.instance_values.fetch(&#39;dirty&#39;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="43">
          <span class="hits">5</span>
          
          <code class="ruby">      def remove</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="44">
          <span class="hits">30</span>
          
          <code class="ruby">        mutate(nil, remove: true)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="47">
          <span class="hits">5</span>
          
          <code class="ruby">      def replace(new_arel_node)</code>
        </li>
      
        <li class="covered" data-hits="131" data-linenumber="48">
          <span class="hits">131</span>
          
          <code class="ruby">        mutate(new_arel_node)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="51">
          <span class="hits">5</span>
          
          <code class="ruby">      def add(path_node, node)</code>
        </li>
      
        <li class="covered" data-hits="122319" data-linenumber="52">
          <span class="hits">122319</span>
          
          <code class="ruby">        node.local_path = path_node</code>
        </li>
      
        <li class="covered" data-hits="122319" data-linenumber="53">
          <span class="hits">122319</span>
          
          <code class="ruby">        node.parent = self</code>
        </li>
      
        <li class="covered" data-hits="122319" data-linenumber="54">
          <span class="hits">122319</span>
          
          <code class="ruby">        node.root_node = root_node</code>
        </li>
      
        <li class="covered" data-hits="122319" data-linenumber="55">
          <span class="hits">122319</span>
          
          <code class="ruby">        children[path_node.value.to_s] = node</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="58">
          <span class="hits">5</span>
          
          <code class="ruby">      def to_sql(engine = Table.engine)</code>
        </li>
      
        <li class="covered" data-hits="796" data-linenumber="59">
          <span class="hits">796</span>
          
          <code class="ruby">        return nil if children.empty?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="561" data-linenumber="61">
          <span class="hits">561</span>
          
          <code class="ruby">        if object.respond_to?(:to_sql)</code>
        </li>
      
        <li class="covered" data-hits="441" data-linenumber="62">
          <span class="hits">441</span>
          
          <code class="ruby">          object.to_sql(engine)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="120" data-linenumber="64">
          <span class="hits">120</span>
          
          <code class="ruby">          collector = Arel::Collectors::SQLString.new</code>
        </li>
      
        <li class="covered" data-hits="120" data-linenumber="65">
          <span class="hits">120</span>
          
          <code class="ruby">          collector = engine.connection.visitor.accept object, collector</code>
        </li>
      
        <li class="covered" data-hits="120" data-linenumber="66">
          <span class="hits">120</span>
          
          <code class="ruby">          collector.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="70">
          <span class="hits">5</span>
          
          <code class="ruby">      def to_sql_and_binds(engine = Table.engine)</code>
        </li>
      
        <li class="covered" data-hits="226" data-linenumber="71">
          <span class="hits">226</span>
          
          <code class="ruby">        object.to_sql_and_binds(engine)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="74">
          <span class="hits">5</span>
          
          <code class="ruby">      def method_missing(name, *args, &amp;block)</code>
        </li>
      
        <li class="covered" data-hits="71" data-linenumber="75">
          <span class="hits">71</span>
          
          <code class="ruby">        child = children[name.to_s]</code>
        </li>
      
        <li class="covered" data-hits="71" data-linenumber="76">
          <span class="hits">71</span>
          
          <code class="ruby">        return super if child.nil?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="66" data-linenumber="78">
          <span class="hits">66</span>
          
          <code class="ruby">        child</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="79">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="80">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="81">
          <span class="hits">5</span>
          
          <code class="ruby">      def respond_to_missing?(method, include_private = false)</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="82">
          <span class="hits">20</span>
          
          <code class="ruby">        child = children[method.to_s]</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="83">
          <span class="hits">20</span>
          
          <code class="ruby">        child.present? || super</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="84">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="86">
          <span class="hits">5</span>
          
          <code class="ruby">      def [](key)</code>
        </li>
      
        <li class="covered" data-hits="1406" data-linenumber="87">
          <span class="hits">1406</span>
          
          <code class="ruby">        children.fetch(key.to_s)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="89">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="90">
          <span class="hits">5</span>
          
          <code class="ruby">      def child_at_path(path_items)</code>
        </li>
      
        <li class="covered" data-hits="155" data-linenumber="91">
          <span class="hits">155</span>
          
          <code class="ruby">        selected_node = self</code>
        </li>
      
        <li class="covered" data-hits="155" data-linenumber="92">
          <span class="hits">155</span>
          
          <code class="ruby">        path_items.each do |path_item|</code>
        </li>
      
        <li class="covered" data-hits="745" data-linenumber="93">
          <span class="hits">745</span>
          
          <code class="ruby">          selected_node = selected_node[path_item]</code>
        </li>
      
        <li class="covered" data-hits="745" data-linenumber="94">
          <span class="hits">745</span>
          
          <code class="ruby">          return nil if selected_node.nil?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="covered" data-hits="155" data-linenumber="96">
          <span class="hits">155</span>
          
          <code class="ruby">        selected_node</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="97">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="98">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="99">
          <span class="hits">5</span>
          
          <code class="ruby">      def query(**kwargs)</code>
        </li>
      
        <li class="covered" data-hits="391" data-linenumber="100">
          <span class="hits">391</span>
          
          <code class="ruby">        Arel::Enhance::Query.call(self, kwargs)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="101">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="103">
          <span class="hits">5</span>
          
          <code class="ruby">      def full_path</code>
        </li>
      
        <li class="covered" data-hits="395" data-linenumber="104">
          <span class="hits">395</span>
          
          <code class="ruby">        the_path = [local_path]</code>
        </li>
      
        <li class="covered" data-hits="395" data-linenumber="105">
          <span class="hits">395</span>
          
          <code class="ruby">        current_parent = parent</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="106">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="395" data-linenumber="107">
          <span class="hits">395</span>
          
          <code class="ruby">        while current_parent</code>
        </li>
      
        <li class="covered" data-hits="2070" data-linenumber="108">
          <span class="hits">2070</span>
          
          <code class="ruby">          the_path.unshift current_parent.local_path</code>
        </li>
      
        <li class="covered" data-hits="2070" data-linenumber="109">
          <span class="hits">2070</span>
          
          <code class="ruby">          current_parent = current_parent.parent</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="110">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="111">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="395" data-linenumber="112">
          <span class="hits">395</span>
          
          <code class="ruby">        the_path.compact</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="113">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="114">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="115">
          <span class="hits">5</span>
          
          <code class="ruby">      def children</code>
        </li>
      
        <li class="covered" data-hits="148223" data-linenumber="116">
          <span class="hits">148223</span>
          
          <code class="ruby">        @children ||= {}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="117">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="118">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="119">
          <span class="hits">5</span>
          
          <code class="ruby">      def fields</code>
        </li>
      
        <li class="covered" data-hits="69452" data-linenumber="120">
          <span class="hits">69452</span>
          
          <code class="ruby">        @fields ||= []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="121">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="122">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="123">
          <span class="hits">5</span>
          
          <code class="ruby">      def context</code>
        </li>
      
        <li class="covered" data-hits="5601" data-linenumber="124">
          <span class="hits">5601</span>
          
          <code class="ruby">        @context ||= {}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="126">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="127">
          <span class="hits">5</span>
          
          <code class="ruby">      protected</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="128">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="129">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_writer :local_path</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="130">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_writer :parent</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="131">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_writer :root_node</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="132">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="133">
          
          
          <code class="ruby">      # rubocop:disable Metrics/AbcSize</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="134">
          
          
          <code class="ruby">      # rubocop:disable Metrics/CyclomaticComplexity</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="135">
          
          
          <code class="ruby">      # rubocop:disable Metrics/PerceivedComplexity</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="136">
          <span class="hits">5</span>
          
          <code class="ruby">      def recursive_inspect(string, indent = 1)</code>
        </li>
      
        <li class="covered" data-hits="370" data-linenumber="137">
          <span class="hits">370</span>
          
          <code class="ruby">        string &lt;&lt; &quot;&lt;#{inspect_name} #{full_path.inspect}\n&quot;</code>
        </li>
      
        <li class="covered" data-hits="370" data-linenumber="138">
          <span class="hits">370</span>
          
          <code class="ruby">        string &lt;&lt; &quot;#{spacing(indent)}sql = #{to_sql}\n&quot; unless to_sql.nil?</code>
        </li>
      
        <li class="covered" data-hits="370" data-linenumber="139">
          <span class="hits">370</span>
          
          <code class="ruby">        string &lt;&lt; &quot;#{spacing(indent)}parent = #{parent.nil? ? nil.inspect : parent.inspect_name}&quot;</code>
        </li>
      
        <li class="covered" data-hits="370" data-linenumber="140">
          <span class="hits">370</span>
          
          <code class="ruby">        string &lt;&lt; &quot;\n&quot; unless children.length.zero?</code>
        </li>
      
        <li class="covered" data-hits="370" data-linenumber="141">
          <span class="hits">370</span>
          
          <code class="ruby">        children.each do |key, child|</code>
        </li>
      
        <li class="covered" data-hits="355" data-linenumber="142">
          <span class="hits">355</span>
          
          <code class="ruby">          string &lt;&lt; &quot;#{spacing(indent)}#{key} =\n&quot;</code>
        </li>
      
        <li class="covered" data-hits="355" data-linenumber="143">
          <span class="hits">355</span>
          
          <code class="ruby">          string &lt;&lt; spacing(indent + 1)</code>
        </li>
      
        <li class="covered" data-hits="355" data-linenumber="144">
          <span class="hits">355</span>
          
          <code class="ruby">          child.recursive_inspect(string, indent + 2)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="145">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="covered" data-hits="370" data-linenumber="146">
          <span class="hits">370</span>
          
          <code class="ruby">        string &lt;&lt; &quot;\n&quot; if children.length.zero? &amp;&amp; value?</code>
        </li>
      
        <li class="covered" data-hits="370" data-linenumber="147">
          <span class="hits">370</span>
          
          <code class="ruby">        string &lt;&lt; &quot;#{spacing(indent)}value = #{value.inspect}&quot; if value?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="148">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="370" data-linenumber="149">
          <span class="hits">370</span>
          
          <code class="ruby">        string &lt;&lt; if children.length.zero?</code>
        </li>
      
        <li class="covered" data-hits="235" data-linenumber="150">
          <span class="hits">235</span>
          
          <code class="ruby">                    &quot;&gt;\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="151">
          
          
          <code class="ruby">                  else</code>
        </li>
      
        <li class="covered" data-hits="135" data-linenumber="152">
          <span class="hits">135</span>
          
          <code class="ruby">                    &quot;#{spacing(indent - 1)}&gt;\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="153">
          
          
          <code class="ruby">                  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="154">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="155">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="156">
          
          
          <code class="ruby">      # rubocop:enable Metrics/AbcSize</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="157">
          
          
          <code class="ruby">      # rubocop:enable Metrics/CyclomaticComplexity</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="158">
          
          
          <code class="ruby">      # rubocop:enable Metrics/PerceivedComplexity</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="159">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_writer :object</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="160">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="161">
          <span class="hits">5</span>
          
          <code class="ruby">      def inspect_name</code>
        </li>
      
        <li class="covered" data-hits="730" data-linenumber="162">
          <span class="hits">730</span>
          
          <code class="ruby">        &quot;Node(#{object.class.name})&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="163">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="164">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="165">
          <span class="hits">5</span>
          
          <code class="ruby">      def spacing(indent)</code>
        </li>
      
        <li class="covered" data-hits="1585" data-linenumber="166">
          <span class="hits">1585</span>
          
          <code class="ruby">        indent.times.reduce(&#39;&#39;) do |memo|</code>
        </li>
      
        <li class="covered" data-hits="17275" data-linenumber="167">
          <span class="hits">17275</span>
          
          <code class="ruby">          memo &lt;&lt; &#39;  &#39;</code>
        </li>
      
        <li class="covered" data-hits="17275" data-linenumber="168">
          <span class="hits">17275</span>
          
          <code class="ruby">          memo</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="169">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="170">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="171">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="172">
          <span class="hits">5</span>
          
          <code class="ruby">      def deep_copy_object</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="173">
          
          
          <code class="ruby">        # https://github.com/mvgijssel/arel_toolkit/issues/97</code>
        </li>
      
        <li class="covered" data-hits="141" data-linenumber="174">
          <span class="hits">141</span>
          
          <code class="ruby">        new_object = Marshal.load(Marshal.dump(object))</code>
        </li>
      
        <li class="covered" data-hits="141" data-linenumber="175">
          <span class="hits">141</span>
          
          <code class="ruby">        self.object = new_object</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="176">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="141" data-linenumber="177">
          <span class="hits">141</span>
          
          <code class="ruby">        recursive_update_object(new_object)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="178">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="179">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="180">
          <span class="hits">5</span>
          
          <code class="ruby">      def recursive_update_object(arel_tree)</code>
        </li>
      
        <li class="covered" data-hits="4890" data-linenumber="181">
          <span class="hits">4890</span>
          
          <code class="ruby">        children.each_value do |child|</code>
        </li>
      
        <li class="covered" data-hits="4749" data-linenumber="182">
          <span class="hits">4749</span>
          
          <code class="ruby">          tree_child = arel_tree.send(*child.local_path.method)</code>
        </li>
      
        <li class="covered" data-hits="4749" data-linenumber="183">
          <span class="hits">4749</span>
          
          <code class="ruby">          child.object = tree_child</code>
        </li>
      
        <li class="covered" data-hits="4749" data-linenumber="184">
          <span class="hits">4749</span>
          
          <code class="ruby">          child.recursive_update_object(tree_child)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="185">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="186">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="187">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="188">
          <span class="hits">5</span>
          
          <code class="ruby">      def mark_as_dirty</code>
        </li>
      
        <li class="covered" data-hits="161" data-linenumber="189">
          <span class="hits">161</span>
          
          <code class="ruby">        return if dirty?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="190">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="141" data-linenumber="191">
          <span class="hits">141</span>
          
          <code class="ruby">        @dirty = true</code>
        </li>
      
        <li class="covered" data-hits="141" data-linenumber="192">
          <span class="hits">141</span>
          
          <code class="ruby">        deep_copy_object</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="193">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="194">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="195">
          <span class="hits">5</span>
          
          <code class="ruby">      private</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="196">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="197">
          
          
          <code class="ruby">      # rubocop:disable Metrics/PerceivedComplexity</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="198">
          
          
          <code class="ruby">      # rubocop:disable Metrics/CyclomaticComplexity</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="199">
          
          
          <code class="ruby">      # rubocop:disable Metrics/AbcSize</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="200">
          <span class="hits">5</span>
          
          <code class="ruby">      def mutate(new_node, remove: false)</code>
        </li>
      
        <li class="covered" data-hits="161" data-linenumber="201">
          <span class="hits">161</span>
          
          <code class="ruby">        root_node.mark_as_dirty</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="202">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="161" data-linenumber="203">
          <span class="hits">161</span>
          
          <code class="ruby">        parent_object = parent.object</code>
        </li>
      
        <li class="covered" data-hits="161" data-linenumber="204">
          <span class="hits">161</span>
          
          <code class="ruby">        new_arel_node = new_node.is_a?(Arel::Enhance::Node) ? new_node.object : new_node</code>
        </li>
      
        <li class="covered" data-hits="161" data-linenumber="205">
          <span class="hits">161</span>
          
          <code class="ruby">        new_arel_node = [] if remove &amp;&amp; object.is_a?(Array)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="206">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="161" data-linenumber="207">
          <span class="hits">161</span>
          
          <code class="ruby">        if parent_object.respond_to?(&quot;#{local_path.value}=&quot;)</code>
        </li>
      
        <li class="covered" data-hits="141" data-linenumber="208">
          <span class="hits">141</span>
          
          <code class="ruby">          parent_object.send(&quot;#{local_path.value}=&quot;, new_arel_node)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="209">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="210">
          <span class="hits">20</span>
          
          <code class="ruby">        elsif parent_object.instance_values.key?(local_path.value)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="211">
          <span class="hits">5</span>
          
          <code class="ruby">          parent_object.instance_variable_set(&quot;@#{local_path.value}&quot;, new_arel_node)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="212">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="213">
          <span class="hits">15</span>
          
          <code class="ruby">        elsif local_path.arguments? &amp;&amp; parent_object.respond_to?(local_path.method[0])</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="214">
          <span class="hits">15</span>
          
          <code class="ruby">          if remove</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="215">
          <span class="hits">10</span>
          
          <code class="ruby">            parent_object.delete_at(local_path.value)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="216">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="217">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="218">
          <span class="hits">5</span>
          
          <code class="ruby">            parent_object[local_path.value] = new_arel_node</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="219">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="220">
          
          
          <code class="ruby">        elsif parent_object.is_a?(Arel::Nodes::TableAlias) &amp;&amp; local_path.value == &#39;relation&#39;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="221">
          
          
          <code class="ruby">          parent_object.instance_variable_set(&#39;@left&#39;, new_arel_node)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="222">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="223">
          
          
          <code class="ruby">          raise &quot;Don&#39;t know how to replace `#{local_path.value}` in #{parent_object.inspect}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="224">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="225">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="161" data-linenumber="226">
          <span class="hits">161</span>
          
          <code class="ruby">        if new_node.is_a?(Arel::Enhance::Node)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="227">
          <span class="hits">5</span>
          
          <code class="ruby">          parent.add(local_path, new_node)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="228">
          <span class="hits">5</span>
          
          <code class="ruby">          parent[local_path.value]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="229">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="156" data-linenumber="230">
          <span class="hits">156</span>
          
          <code class="ruby">          new_parent_tree = Visitor.new.accept_with_root(parent_object, parent)</code>
        </li>
      
        <li class="covered" data-hits="151" data-linenumber="231">
          <span class="hits">151</span>
          
          <code class="ruby">          parent.parent.add(parent.local_path, new_parent_tree)</code>
        </li>
      
        <li class="covered" data-hits="151" data-linenumber="232">
          <span class="hits">151</span>
          
          <code class="ruby">          new_parent_tree[local_path.value]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="233">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="234">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="235">
          
          
          <code class="ruby">      # rubocop:enable Metrics/PerceivedComplexity</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="236">
          
          
          <code class="ruby">      # rubocop:enable Metrics/CyclomaticComplexity</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="237">
          
          
          <code class="ruby">      # rubocop:enable Metrics/AbcSize</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="238">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="239">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="240">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="88da2e1c8ddddf838ba5cc90d2ca9864cc528255">
  <div class="header">
    <h3>lib/arel/enhance/path.rb</h3>
    <h4><span class="red">45.45 %</span> covered</h4>
    <div>
      <b>22</b> relevant lines. 
      <span class="green"><b>10</b> lines covered</span> and
      <span class="red"><b>12</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Enhance</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">    class Path</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(nodes = [])</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="7">
          
          
          <code class="ruby">        @nodes = nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">      def append(path_node)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="11">
          
          
          <code class="ruby">        Path.new(nodes + [path_node])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">      def dig_send(object)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="15">
          
          
          <code class="ruby">        selected_object = object</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="16">
          
          
          <code class="ruby">        nodes.each do |path_node|</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="17">
          
          
          <code class="ruby">          selected_object = selected_object.send(*path_node.method)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="19">
          
          
          <code class="ruby">        selected_object</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="22">
          <span class="hits">5</span>
          
          <code class="ruby">      def to_a</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="23">
          
          
          <code class="ruby">        nodes.map(&amp;:value)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="26">
          <span class="hits">5</span>
          
          <code class="ruby">      def current</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="27">
          
          
          <code class="ruby">        nodes.last</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="30">
          <span class="hits">5</span>
          
          <code class="ruby">      def inspect</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="31">
          
          
          <code class="ruby">        nodes.inspect</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="32">
          
          
          <code class="ruby">        string = &#39;[&#39;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="33">
          
          
          <code class="ruby">        string &lt;&lt; nodes.map(&amp;:inspect).join(&#39;, &#39;)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="34">
          
          
          <code class="ruby">        string &lt;&lt; &#39;]&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="26872b0876dff5d4117ebdfa939a9c328fada54e">
  <div class="header">
    <h3>lib/arel/enhance/path_node.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>14</b> relevant lines. 
      <span class="green"><b>14</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Enhance</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">    class PathNode</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :method</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(method, value)</code>
        </li>
      
        <li class="covered" data-hits="122163" data-linenumber="8">
          <span class="hits">122163</span>
          
          <code class="ruby">        @method = method</code>
        </li>
      
        <li class="covered" data-hits="122163" data-linenumber="9">
          <span class="hits">122163</span>
          
          <code class="ruby">        @value = value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">      def arguments?</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="13">
          <span class="hits">15</span>
          
          <code class="ruby">        method.is_a?(Array)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="16">
          <span class="hits">5</span>
          
          <code class="ruby">      def inspect</code>
        </li>
      
        <li class="covered" data-hits="1960" data-linenumber="17">
          <span class="hits">1960</span>
          
          <code class="ruby">        case value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">        when String</code>
        </li>
      
        <li class="covered" data-hits="1320" data-linenumber="19">
          <span class="hits">1320</span>
          
          <code class="ruby">          &quot;&#39;#{value}&#39;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="640" data-linenumber="21">
          <span class="hits">640</span>
          
          <code class="ruby">          value.inspect</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="a9a0bb856498e8a7e7caa3ec461d7ecadc59d5bf">
  <div class="header">
    <h3>lib/arel/enhance/query.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>20</b> relevant lines. 
      <span class="green"><b>20</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Enhance</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">    class Query</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">      def self.call(node, kwargs)</code>
        </li>
      
        <li class="covered" data-hits="391" data-linenumber="5">
          <span class="hits">391</span>
          
          <code class="ruby">        node_attributes = %i[context parent]</code>
        </li>
      
        <li class="covered" data-hits="391" data-linenumber="6">
          <span class="hits">391</span>
          
          <code class="ruby">        node_args = kwargs.slice(*node_attributes)</code>
        </li>
      
        <li class="covered" data-hits="391" data-linenumber="7">
          <span class="hits">391</span>
          
          <code class="ruby">        object_args = kwargs.except(*node_attributes)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="391" data-linenumber="9">
          <span class="hits">391</span>
          
          <code class="ruby">        node.each.select do |child_node|</code>
        </li>
      
        <li class="covered" data-hits="15451" data-linenumber="10">
          <span class="hits">15451</span>
          
          <code class="ruby">          next unless matches?(child_node, node_args)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="12041" data-linenumber="12">
          <span class="hits">12041</span>
          
          <code class="ruby">          matches?(child_node.object, object_args)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="16">
          <span class="hits">5</span>
          
          <code class="ruby">      def self.matches?(object, test)</code>
        </li>
      
        <li class="covered" data-hits="43118" data-linenumber="17">
          <span class="hits">43118</span>
          
          <code class="ruby">        case test</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">        when Hash</code>
        </li>
      
        <li class="covered" data-hits="31107" data-linenumber="19">
          <span class="hits">31107</span>
          
          <code class="ruby">          case object</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">          when Hash</code>
        </li>
      
        <li class="covered" data-hits="3375" data-linenumber="21">
          <span class="hits">3375</span>
          
          <code class="ruby">            test &lt;= object</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="27732" data-linenumber="23">
          <span class="hits">27732</span>
          
          <code class="ruby">            test.all? do |test_key, test_value|</code>
        </li>
      
        <li class="covered" data-hits="15876" data-linenumber="24">
          <span class="hits">15876</span>
          
          <code class="ruby">              next false unless object.respond_to?(test_key)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="15626" data-linenumber="26">
          <span class="hits">15626</span>
          
          <code class="ruby">              object_attribute_value = object.public_send(test_key)</code>
        </li>
      
        <li class="covered" data-hits="15626" data-linenumber="27">
          <span class="hits">15626</span>
          
          <code class="ruby">              matches? object_attribute_value, test_value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">        when Arel::Enhance::QueryMethods::QueryMethod</code>
        </li>
      
        <li class="covered" data-hits="2535" data-linenumber="31">
          <span class="hits">2535</span>
          
          <code class="ruby">          test.matches?(object)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="9476" data-linenumber="33">
          <span class="hits">9476</span>
          
          <code class="ruby">          object == test</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="07758b56e992dadaef5439916e63555c44b5afe8">
  <div class="header">
    <h3>lib/arel/enhance/query_methods.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>12</b> relevant lines. 
      <span class="green"><b>12</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Enhance</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">    module QueryMethods</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">      class QueryMethod</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">        attr_reader :subject</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">        def initialize(subject)</code>
        </li>
      
        <li class="covered" data-hits="75" data-linenumber="8">
          <span class="hits">75</span>
          
          <code class="ruby">          @subject = subject</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">      class Ancestors &lt; QueryMethod</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">        def matches?(other)</code>
        </li>
      
        <li class="covered" data-hits="2535" data-linenumber="14">
          <span class="hits">2535</span>
          
          <code class="ruby">          other &lt;= subject</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">      def self.in_ancestors?(object)</code>
        </li>
      
        <li class="covered" data-hits="75" data-linenumber="19">
          <span class="hits">75</span>
          
          <code class="ruby">        Ancestors.new(object)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="12d8a83fedd7b989da56e2a3cb9858d3a49ec9c4">
  <div class="header">
    <h3>lib/arel/enhance/visitor.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>49</b> relevant lines. 
      <span class="green"><b>49</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">require_relative &#39;./context_enhancer/arel_table&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">  module Enhance</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">    # rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class Visitor &lt; Arel::Visitors::Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">      DEFAULT_CONTEXT_ENHANCERS = {</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">        Arel::Table =&gt; Arel::Enhance::ContextEnhancer::ArelTable,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">      }.freeze</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :context_enhancers</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">      def accept(object, context_enhancers = DEFAULT_CONTEXT_ENHANCERS)</code>
        </li>
      
        <li class="covered" data-hits="3591" data-linenumber="14">
          <span class="hits">3591</span>
          
          <code class="ruby">        @context_enhancers = context_enhancers</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3591" data-linenumber="16">
          <span class="hits">3591</span>
          
          <code class="ruby">        root_node = Arel::Enhance::Node.new(object)</code>
        </li>
      
        <li class="covered" data-hits="3591" data-linenumber="17">
          <span class="hits">3591</span>
          
          <code class="ruby">        accept_with_root(object, root_node, context_enhancers)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="20">
          <span class="hits">5</span>
          
          <code class="ruby">      def accept_with_root(object, root_node, context_enhancers = DEFAULT_CONTEXT_ENHANCERS)</code>
        </li>
      
        <li class="covered" data-hits="3747" data-linenumber="21">
          <span class="hits">3747</span>
          
          <code class="ruby">        @context_enhancers = context_enhancers</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3747" data-linenumber="23">
          <span class="hits">3747</span>
          
          <code class="ruby">        with_node(root_node) do</code>
        </li>
      
        <li class="covered" data-hits="3747" data-linenumber="24">
          <span class="hits">3747</span>
          
          <code class="ruby">          visit object</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3742" data-linenumber="27">
          <span class="hits">3742</span>
          
          <code class="ruby">        root_node</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="30">
          <span class="hits">5</span>
          
          <code class="ruby">      private</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="32">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_edge(object, method)</code>
        </li>
      
        <li class="covered" data-hits="109305" data-linenumber="33">
          <span class="hits">109305</span>
          
          <code class="ruby">        arel_node = object.send(method)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="109305" data-linenumber="35">
          <span class="hits">109305</span>
          
          <code class="ruby">        process_node(arel_node, Arel::Enhance::PathNode.new(method, method))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="38">
          <span class="hits">5</span>
          
          <code class="ruby">      def nary(object)</code>
        </li>
      
        <li class="covered" data-hits="343" data-linenumber="39">
          <span class="hits">343</span>
          
          <code class="ruby">        visit_edge(object, &#39;children&#39;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="41">
          <span class="hits">5</span>
          
          <code class="ruby">      alias visit_Arel_Nodes_And nary</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="43">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Hash(object)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="44">
          <span class="hits">5</span>
          
          <code class="ruby">        object.each do |key, child|</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="45">
          <span class="hits">5</span>
          
          <code class="ruby">          process_node(child, Arel::Enhance::PathNode.new([:[], key], key))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="49">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Array(object)</code>
        </li>
      
        <li class="covered" data-hits="26178" data-linenumber="50">
          <span class="hits">26178</span>
          
          <code class="ruby">        object.each_with_index do |child, index|</code>
        </li>
      
        <li class="covered" data-hits="12853" data-linenumber="51">
          <span class="hits">12853</span>
          
          <code class="ruby">          process_node(child, Arel::Enhance::PathNode.new([:[], index], index))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="55">
          <span class="hits">5</span>
          
          <code class="ruby">      def process_node(arel_node, path_node)</code>
        </li>
      
        <li class="covered" data-hits="122163" data-linenumber="56">
          <span class="hits">122163</span>
          
          <code class="ruby">        node = Arel::Enhance::Node.new(arel_node)</code>
        </li>
      
        <li class="covered" data-hits="122163" data-linenumber="57">
          <span class="hits">122163</span>
          
          <code class="ruby">        current_node.add(path_node, node)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="122163" data-linenumber="59">
          <span class="hits">122163</span>
          
          <code class="ruby">        update_context(node)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="122158" data-linenumber="61">
          <span class="hits">122158</span>
          
          <code class="ruby">        with_node node do</code>
        </li>
      
        <li class="covered" data-hits="122158" data-linenumber="62">
          <span class="hits">122158</span>
          
          <code class="ruby">          visit arel_node</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="64">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby">      # rubocop:disable Metrics/AbcSize</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby">      # arel/lib/arel/visitors/visitor.rb:29</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="68">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit(object)</code>
        </li>
      
        <li class="covered" data-hits="127652" data-linenumber="69">
          <span class="hits">127652</span>
          
          <code class="ruby">        dispatch_method = dispatch[object.class]</code>
        </li>
      
        <li class="covered" data-hits="127652" data-linenumber="70">
          <span class="hits">127652</span>
          
          <code class="ruby">        send dispatch_method, object</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby">      rescue NoMethodError =&gt; e</code>
        </li>
      
        <li class="covered" data-hits="1747" data-linenumber="72">
          <span class="hits">1747</span>
          
          <code class="ruby">        raise e if respond_to?(dispatch_method, true)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1747" data-linenumber="74">
          <span class="hits">1747</span>
          
          <code class="ruby">        superklass = object.class.ancestors.find do |klass|</code>
        </li>
      
        <li class="covered" data-hits="3801" data-linenumber="75">
          <span class="hits">3801</span>
          
          <code class="ruby">          respond_to?(dispatch[klass], true)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="covered" data-hits="1747" data-linenumber="77">
          <span class="hits">1747</span>
          
          <code class="ruby">        raise(TypeError, &quot;Cannot visit #{object.class}&quot;) unless superklass</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1747" data-linenumber="79">
          <span class="hits">1747</span>
          
          <code class="ruby">        dispatch[object.class] = dispatch[superklass]</code>
        </li>
      
        <li class="covered" data-hits="1747" data-linenumber="80">
          <span class="hits">1747</span>
          
          <code class="ruby">        retry</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="81">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby">      # rubocop:enable Metrics/AbcSize</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="83">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="84">
          <span class="hits">5</span>
          
          <code class="ruby">      def current_node</code>
        </li>
      
        <li class="covered" data-hits="122163" data-linenumber="85">
          <span class="hits">122163</span>
          
          <code class="ruby">        @node_stack.last</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="86">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="88">
          <span class="hits">5</span>
          
          <code class="ruby">      def update_context(node)</code>
        </li>
      
        <li class="covered" data-hits="122163" data-linenumber="89">
          <span class="hits">122163</span>
          
          <code class="ruby">        enhancer = context_enhancers[node.object.class]</code>
        </li>
      
        <li class="covered" data-hits="122163" data-linenumber="90">
          <span class="hits">122163</span>
          
          <code class="ruby">        return if enhancer.nil?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="91">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2121" data-linenumber="92">
          <span class="hits">2121</span>
          
          <code class="ruby">        enhancer.call(node)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="93">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="94">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby">    # rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="97">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="011473514f5266d31032b6da3272a150fa6f9be9">
  <div class="header">
    <h3>lib/arel/extensions.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>117</b> relevant lines. 
      <span class="green"><b>117</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/dot&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/unknown&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/time_with_precision&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/current_time&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/current_date&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/current_timestamp&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/local_time&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="8">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/local_timestamp&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/current_role&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/current_user&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/session_user&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/user&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/current_catalog&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/current_schema&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/array&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="16">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/indirection&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="17">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/bit_string&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/natural_join&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="19">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/cross_join&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="20">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/lateral&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="21">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/range_function&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="22">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/with_ordinality&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="23">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/table&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="24">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/attributes_attribute&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="25">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/row&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="26">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/ordering&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="27">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/all&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="28">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/any&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="29">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/array_subselect&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="30">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/type_cast&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="31">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/distinct_from&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="32">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/not_distinct_from&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="33">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/null_if&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="34">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/similar&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="35">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/not_similar&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="36">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/not_between&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="37">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/between_symmetric&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="38">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/not_between_symmetric&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="39">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/function&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="40">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/factorial&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="41">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/square_root&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="42">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/cube_root&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="43">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/modulo&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="44">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/absolute&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="45">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/bitwise_xor&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="46">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/exponentiation&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="48">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/contains&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="49">
          <span class="hits">5</span>
          
          <code class="ruby">unless Gem.loaded_specs.key?(&#39;postgres_ext&#39;)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="50">
          <span class="hits">4</span>
          
          <code class="ruby">  require &#39;arel/extensions/contained_within_equals&#39;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="51">
          <span class="hits">4</span>
          
          <code class="ruby">  require &#39;arel/extensions/contains_equals&#39;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="52">
          <span class="hits">4</span>
          
          <code class="ruby">  require &#39;arel/extensions/overlap&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="55">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/contained_by&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="56">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/select_statement&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="57">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/insert_statement&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="58">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/default_values&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="59">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/conflict&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="60">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/infer&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="61">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/set_to_default&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="62">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/update_statement&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="63">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/current_of_expression&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="64">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/delete_statement&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="65">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/least&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="66">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/greatest&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="67">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/coalesce&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="68">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/not_equal&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="69">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/equality&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="70">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/named_function&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="71">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/intersect_all&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="72">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/except_all&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="73">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/select_manager&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="74">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/insert_manager&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="75">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/update_manager&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="76">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/delete_manager&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="77">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/at_time_zone&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="78">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/extract_from&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="79">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/json_get_object&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="80">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/json_get_field&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="81">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/json_path_get_object&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="82">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/json_path_get_field&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="83">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/jsonb_key_exists&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="84">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/jsonb_any_key_exists&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="85">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/jsonb_all_key_exists&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="86">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/transaction&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="87">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/assignment&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="88">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/variable_set&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="89">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/variable_show&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="90">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/position&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="91">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/overlay&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="92">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/substring&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="93">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/overlaps&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="94">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/trim&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="95">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/named_argument&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="96">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/tree_manager&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="97">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/into&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="98">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/select_core&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="99">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/unary&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="100">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/binary&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="101">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/unary_operation&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="102">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/infix_operation&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="103">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/values_list&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="104">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/case&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="105">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/current_row&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="106">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/false&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="107">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/true&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="108">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/to_sql&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="109">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/prepare&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="110">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/dealocate&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="111">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/active_record_type_caster_map&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="112">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/active_record_type_caster_connection&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="113">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/active_record_relation_query_attribute&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="114">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/active_model_attribute_with_cast_value&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="115">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/exists&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="116">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/bind_param&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="117">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/node&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="118">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions/top&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="119">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="120">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="121">
          <span class="hits">5</span>
          
          <code class="ruby">  module Extensions</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="122">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="123">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="83c514fa69636719fc0ec1002bd953fac0d0849b">
  <div class="header">
    <h3>lib/arel/extensions/absolute.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>5</b> relevant lines. 
      <span class="green"><b>5</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/9.4/functions-math.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">    class Absolute &lt; Arel::Nodes::UnaryOperation</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(operand)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="6">
          <span class="hits">10</span>
          
          <code class="ruby">        super(&#39;@&#39;, operand)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="7e9ce36d38759cb9c33d617b2779186fe01dff25">
  <div class="header">
    <h3>lib/arel/extensions/active_model_attribute_with_cast_value.rb</h3>
    <h4><span class="yellow">88.89 %</span> covered</h4>
    <div>
      <b>9</b> relevant lines. 
      <span class="green"><b>8</b> lines covered</span> and
      <span class="red"><b>1</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_ActiveModel_Attribute_WithCastValue(o)</code>
        </li>
      
        <li class="covered" data-hits="149" data-linenumber="8">
          <span class="hits">149</span>
          
          <code class="ruby">        visit_edge o, &#39;name&#39;</code>
        </li>
      
        <li class="covered" data-hits="149" data-linenumber="9">
          <span class="hits">149</span>
          
          <code class="ruby">        visit_edge o, &#39;value_before_type_cast&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_ActiveModel_Attribute_WithCastValue(_o, collector)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="15">
          
          
          <code class="ruby">        collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="8127b312af3efb8fd1b222163199795613640f8b">
  <div class="header">
    <h3>lib/arel/extensions/active_record_relation_query_attribute.rb</h3>
    <h4><span class="yellow">88.89 %</span> covered</h4>
    <div>
      <b>9</b> relevant lines. 
      <span class="green"><b>8</b> lines covered</span> and
      <span class="red"><b>1</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_ActiveRecord_Relation_QueryAttribute(o)</code>
        </li>
      
        <li class="covered" data-hits="235" data-linenumber="8">
          <span class="hits">235</span>
          
          <code class="ruby">        visit_edge o, &#39;name&#39;</code>
        </li>
      
        <li class="covered" data-hits="235" data-linenumber="9">
          <span class="hits">235</span>
          
          <code class="ruby">        visit_edge o, &#39;value_before_type_cast&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_ActiveRecord_Relation_QueryAttribute(_o, collector)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="15">
          
          
          <code class="ruby">        collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="e6cc35b83dbfaedd36de3f5a10a687e389c3aa88">
  <div class="header">
    <h3>lib/arel/extensions/active_record_type_caster_connection.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>4</b> relevant lines. 
      <span class="green"><b>4</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">      alias visit_ActiveRecord_TypeCaster_Connection terminal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="6c9be5626e5fe965e241210acfa9a5bb035bd11e">
  <div class="header">
    <h3>lib/arel/extensions/active_record_type_caster_map.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>4</b> relevant lines. 
      <span class="green"><b>4</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">      alias visit_ActiveRecord_TypeCaster_Map terminal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="6aa21db169446455f4d4e29389c8d539a361a0d4">
  <div class="header">
    <h3>lib/arel/extensions/all.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>9</b> relevant lines. 
      <span class="green"><b>9</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    # Postgres: https://www.postgresql.org/docs/8.1/sql-select.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">    class All &lt; Arel::Nodes::Unary</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_All(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="14">
          <span class="hits">15</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;ALL(&#39;</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="15">
          <span class="hits">15</span>
          
          <code class="ruby">        visit o.expr, collector</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="16">
          <span class="hits">15</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;)&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="92b8a3eed4d85e5f29dd2686eb7a6d43608dc484">
  <div class="header">
    <h3>lib/arel/extensions/any.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>9</b> relevant lines. 
      <span class="green"><b>9</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    # Postgres: https://www.postgresql.org/docs/9.1/functions-comparisons.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">    class Any &lt; Arel::Nodes::Unary</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Any(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="14">
          <span class="hits">35</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;ANY(&#39;</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="15">
          <span class="hits">35</span>
          
          <code class="ruby">        visit o.expr, collector</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="16">
          <span class="hits">35</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;)&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="e3c0a32e7e91db156db49bf31f8085f7ce8dd734">
  <div class="header">
    <h3>lib/arel/extensions/array.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>9</b> relevant lines. 
      <span class="green"><b>9</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class Array &lt; Arel::Nodes::Unary</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Array(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="100" data-linenumber="13">
          <span class="hits">100</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;ARRAY[&#39;</code>
        </li>
      
        <li class="covered" data-hits="100" data-linenumber="14">
          <span class="hits">100</span>
          
          <code class="ruby">        inject_join(o.expr, collector, &#39;, &#39;)</code>
        </li>
      
        <li class="covered" data-hits="100" data-linenumber="15">
          <span class="hits">100</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;]&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="a1c370e57cdff3a5f626fb8b5d7260854dd00a6d">
  <div class="header">
    <h3>lib/arel/extensions/array_subselect.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>9</b> relevant lines. 
      <span class="green"><b>9</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    # Postgres: https://www.postgresql.org/docs/9.1/functions-comparisons.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">    class ArraySubselect &lt; Arel::Nodes::Unary</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_ArraySubselect(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;ARRAY(&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">        visit o.expr, collector</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="16">
          <span class="hits">5</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;)&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="f3719a62b72ae835213b99fe89a4fb3747fa5ff4">
  <div class="header">
    <h3>lib/arel/extensions/assignment.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>9</b> relevant lines. 
      <span class="green"><b>9</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Assignment(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="201" data-linenumber="7">
          <span class="hits">201</span>
          
          <code class="ruby">        collector = visit o.left, collector</code>
        </li>
      
        <li class="covered" data-hits="201" data-linenumber="8">
          <span class="hits">201</span>
          
          <code class="ruby">        collector &lt;&lt; &#39; = &#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="201" data-linenumber="10">
          <span class="hits">201</span>
          
          <code class="ruby">        case o.right</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">        when Arel::Nodes::Node, Arel::Attributes::Attribute</code>
        </li>
      
        <li class="covered" data-hits="170" data-linenumber="12">
          <span class="hits">170</span>
          
          <code class="ruby">          visit o.right, collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="31" data-linenumber="14">
          <span class="hits">31</span>
          
          <code class="ruby">          collector &lt;&lt; quote(o.right).to_s</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="dff478242492b6d2e6c557b6b545f0f01d253803">
  <div class="header">
    <h3>lib/arel/extensions/at_time_zone.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>18</b> relevant lines. 
      <span class="green"><b>18</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/9.2/functions-datetime.html#FUNCTIONS-DATETIME-ZONECONVERT</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">    class AtTimeZone &lt; Arel::Nodes::Node</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="8">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :timezone</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :expr</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(expr, timezone)</code>
        </li>
      
        <li class="covered" data-hits="60" data-linenumber="12">
          <span class="hits">60</span>
          
          <code class="ruby">        @expr = expr</code>
        </li>
      
        <li class="covered" data-hits="60" data-linenumber="13">
          <span class="hits">60</span>
          
          <code class="ruby">        @timezone = timezone</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="19">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="20">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_AtTimeZone(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="21">
          <span class="hits">30</span>
          
          <code class="ruby">        visit o.expr, collector</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="22">
          <span class="hits">30</span>
          
          <code class="ruby">        collector &lt;&lt; &#39; AT TIME ZONE &#39;</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="23">
          <span class="hits">30</span>
          
          <code class="ruby">        visit o.timezone, collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="27">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="28">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_AtTimeZone(o)</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="29">
          <span class="hits">30</span>
          
          <code class="ruby">        visit_edge o, &#39;expr&#39;</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="30">
          <span class="hits">30</span>
          
          <code class="ruby">        visit_edge o, &#39;timezone&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="aa7142e62c09c9a75851e0e2b2bfa77b788f0dd1">
  <div class="header">
    <h3>lib/arel/extensions/attributes_attribute.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>22</b> relevant lines. 
      <span class="green"><b>22</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Attributes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class Attribute</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">      module AttributeExtension</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">        # postgres only: https://www.postgresql.org/docs/10/ddl-schemas.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">        attr_accessor :schema_name</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">        attr_accessor :database</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">      prepend AttributeExtension</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="17">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="19">
          <span class="hits">5</span>
          
          <code class="ruby">      module AttributesAttributeExtension</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="20">
          <span class="hits">5</span>
          
          <code class="ruby">        def visit_Arel_Attributes_Attribute(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="2006" data-linenumber="21">
          <span class="hits">2006</span>
          
          <code class="ruby">          collector &lt;&lt; &quot;#{quote_table_name(o.database)}.&quot; if o.database</code>
        </li>
      
        <li class="covered" data-hits="2006" data-linenumber="22">
          <span class="hits">2006</span>
          
          <code class="ruby">          collector &lt;&lt; &quot;#{quote_table_name(o.schema_name)}.&quot; if o.schema_name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2006" data-linenumber="24">
          <span class="hits">2006</span>
          
          <code class="ruby">          super</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="28">
          <span class="hits">5</span>
          
          <code class="ruby">      prepend AttributesAttributeExtension</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="31">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="32">
          <span class="hits">5</span>
          
          <code class="ruby">      module AttributesAttributeExtension</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="33">
          <span class="hits">5</span>
          
          <code class="ruby">        def visit_Arel_Attributes_Attribute(o)</code>
        </li>
      
        <li class="covered" data-hits="2086" data-linenumber="34">
          <span class="hits">2086</span>
          
          <code class="ruby">          super</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2086" data-linenumber="36">
          <span class="hits">2086</span>
          
          <code class="ruby">          visit_edge o, &#39;schema_name&#39;</code>
        </li>
      
        <li class="covered" data-hits="2086" data-linenumber="37">
          <span class="hits">2086</span>
          
          <code class="ruby">          visit_edge o, &#39;database&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="41">
          <span class="hits">5</span>
          
          <code class="ruby">      prepend AttributesAttributeExtension</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="0136190b2888be2614bf27df7f38969a18dbc09e">
  <div class="header">
    <h3>lib/arel/extensions/between_symmetric.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>9</b> relevant lines. 
      <span class="green"><b>9</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    # Postgres: https://www.postgresql.org/docs/9.1/functions-comparison.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">    class BetweenSymmetric &lt; Arel::Nodes::Between</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_BetweenSymmetric(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">        collector = visit o.left, collector</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">        collector &lt;&lt; &#39; BETWEEN SYMMETRIC &#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="16">
          <span class="hits">5</span>
          
          <code class="ruby">        visit o.right, collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="c4df4129c86ed57b720f2fcd12528b34be353cbb">
  <div class="header">
    <h3>lib/arel/extensions/binary.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>4</b> relevant lines. 
      <span class="green"><b>4</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">      alias visit_Arel_Nodes_Binary binary</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="5b3bbab1452b05ec0610816f14ecbf259be8e820">
  <div class="header">
    <h3>lib/arel/extensions/bind_param.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>5</b> relevant lines. 
      <span class="green"><b>5</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_BindParam(o)</code>
        </li>
      
        <li class="covered" data-hits="449" data-linenumber="8">
          <span class="hits">449</span>
          
          <code class="ruby">        visit_edge o, &#39;value&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="5048be753faa6ffa2f082edb3541b6034be57d88">
  <div class="header">
    <h3>lib/arel/extensions/bit_string.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>7</b> relevant lines. 
      <span class="green"><b>7</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class BitString &lt; Arel::Nodes::Unary</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_BitString(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">        collector &lt;&lt; &quot;B&#39;#{o.expr[1..-1]}&#39;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="a3791e3a1a85dbda5b984769494531646b3e747a">
  <div class="header">
    <h3>lib/arel/extensions/bitwise_xor.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>5</b> relevant lines. 
      <span class="green"><b>5</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">    # https://github.com/mvgijssel/arel_toolkit/issues/45</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">    class BitwiseXor &lt; InfixOperation</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(left, right)</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="6">
          <span class="hits">20</span>
          
          <code class="ruby">        super(&#39;#&#39;, left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="647e720ed777957ef53216529cb64287c86d59f6">
  <div class="header">
    <h3>lib/arel/extensions/case.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>7</b> relevant lines. 
      <span class="green"><b>7</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Case(o)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="8">
          <span class="hits">10</span>
          
          <code class="ruby">        visit_edge o, &#39;case&#39;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="9">
          <span class="hits">10</span>
          
          <code class="ruby">        visit_edge o, &#39;conditions&#39;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="10">
          <span class="hits">10</span>
          
          <code class="ruby">        visit_edge o, &#39;default&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="8899f5b98c504de452e52931e4551f249886214b">
  <div class="header">
    <h3>lib/arel/extensions/coalesce.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>9</b> relevant lines. 
      <span class="green"><b>9</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/10/functions-conditional.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">    class Coalesce &lt; Arel::Nodes::Unary</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Coalesce(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="31" data-linenumber="14">
          <span class="hits">31</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;COALESCE(&#39;</code>
        </li>
      
        <li class="covered" data-hits="31" data-linenumber="15">
          <span class="hits">31</span>
          
          <code class="ruby">        collector = inject_join(o.expr, collector, &#39;, &#39;)</code>
        </li>
      
        <li class="covered" data-hits="31" data-linenumber="16">
          <span class="hits">31</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;)&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="6c31d822566b6a19cdd55501a82d501b938f0f27">
  <div class="header">
    <h3>lib/arel/extensions/conflict.rb</h3>
    <h4><span class="green">96.3 %</span> covered</h4>
    <div>
      <b>27</b> relevant lines. 
      <span class="green"><b>26</b> lines covered</span> and
      <span class="red"><b>1</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/9.5/sql-insert.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">    class Conflict &lt; Arel::Nodes::Node</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="8">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_accessor :action</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_accessor :infer</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_accessor :values</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_accessor :wheres</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="16">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">      # rubocop:disable Metrics/AbcSize</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Conflict(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="19">
          <span class="hits">22</span>
          
          <code class="ruby">        collector &lt;&lt; &#39; ON CONFLICT &#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="21">
          <span class="hits">22</span>
          
          <code class="ruby">        visit(o.infer, collector) if o.infer</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="23">
          <span class="hits">22</span>
          
          <code class="ruby">        case o.action</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">        when :ONCONFLICT_NOTHING</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="25">
          <span class="hits">5</span>
          
          <code class="ruby">          collector &lt;&lt; &#39;DO NOTHING&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">        when :ONCONFLICT_UPDATE</code>
        </li>
      
        <li class="covered" data-hits="17" data-linenumber="27">
          <span class="hits">17</span>
          
          <code class="ruby">          collector &lt;&lt; &#39;DO UPDATE SET &#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="29">
          
          
          <code class="ruby">          raise &quot;Unknown conflict clause `#{o.action}`&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="32">
          <span class="hits">22</span>
          
          <code class="ruby">        o.values.any? &amp;&amp; (inject_join o.values, collector, &#39;, &#39;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="34">
          <span class="hits">22</span>
          
          <code class="ruby">        if o.wheres.any?</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="35">
          <span class="hits">6</span>
          
          <code class="ruby">          collector &lt;&lt; &#39; WHERE &#39;</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="36">
          <span class="hits">6</span>
          
          <code class="ruby">          collector = inject_join o.wheres, collector, &#39; AND &#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="39">
          <span class="hits">22</span>
          
          <code class="ruby">        collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby">      # rubocop:enable Metrics/AbcSize</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="44">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="45">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Conflict(o)</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="46">
          <span class="hits">22</span>
          
          <code class="ruby">        visit_edge o, &#39;action&#39;</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="47">
          <span class="hits">22</span>
          
          <code class="ruby">        visit_edge o, &#39;infer&#39;</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="48">
          <span class="hits">22</span>
          
          <code class="ruby">        visit_edge o, &#39;values&#39;</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="49">
          <span class="hits">22</span>
          
          <code class="ruby">        visit_edge o, &#39;wheres&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="bcbf164299f1657f436dcedc5e9fbda1ad21a0f3">
  <div class="header">
    <h3>lib/arel/extensions/contained_by.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>5</b> relevant lines. 
      <span class="green"><b>5</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/9.1/functions-array.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">    class ContainedBy &lt; InfixOperation</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(left, right)</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="6">
          <span class="hits">40</span>
          
          <code class="ruby">        super(&#39;&lt;@&#39;, left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="73b47c18a3ea446a6046634f70c2b8fae96c1529">
  <div class="header">
    <h3>lib/arel/extensions/contained_within_equals.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>5</b> relevant lines. 
      <span class="green"><b>5</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="4" data-linenumber="1">
          <span class="hits">4</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="2">
          <span class="hits">4</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/9.3/functions-net.html</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="4">
          <span class="hits">4</span>
          
          <code class="ruby">    class ContainedWithinEquals &lt; Arel::Nodes::InfixOperation</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="5">
          <span class="hits">4</span>
          
          <code class="ruby">      def initialize(left, right)</code>
        </li>
      
        <li class="covered" data-hits="16" data-linenumber="6">
          <span class="hits">16</span>
          
          <code class="ruby">        super(:&#39;&lt;&lt;=&#39;, left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="13a730242ea0f3c2a999f99b961dce5f6246ed24">
  <div class="header">
    <h3>lib/arel/extensions/contains.rb</h3>
    <h4><span class="green">92.31 %</span> covered</h4>
    <div>
      <b>13</b> relevant lines. 
      <span class="green"><b>12</b> lines covered</span> and
      <span class="red"><b>1</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  if Gem.loaded_specs.key?(&#39;postgres_ext&#39;)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="6">
          <span class="hits">1</span>
          
          <code class="ruby">    module Visitors</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="7">
          <span class="hits">1</span>
          
          <code class="ruby">      module ContainsPatch</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="8">
          <span class="hits">1</span>
          
          <code class="ruby">        def visit_Arel_Nodes_Contains(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="9">
          <span class="hits">4</span>
          
          <code class="ruby">          if o.left.is_a?(Arel::Attribute)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="10">
          
          
          <code class="ruby">            super</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="12">
          <span class="hits">4</span>
          
          <code class="ruby">            infix_value o, collector, &#39; @&gt; &#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="17">
          <span class="hits">1</span>
          
          <code class="ruby">      PostgreSQL.prepend(ContainsPatch)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="20">
          <span class="hits">4</span>
          
          <code class="ruby">    module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">      # https://www.postgresql.org/docs/9.1/functions-array.html</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="22">
          <span class="hits">4</span>
          
          <code class="ruby">      class Contains &lt; Arel::Nodes::InfixOperation</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="23">
          <span class="hits">4</span>
          
          <code class="ruby">        def initialize(left, right)</code>
        </li>
      
        <li class="covered" data-hits="32" data-linenumber="24">
          <span class="hits">32</span>
          
          <code class="ruby">          super(:&#39;@&gt;&#39;, left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="1c856c7740922aec2590ec3a536d495dc92061dc">
  <div class="header">
    <h3>lib/arel/extensions/contains_equals.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>5</b> relevant lines. 
      <span class="green"><b>5</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="4" data-linenumber="1">
          <span class="hits">4</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="2">
          <span class="hits">4</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/9.3/functions-net.html</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="4">
          <span class="hits">4</span>
          
          <code class="ruby">    class ContainsEquals &lt; Arel::Nodes::InfixOperation</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="5">
          <span class="hits">4</span>
          
          <code class="ruby">      def initialize(left, right)</code>
        </li>
      
        <li class="covered" data-hits="16" data-linenumber="6">
          <span class="hits">16</span>
          
          <code class="ruby">        super(:&#39;&gt;&gt;=&#39;, left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="6cbf9c8f652b1b68cb34e9b539a8efb66bacc773">
  <div class="header">
    <h3>lib/arel/extensions/cross_join.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>8</b> relevant lines. 
      <span class="green"><b>8</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class CrossJoin &lt; Arel::Nodes::Join</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_CrossJoin(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;CROSS JOIN &#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">        visit o.left, collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="037fd24781503ab0a411f7c1f45f881272e15586">
  <div class="header">
    <h3>lib/arel/extensions/cube_root.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>5</b> relevant lines. 
      <span class="green"><b>5</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/9.4/functions-math.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">    class CubeRoot &lt; Arel::Nodes::UnaryOperation</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(operand)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="6">
          <span class="hits">10</span>
          
          <code class="ruby">        super(&#39;||/&#39;, operand)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="3af145747fd31b6b8ab7010a22e4d023a7ac7561">
  <div class="header">
    <h3>lib/arel/extensions/current_catalog.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>9</b> relevant lines. 
      <span class="green"><b>9</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class CurrentCatalog &lt; Arel::Nodes::Node</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_CurrentCatalog(_o, collector)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;current_catalog&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="17">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">      alias visit_Arel_Nodes_CurrentCatalog terminal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="24afd5b63af8f33a12531a3c1680fe2ff916aab1">
  <div class="header">
    <h3>lib/arel/extensions/current_date.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>9</b> relevant lines. 
      <span class="green"><b>9</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class CurrentDate &lt; Arel::Nodes::Node</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_CurrentDate(_o, collector)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="13">
          <span class="hits">10</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;current_date&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="17">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">      alias visit_Arel_Nodes_CurrentDate terminal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="48865410f8448cf91a36d244d84b3a5016465508">
  <div class="header">
    <h3>lib/arel/extensions/current_of_expression.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>8</b> relevant lines. 
      <span class="green"><b>8</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/10/sql-update.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">    class CurrentOfExpression &lt; Arel::Nodes::Unary</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_CurrentOfExpression(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="14">
          <span class="hits">10</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;CURRENT OF &#39;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="15">
          <span class="hits">10</span>
          
          <code class="ruby">        collector &lt;&lt; o.expr</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="5da4fcbb878eea56682c8fee8072f846f74e41cf">
  <div class="header">
    <h3>lib/arel/extensions/current_role.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>9</b> relevant lines. 
      <span class="green"><b>9</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class CurrentRole &lt; Arel::Nodes::Node</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_CurrentRole(_o, collector)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;current_role&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="17">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">      alias visit_Arel_Nodes_CurrentRole terminal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="2c170f77b437f7d7c2b6289959697b460aaccf29">
  <div class="header">
    <h3>lib/arel/extensions/current_row.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>4</b> relevant lines. 
      <span class="green"><b>4</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">      alias visit_Arel_Nodes_CurrentRow terminal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="c318c8965c508b483b28bbf7aa3a2682425a12bf">
  <div class="header">
    <h3>lib/arel/extensions/current_schema.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>9</b> relevant lines. 
      <span class="green"><b>9</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class CurrentSchema &lt; Arel::Nodes::Node</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_CurrentSchema(_o, collector)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;current_schema&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="17">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">      alias visit_Arel_Nodes_CurrentSchema terminal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="8fa9cc5f1428e6e473ae043d1524828a6a68a2a8">
  <div class="header">
    <h3>lib/arel/extensions/current_time.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>9</b> relevant lines. 
      <span class="green"><b>9</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class CurrentTime &lt; TimeWithPrecision</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_CurrentTime(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="13">
          <span class="hits">15</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;current_time&#39;</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="14">
          <span class="hits">15</span>
          
          <code class="ruby">        collector &lt;&lt; &quot;(#{o.precision.to_i})&quot; if o.precision</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="15">
          <span class="hits">15</span>
          
          <code class="ruby">        collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="1709cf63a3a23820478d21844148b8efe5e4b3f9">
  <div class="header">
    <h3>lib/arel/extensions/current_timestamp.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>9</b> relevant lines. 
      <span class="green"><b>9</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class CurrentTimestamp &lt; TimeWithPrecision</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_CurrentTimestamp(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="13">
          <span class="hits">30</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;current_timestamp&#39;</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="14">
          <span class="hits">30</span>
          
          <code class="ruby">        collector &lt;&lt; &quot;(#{o.precision.to_i})&quot; if o.precision</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="15">
          <span class="hits">30</span>
          
          <code class="ruby">        collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="d6ac2e8ac0c226e7067ae0a82e90422acbbbd931">
  <div class="header">
    <h3>lib/arel/extensions/current_user.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>9</b> relevant lines. 
      <span class="green"><b>9</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class CurrentUser &lt; Arel::Nodes::Node</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_CurrentUser(_o, collector)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;current_user&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="17">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">      alias visit_Arel_Nodes_CurrentUser terminal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="95040713eeeba948f5a979f35c4f0a85f91350c5">
  <div class="header">
    <h3>lib/arel/extensions/dealocate.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>13</b> relevant lines. 
      <span class="green"><b>13</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Dealocate(o)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="8">
          <span class="hits">10</span>
          
          <code class="ruby">        visit_edge o, &#39;name&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Dealocate(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="14">
          <span class="hits">10</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;DEALLOCATE &#39; &lt;&lt; (o.name || &#39;ALL&#39;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="19">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="20">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dealocate &lt; Node</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="21">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="23">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(name)</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="24">
          <span class="hits">20</span>
          
          <code class="ruby">        @name = name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="20dabd36ddd9ad2673b0a327f5bcee6d5b83b8f3">
  <div class="header">
    <h3>lib/arel/extensions/default_values.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>9</b> relevant lines. 
      <span class="green"><b>9</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/9.5/sql-insert.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">    class DefaultValues &lt; Arel::Nodes::Node</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_DefaultValues(_o, collector)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;DEFAULT VALUES&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="19">
          <span class="hits">5</span>
          
          <code class="ruby">      alias visit_Arel_Nodes_DefaultValues terminal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="66a6d35ad927c395f4c7344df32cd65405de14d4">
  <div class="header">
    <h3>lib/arel/extensions/delete_manager.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>10</b> relevant lines. 
      <span class="green"><b>10</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  class DeleteManager &lt; Arel::TreeManager</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    def ==(other)</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="7">
          <span class="hits">15</span>
          
          <code class="ruby">      other.is_a?(self.class) &amp;&amp; @ast == other.ast &amp;&amp; @ctx == other.ctx</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">    protected</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">    attr_reader :ctx</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="16">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="17">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_DeleteManager(o)</code>
        </li>
      
        <li class="covered" data-hits="45" data-linenumber="18">
          <span class="hits">45</span>
          
          <code class="ruby">        visit_edge o, &#39;ast&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="a15ba35a22fdbedd867de544612d546265ec254b">
  <div class="header">
    <h3>lib/arel/extensions/delete_statement.rb</h3>
    <h4><span class="green">92.86 %</span> covered</h4>
    <div>
      <b>42</b> relevant lines. 
      <span class="green"><b>39</b> lines covered</span> and
      <span class="red"><b>3</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/10/sql-delete.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">    class DeleteStatement</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="8">
          <span class="hits">5</span>
          
          <code class="ruby">      module DeleteStatementExtension</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">        attr_accessor :using</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">        attr_accessor :with</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">        attr_accessor :returning</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">        attr_accessor :orders</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">        def initialize(relation = nil, wheres = [])</code>
        </li>
      
        <li class="covered" data-hits="125" data-linenumber="15">
          <span class="hits">125</span>
          
          <code class="ruby">          super</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="125" data-linenumber="17">
          <span class="hits">125</span>
          
          <code class="ruby">          @returning = []</code>
        </li>
      
        <li class="covered" data-hits="125" data-linenumber="18">
          <span class="hits">125</span>
          
          <code class="ruby">          @orders = []</code>
        </li>
      
        <li class="covered" data-hits="125" data-linenumber="19">
          <span class="hits">125</span>
          
          <code class="ruby">          @using = []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="23">
          <span class="hits">5</span>
          
          <code class="ruby">      prepend DeleteStatementExtension</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="27">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="28">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">      # rubocop:disable Metrics/AbcSize</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="30">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_DeleteStatement(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="80" data-linenumber="31">
          <span class="hits">80</span>
          
          <code class="ruby">        if o.with</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="32">
          <span class="hits">5</span>
          
          <code class="ruby">          collector = visit o.with, collector</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="33">
          <span class="hits">5</span>
          
          <code class="ruby">          collector &lt;&lt; &#39; &#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="80" data-linenumber="36">
          <span class="hits">80</span>
          
          <code class="ruby">        if Gem.loaded_specs[&#39;activerecord&#39;].version &gt;= Gem::Version.new(&#39;6.0.0&#39;)</code>
        </li>
      
        <li class="covered" data-hits="48" data-linenumber="37">
          <span class="hits">48</span>
          
          <code class="ruby">          o = prepare_delete_statement(o)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="48" data-linenumber="39">
          <span class="hits">48</span>
          
          <code class="ruby">          if has_join_sources?(o)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="40">
          
          
          <code class="ruby">            collector &lt;&lt; &#39;DELETE &#39;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="41">
          
          
          <code class="ruby">            visit o.relation.left, collector</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="42">
          
          
          <code class="ruby">            collector &lt;&lt; &#39; FROM &#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="48" data-linenumber="44">
          <span class="hits">48</span>
          
          <code class="ruby">            collector &lt;&lt; &#39;DELETE FROM &#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="32" data-linenumber="47">
          <span class="hits">32</span>
          
          <code class="ruby">          collector &lt;&lt; &#39;DELETE FROM &#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="80" data-linenumber="50">
          <span class="hits">80</span>
          
          <code class="ruby">        collector = visit o.relation, collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="80" data-linenumber="52">
          <span class="hits">80</span>
          
          <code class="ruby">        collect_nodes_for o.using, collector, &#39; USING &#39;, &#39;, &#39;</code>
        </li>
      
        <li class="covered" data-hits="80" data-linenumber="53">
          <span class="hits">80</span>
          
          <code class="ruby">        collect_nodes_for o.wheres, collector, &#39; WHERE &#39;, &#39; AND &#39;</code>
        </li>
      
        <li class="covered" data-hits="80" data-linenumber="54">
          <span class="hits">80</span>
          
          <code class="ruby">        collect_nodes_for o.returning, collector, &#39; RETURNING &#39;, &#39;, &#39;</code>
        </li>
      
        <li class="covered" data-hits="80" data-linenumber="55">
          <span class="hits">80</span>
          
          <code class="ruby">        collect_nodes_for o.orders, collector, &#39; ORDER BY &#39;</code>
        </li>
      
        <li class="covered" data-hits="80" data-linenumber="56">
          <span class="hits">80</span>
          
          <code class="ruby">        maybe_visit o.limit, collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">      # rubocop:enable Metrics/AbcSize</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="61">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="62">
          <span class="hits">5</span>
          
          <code class="ruby">      module DeleteStatementExtension</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="63">
          <span class="hits">5</span>
          
          <code class="ruby">        def visit_Arel_Nodes_DeleteStatement(o)</code>
        </li>
      
        <li class="covered" data-hits="45" data-linenumber="64">
          <span class="hits">45</span>
          
          <code class="ruby">          super</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="45" data-linenumber="66">
          <span class="hits">45</span>
          
          <code class="ruby">          visit_edge o, &#39;using&#39;</code>
        </li>
      
        <li class="covered" data-hits="45" data-linenumber="67">
          <span class="hits">45</span>
          
          <code class="ruby">          visit_edge o, &#39;with&#39;</code>
        </li>
      
        <li class="covered" data-hits="45" data-linenumber="68">
          <span class="hits">45</span>
          
          <code class="ruby">          visit_edge o, &#39;returning&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="72">
          <span class="hits">5</span>
          
          <code class="ruby">      prepend(DeleteStatementExtension)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="4e3749783d053a64094cf8601bd79368a963b233">
  <div class="header">
    <h3>lib/arel/extensions/distinct_from.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>5</b> relevant lines. 
      <span class="green"><b>5</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">    class DistinctFrom &lt; Arel::Nodes::InfixOperation</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(left, right)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="5">
          <span class="hits">10</span>
          
          <code class="ruby">        super(:&#39;IS DISTINCT FROM&#39;, left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="6f0cf23f8e3770bb63f50dc88b4daee3257ce2a8">
  <div class="header">
    <h3>lib/arel/extensions/dot.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>4</b> relevant lines. 
      <span class="green"><b>4</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">      def terminal(_o); end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="acbbbd8cf7e5d66431e3a80c5c414382e3ac594f">
  <div class="header">
    <h3>lib/arel/extensions/equality.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>13</b> relevant lines. 
      <span class="green"><b>13</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Equality(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="983" data-linenumber="8">
          <span class="hits">983</span>
          
          <code class="ruby">        right = o.right</code>
        </li>
      
        <li class="covered" data-hits="983" data-linenumber="9">
          <span class="hits">983</span>
          
          <code class="ruby">        collector = visit o.left, collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="983" data-linenumber="11">
          <span class="hits">983</span>
          
          <code class="ruby">        if [Arel::Nodes::Unknown, Arel::Nodes::False, Arel::Nodes::True].include?(right.class)</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="12">
          <span class="hits">15</span>
          
          <code class="ruby">          collector &lt;&lt; &#39; IS &#39;</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="13">
          <span class="hits">15</span>
          
          <code class="ruby">          visit right, collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="968" data-linenumber="15">
          <span class="hits">968</span>
          
          <code class="ruby">        elsif right.nil?</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="16">
          <span class="hits">10</span>
          
          <code class="ruby">          collector &lt;&lt; &#39; IS NULL&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="958" data-linenumber="19">
          <span class="hits">958</span>
          
          <code class="ruby">          collector &lt;&lt; &#39; = &#39;</code>
        </li>
      
        <li class="covered" data-hits="958" data-linenumber="20">
          <span class="hits">958</span>
          
          <code class="ruby">          visit right, collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="18f054bd1e7fcf187e32499a2494db7a9a792af7">
  <div class="header">
    <h3>lib/arel/extensions/except_all.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>8</b> relevant lines. 
      <span class="green"><b>8</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class ExceptAll &lt; Binary</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_ExceptAll(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;( &#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">        infix_value(o, collector, &#39; EXCEPT ALL &#39;) &lt;&lt; &#39; )&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="0668bc058026f2e3f32023f95289458d2a41c2e6">
  <div class="header">
    <h3>lib/arel/extensions/exists.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>25</b> relevant lines. 
      <span class="green"><b>25</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    # This is a copy of https://github.com/rails/arel/blob/v9.0.0/lib/arel/nodes/function.rb</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">    # Only difference is the superclass, because EXISTS is not a function but a subquery expression.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    # Semantic meaning is important when transforming the Arel using the enhanced AST,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">    # because EXISTS cannot be processed as a function. For example it does not have a schema</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">    # like a normal function.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">    #</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">    # To change the superclass we&#39;re removing the existing Exists class `Arel::Nodes::Exists`</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">    # and recreating it extending from `Arel::Nodes::Unary`.</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">    remove_const(:Exists)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/10/functions-subquery.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="17">
          <span class="hits">5</span>
          
          <code class="ruby">    class Exists &lt; Arel::Nodes::Unary</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">      include Arel::Predications</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="19">
          <span class="hits">5</span>
          
          <code class="ruby">      include Arel::WindowPredications</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="20">
          <span class="hits">5</span>
          
          <code class="ruby">      include Arel::OrderPredications</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="21">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_accessor :expressions, :alias, :distinct</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="23">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(expr, aliaz = nil)</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="24">
          <span class="hits">40</span>
          
          <code class="ruby">        @expressions = expr</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="25">
          <span class="hits">40</span>
          
          <code class="ruby">        @alias       = aliaz &amp;&amp; SqlLiteral.new(aliaz)</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="26">
          <span class="hits">40</span>
          
          <code class="ruby">        @distinct    = false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="29">
          <span class="hits">5</span>
          
          <code class="ruby">      def as(aliaz)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="30">
          <span class="hits">5</span>
          
          <code class="ruby">        self.alias = SqlLiteral.new(aliaz)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="31">
          <span class="hits">5</span>
          
          <code class="ruby">        self</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="34">
          <span class="hits">5</span>
          
          <code class="ruby">      def hash</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="35">
          <span class="hits">10</span>
          
          <code class="ruby">        [@expressions, @alias, @distinct].hash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="38">
          <span class="hits">5</span>
          
          <code class="ruby">      def eql?(other)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="39">
          <span class="hits">5</span>
          
          <code class="ruby">        self.class == other.class &amp;&amp;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">          expressions == other.expressions &amp;&amp;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby">          self.alias == other.alias &amp;&amp;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">          distinct == other.distinct</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="44">
          <span class="hits">5</span>
          
          <code class="ruby">      alias == eql?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="48">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="49">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="50">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Exists(o)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="51">
          <span class="hits">10</span>
          
          <code class="ruby">        visit_edge o, &#39;expressions&#39;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="52">
          <span class="hits">10</span>
          
          <code class="ruby">        visit_edge o, &#39;alias&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="70de9f3c8e6ad07e79c7917d9e89eeb60a1139f5">
  <div class="header">
    <h3>lib/arel/extensions/exponentiation.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>5</b> relevant lines. 
      <span class="green"><b>5</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/9.1/functions-array.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">    class Exponentiation &lt; InfixOperation</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(left, right)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="6">
          <span class="hits">10</span>
          
          <code class="ruby">        super(:^, left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="d9b9d222d320647d4d5c6856b4d86045b277a217">
  <div class="header">
    <h3>lib/arel/extensions/extract_from.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>11</b> relevant lines. 
      <span class="green"><b>11</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/9.1/functions-datetime.html#FUNCTIONS-DATETIME-EXTRACT</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">    class ExtractFrom &lt; Arel::Nodes::Binary</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_ExtractFrom(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="14">
          <span class="hits">20</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;extract(&#39;</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="15">
          <span class="hits">20</span>
          
          <code class="ruby">        visit o.right, collector</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="16">
          <span class="hits">20</span>
          
          <code class="ruby">        collector &lt;&lt; &#39; from &#39;</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="17">
          <span class="hits">20</span>
          
          <code class="ruby">        visit o.left, collector</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="18">
          <span class="hits">20</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;)&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="f5f74babc92efe679d9b682de7e8108a5575fa16">
  <div class="header">
    <h3>lib/arel/extensions/factorial.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>20</b> relevant lines. 
      <span class="green"><b>20</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/9.4/functions-math.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">    class Factorial &lt; Arel::Nodes::Node</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="8">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_accessor :prefix</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_accessor :expr</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(expr, prefix)</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="12">
          <span class="hits">30</span>
          
          <code class="ruby">        @expr = expr</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="13">
          <span class="hits">30</span>
          
          <code class="ruby">        @prefix = prefix</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="19">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="20">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Factorial(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="21">
          <span class="hits">15</span>
          
          <code class="ruby">        if o.prefix</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="22">
          <span class="hits">10</span>
          
          <code class="ruby">          collector &lt;&lt; &#39;!! &#39;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="23">
          <span class="hits">10</span>
          
          <code class="ruby">          visit o.expr, collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="25">
          <span class="hits">5</span>
          
          <code class="ruby">          visit o.expr, collector</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="26">
          <span class="hits">5</span>
          
          <code class="ruby">          collector &lt;&lt; &#39; !&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="31">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="32">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Factorial(o)</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="33">
          <span class="hits">15</span>
          
          <code class="ruby">        visit_edge o, &#39;expr&#39;</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="34">
          <span class="hits">15</span>
          
          <code class="ruby">        visit_edge o, &#39;prefix&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="4d025cb6c82f6e11e276972fc539f722c5cc6efa">
  <div class="header">
    <h3>lib/arel/extensions/false.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>4</b> relevant lines. 
      <span class="green"><b>4</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">      alias visit_Arel_Nodes_False terminal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="cc1a7cab4c87cd37609e25c7a8b6e87470038802">
  <div class="header">
    <h3>lib/arel/extensions/function.rb</h3>
    <h4><span class="green">96.36 %</span> covered</h4>
    <div>
      <b>55</b> relevant lines. 
      <span class="green"><b>53</b> lines covered</span> and
      <span class="red"><b>2</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">    # Postgres: https://www.postgresql.org/docs/9.1/functions-comparison.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class Function</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">      module FunctionExtension</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">        # postgres only: https://www.postgresql.org/docs/9.5/functions-aggregate.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">        attr_accessor :orders</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">        attr_accessor :filter</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">        attr_accessor :within_group</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">        attr_accessor :variardic</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">        # postgres only: https://www.postgresql.org/docs/10/ddl-schemas.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">        attr_accessor :schema_name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="16">
          <span class="hits">5</span>
          
          <code class="ruby">        def initialize(expr, aliaz = nil)</code>
        </li>
      
        <li class="covered" data-hits="3192" data-linenumber="17">
          <span class="hits">3192</span>
          
          <code class="ruby">          super</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3192" data-linenumber="19">
          <span class="hits">3192</span>
          
          <code class="ruby">          @expressions = expr</code>
        </li>
      
        <li class="covered" data-hits="3192" data-linenumber="20">
          <span class="hits">3192</span>
          
          <code class="ruby">          @alias       = aliaz &amp;&amp; SqlLiteral.new(aliaz)</code>
        </li>
      
        <li class="covered" data-hits="3192" data-linenumber="21">
          <span class="hits">3192</span>
          
          <code class="ruby">          @distinct    = false</code>
        </li>
      
        <li class="covered" data-hits="3192" data-linenumber="22">
          <span class="hits">3192</span>
          
          <code class="ruby">          @orders      = []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="26">
          <span class="hits">5</span>
          
          <code class="ruby">      prepend FunctionExtension</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="30">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="31">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">      # rubocop:disable Metrics/PerceivedComplexity</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">      # rubocop:disable Metrics/CyclomaticComplexity</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">      # rubocop:disable Metrics/AbcSize</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="35">
          <span class="hits">5</span>
          
          <code class="ruby">      def aggregate(name, o, collector)</code>
        </li>
      
        <li class="covered" data-hits="1707" data-linenumber="36">
          <span class="hits">1707</span>
          
          <code class="ruby">        collector &lt;&lt; &quot;#{o.schema_name}.&quot; if o.schema_name</code>
        </li>
      
        <li class="covered" data-hits="1707" data-linenumber="37">
          <span class="hits">1707</span>
          
          <code class="ruby">        collector &lt;&lt; &quot;#{name}(&quot;</code>
        </li>
      
        <li class="covered" data-hits="1707" data-linenumber="38">
          <span class="hits">1707</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;DISTINCT &#39; if o.distinct</code>
        </li>
      
        <li class="covered" data-hits="1707" data-linenumber="39">
          <span class="hits">1707</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;VARIADIC &#39; if o.variardic</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1707" data-linenumber="41">
          <span class="hits">1707</span>
          
          <code class="ruby">        collector = inject_join(o.expressions, collector, &#39;, &#39;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1707" data-linenumber="43">
          <span class="hits">1707</span>
          
          <code class="ruby">        if o.within_group</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="44">
          <span class="hits">5</span>
          
          <code class="ruby">          collector &lt;&lt; &#39;)&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="45">
          <span class="hits">5</span>
          
          <code class="ruby">          collector &lt;&lt; &#39; WITHIN GROUP (&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1707" data-linenumber="48">
          <span class="hits">1707</span>
          
          <code class="ruby">        if o.orders.any?</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="49">
          <span class="hits">15</span>
          
          <code class="ruby">          collector &lt;&lt; &#39; &#39; unless o.within_group</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="50">
          <span class="hits">15</span>
          
          <code class="ruby">          collector &lt;&lt; &#39;ORDER BY &#39;</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="51">
          <span class="hits">15</span>
          
          <code class="ruby">          collector = inject_join o.orders, collector, &#39;, &#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1707" data-linenumber="54">
          <span class="hits">1707</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;)&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1707" data-linenumber="56">
          <span class="hits">1707</span>
          
          <code class="ruby">        if o.filter</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="57">
          <span class="hits">5</span>
          
          <code class="ruby">          collector &lt;&lt; &#39; FILTER(WHERE &#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="58">
          <span class="hits">5</span>
          
          <code class="ruby">          visit o.filter, collector</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="59">
          <span class="hits">5</span>
          
          <code class="ruby">          collector &lt;&lt; &#39;)&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1707" data-linenumber="62">
          <span class="hits">1707</span>
          
          <code class="ruby">        if o.alias</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="63">
          
          
          <code class="ruby">          collector &lt;&lt; &#39; AS &#39;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="64">
          
          
          <code class="ruby">          visit o.alias, collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="1707" data-linenumber="66">
          <span class="hits">1707</span>
          
          <code class="ruby">          collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">      # rubocop:enable Metrics/PerceivedComplexity</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby">      # rubocop:enable Metrics/CyclomaticComplexity</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby">      # rubocop:enable Metrics/AbcSize</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="74">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="75">
          <span class="hits">5</span>
          
          <code class="ruby">      module FunctionExtension</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="76">
          <span class="hits">5</span>
          
          <code class="ruby">        def function(o)</code>
        </li>
      
        <li class="covered" data-hits="1642" data-linenumber="77">
          <span class="hits">1642</span>
          
          <code class="ruby">          super</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1642" data-linenumber="79">
          <span class="hits">1642</span>
          
          <code class="ruby">          visit_edge o, &#39;orders&#39;</code>
        </li>
      
        <li class="covered" data-hits="1642" data-linenumber="80">
          <span class="hits">1642</span>
          
          <code class="ruby">          visit_edge o, &#39;filter&#39;</code>
        </li>
      
        <li class="covered" data-hits="1642" data-linenumber="81">
          <span class="hits">1642</span>
          
          <code class="ruby">          visit_edge o, &#39;within_group&#39;</code>
        </li>
      
        <li class="covered" data-hits="1642" data-linenumber="82">
          <span class="hits">1642</span>
          
          <code class="ruby">          visit_edge o, &#39;variardic&#39;</code>
        </li>
      
        <li class="covered" data-hits="1642" data-linenumber="83">
          <span class="hits">1642</span>
          
          <code class="ruby">          visit_edge o, &#39;schema_name&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="84">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="86">
          <span class="hits">5</span>
          
          <code class="ruby">        alias visit_Arel_Nodes_Min    function</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="87">
          <span class="hits">5</span>
          
          <code class="ruby">        alias visit_Arel_Nodes_Max    function</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="88">
          <span class="hits">5</span>
          
          <code class="ruby">        alias visit_Arel_Nodes_Avg    function</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="89">
          <span class="hits">5</span>
          
          <code class="ruby">        alias visit_Arel_Nodes_Sum    function</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="90">
          <span class="hits">5</span>
          
          <code class="ruby">        alias visit_Arel_Nodes_Count  function</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="91">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="93">
          <span class="hits">5</span>
          
          <code class="ruby">      prepend FunctionExtension</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="94">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="97">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="98">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="c3e65bf10c8ff10512cb2db2c3704679e84fd720">
  <div class="header">
    <h3>lib/arel/extensions/greatest.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>9</b> relevant lines. 
      <span class="green"><b>9</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/10/functions-conditional.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">    class Greatest &lt; Arel::Nodes::Unary</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Greatest(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="14">
          <span class="hits">10</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;GREATEST(&#39;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="15">
          <span class="hits">10</span>
          
          <code class="ruby">        collector = inject_join(o.expr, collector, &#39;, &#39;)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="16">
          <span class="hits">10</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;)&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="f6a2498e0b27d049b4c29535652337968283173c">
  <div class="header">
    <h3>lib/arel/extensions/indirection.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>10</b> relevant lines. 
      <span class="green"><b>10</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class Indirection &lt; Arel::Nodes::Binary</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Indirection(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="13">
          <span class="hits">15</span>
          
          <code class="ruby">        visit(o.left, collector)</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="14">
          <span class="hits">15</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;[&#39;</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="15">
          <span class="hits">15</span>
          
          <code class="ruby">        visit(o.right, collector)</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="16">
          <span class="hits">15</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;]&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="0a7386fc0fec7b40c29a168cfe004afd7e03e663">
  <div class="header">
    <h3>lib/arel/extensions/infer.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>17</b> relevant lines. 
      <span class="green"><b>17</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/9.5/sql-insert.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">    class Infer &lt; Arel::Nodes::Binary</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="8">
          <span class="hits">5</span>
          
          <code class="ruby">      alias name left</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">      alias indexes right</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Infer(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="16">
          <span class="hits">12</span>
          
          <code class="ruby">        if o.name.present?</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="17">
          <span class="hits">5</span>
          
          <code class="ruby">          collector &lt;&lt; &#39;ON CONSTRAINT &#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">          collector &lt;&lt; o.left</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="19">
          <span class="hits">5</span>
          
          <code class="ruby">          collector &lt;&lt; &#39; &#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="22">
          <span class="hits">12</span>
          
          <code class="ruby">        if o.right.present?</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="23">
          <span class="hits">7</span>
          
          <code class="ruby">          collector &lt;&lt; &#39;(&#39;</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="24">
          <span class="hits">7</span>
          
          <code class="ruby">          inject_join o.right, collector, &#39;, &#39;</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="25">
          <span class="hits">7</span>
          
          <code class="ruby">          collector &lt;&lt; &#39;) &#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="28">
          <span class="hits">12</span>
          
          <code class="ruby">        collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="bab7f4c2e64ccb62ee46cef49b48878572b867d6">
  <div class="header">
    <h3>lib/arel/extensions/infix_operation.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>7</b> relevant lines. 
      <span class="green"><b>7</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_InfixOperation(o)</code>
        </li>
      
        <li class="covered" data-hits="481" data-linenumber="8">
          <span class="hits">481</span>
          
          <code class="ruby">        visit_edge o, &#39;operator&#39;</code>
        </li>
      
        <li class="covered" data-hits="481" data-linenumber="9">
          <span class="hits">481</span>
          
          <code class="ruby">        visit_edge o, &#39;left&#39;</code>
        </li>
      
        <li class="covered" data-hits="481" data-linenumber="10">
          <span class="hits">481</span>
          
          <code class="ruby">        visit_edge o, &#39;right&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="8ddbf2dc1efab98a0e9f26c06264fea1d524ad0b">
  <div class="header">
    <h3>lib/arel/extensions/insert_manager.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>8</b> relevant lines. 
      <span class="green"><b>8</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  class InsertManager &lt; Arel::TreeManager</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    def ==(other)</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="7">
          <span class="hits">15</span>
          
          <code class="ruby">      other.is_a?(self.class) &amp;&amp; @ast == other.ast</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_InsertManager(o)</code>
        </li>
      
        <li class="covered" data-hits="86" data-linenumber="14">
          <span class="hits">86</span>
          
          <code class="ruby">        visit_edge o, &#39;ast&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="ac3853f054b9c508284b6b51d1c301ed1510bf49">
  <div class="header">
    <h3>lib/arel/extensions/insert_statement.rb</h3>
    <h4><span class="green">91.49 %</span> covered</h4>
    <div>
      <b>47</b> relevant lines. 
      <span class="green"><b>43</b> lines covered</span> and
      <span class="red"><b>4</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class InsertStatement</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">      # https://www.postgresql.org/docs/9.5/sql-insert.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="8">
          <span class="hits">5</span>
          
          <code class="ruby">      module InsertStatementExtension</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">        attr_accessor :with</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">        attr_accessor :conflict</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">        attr_accessor :override</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">        attr_accessor :returning</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">        def initialize</code>
        </li>
      
        <li class="covered" data-hits="454" data-linenumber="15">
          <span class="hits">454</span>
          
          <code class="ruby">          super</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="454" data-linenumber="17">
          <span class="hits">454</span>
          
          <code class="ruby">          @returning = []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="21">
          <span class="hits">5</span>
          
          <code class="ruby">      prepend(InsertStatementExtension)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="25">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="26">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">      # rubocop:disable Metrics/CyclomaticComplexity</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">      # rubocop:disable Metrics/AbcSize</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">      # rubocop:disable Metrics/PerceivedComplexity</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="30">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_InsertStatement(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="399" data-linenumber="31">
          <span class="hits">399</span>
          
          <code class="ruby">        if o.with</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="32">
          <span class="hits">5</span>
          
          <code class="ruby">          collector = visit o.with, collector</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="33">
          <span class="hits">5</span>
          
          <code class="ruby">          collector &lt;&lt; &#39; &#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="399" data-linenumber="36">
          <span class="hits">399</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;INSERT INTO &#39;</code>
        </li>
      
        <li class="covered" data-hits="399" data-linenumber="37">
          <span class="hits">399</span>
          
          <code class="ruby">        collector = visit o.relation, collector</code>
        </li>
      
        <li class="covered" data-hits="399" data-linenumber="38">
          <span class="hits">399</span>
          
          <code class="ruby">        if o.columns.any?</code>
        </li>
      
        <li class="covered" data-hits="364" data-linenumber="39">
          <span class="hits">364</span>
          
          <code class="ruby">          collector &lt;&lt; &quot; (#{o.columns.map do |x|</code>
        </li>
      
        <li class="covered" data-hits="906" data-linenumber="40">
          <span class="hits">906</span>
          
          <code class="ruby">            quote_column_name x.name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby">          end.join &#39;, &#39;})&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="399" data-linenumber="44">
          <span class="hits">399</span>
          
          <code class="ruby">        case o.override</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby">        when :OVERRIDING_KIND_UNDEFINED, :OVERRIDING_NOT_SET, nil</code>
        </li>
      
        <li class="covered" data-hits="389" data-linenumber="46">
          <span class="hits">389</span>
          
          <code class="ruby">          collector &lt;&lt; &#39;&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby">        when :OVERRIDING_USER_VALUE</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="48">
          <span class="hits">5</span>
          
          <code class="ruby">          collector &lt;&lt; &#39; OVERRIDING USER VALUE&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">        when :OVERRIDING_SYSTEM_VALUE</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="50">
          <span class="hits">5</span>
          
          <code class="ruby">          collector &lt;&lt; &#39; OVERRIDING SYSTEM VALUE&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="52">
          
          
          <code class="ruby">          raise &quot;Unknown override `#{o.override}`&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="399" data-linenumber="55">
          <span class="hits">399</span>
          
          <code class="ruby">        collector = if o.values</code>
        </li>
      
        <li class="covered" data-hits="399" data-linenumber="56">
          <span class="hits">399</span>
          
          <code class="ruby">                      maybe_visit o.values, collector</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="57">
          
          
          <code class="ruby">                    elsif o.select</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="58">
          
          
          <code class="ruby">                      maybe_visit o.select, collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">                    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="60">
          
          
          <code class="ruby">                      collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">                    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="399" data-linenumber="63">
          <span class="hits">399</span>
          
          <code class="ruby">        visit(o.conflict, collector) if o.conflict</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="64">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="399" data-linenumber="65">
          <span class="hits">399</span>
          
          <code class="ruby">        unless o.returning.empty?</code>
        </li>
      
        <li class="covered" data-hits="71" data-linenumber="66">
          <span class="hits">71</span>
          
          <code class="ruby">          collector &lt;&lt; &#39; RETURNING &#39;</code>
        </li>
      
        <li class="covered" data-hits="71" data-linenumber="67">
          <span class="hits">71</span>
          
          <code class="ruby">          collector = inject_join o.returning, collector, &#39;, &#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="399" data-linenumber="70">
          <span class="hits">399</span>
          
          <code class="ruby">        collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">      # rubocop:enable Metrics/CyclomaticComplexity</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby">      # rubocop:enable Metrics/AbcSize</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">      # rubocop:enable Metrics/PerceivedComplexity</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="77">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="78">
          <span class="hits">5</span>
          
          <code class="ruby">      module InsertStatementExtension</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="79">
          <span class="hits">5</span>
          
          <code class="ruby">        def visit_Arel_Nodes_InsertStatement(o)</code>
        </li>
      
        <li class="covered" data-hits="86" data-linenumber="80">
          <span class="hits">86</span>
          
          <code class="ruby">          super</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="81">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="86" data-linenumber="82">
          <span class="hits">86</span>
          
          <code class="ruby">          visit_edge o, &#39;with&#39;</code>
        </li>
      
        <li class="covered" data-hits="86" data-linenumber="83">
          <span class="hits">86</span>
          
          <code class="ruby">          visit_edge o, &#39;conflict&#39;</code>
        </li>
      
        <li class="covered" data-hits="86" data-linenumber="84">
          <span class="hits">86</span>
          
          <code class="ruby">          visit_edge o, &#39;override&#39;</code>
        </li>
      
        <li class="covered" data-hits="86" data-linenumber="85">
          <span class="hits">86</span>
          
          <code class="ruby">          visit_edge o, &#39;returning&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="86">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="89">
          <span class="hits">5</span>
          
          <code class="ruby">      prepend(InsertStatementExtension)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="91">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="93">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="94">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="c422f44e472540a31cf4334fea53ee3338372276">
  <div class="header">
    <h3>lib/arel/extensions/intersect_all.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>8</b> relevant lines. 
      <span class="green"><b>8</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class IntersectAll &lt; Binary</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_IntersectAll(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;( &#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">        infix_value(o, collector, &#39; INTERSECT ALL &#39;) &lt;&lt; &#39; )&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="e117450934d9b31ebdc0cb69357070c7d67d95d2">
  <div class="header">
    <h3>lib/arel/extensions/into.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>8</b> relevant lines. 
      <span class="green"><b>8</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class Into &lt; Arel::Nodes::Unary</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Into(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="13">
          <span class="hits">15</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;INTO &#39;</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="14">
          <span class="hits">15</span>
          
          <code class="ruby">        visit o.expr, collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="3c4a0ac75bfa743a181d1dab6538e1ac55589565">
  <div class="header">
    <h3>lib/arel/extensions/json_get_field.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>5</b> relevant lines. 
      <span class="green"><b>5</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/9.4/functions-json.html#FUNCTIONS-JSON-OP-TABLE</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">    class JsonGetField &lt; Arel::Nodes::InfixOperation</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(left, right)</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="6">
          <span class="hits">20</span>
          
          <code class="ruby">        super(:&#39;-&gt;&gt;&#39;, left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="8211093c350bcb34b57626fa40bd56f8d4e1e9dd">
  <div class="header">
    <h3>lib/arel/extensions/json_get_object.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>5</b> relevant lines. 
      <span class="green"><b>5</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/9.4/functions-json.html#FUNCTIONS-JSON-OP-TABLE</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">    class JsonGetObject &lt; Arel::Nodes::InfixOperation</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(left, right)</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="6">
          <span class="hits">20</span>
          
          <code class="ruby">        super(:&#39;-&gt;&#39;, left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="9955f1ce632448071e8b0681dacb48224c053c6a">
  <div class="header">
    <h3>lib/arel/extensions/json_path_get_field.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>5</b> relevant lines. 
      <span class="green"><b>5</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/9.4/functions-json.html#FUNCTIONS-JSON-OP-TABLE</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">    class JsonPathGetField &lt; Arel::Nodes::InfixOperation</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(left, right)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="6">
          <span class="hits">10</span>
          
          <code class="ruby">        super(:&#39;#&gt;&gt;&#39;, left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="de854851dd4781f3d7fc912e99a9a3d97dcd5649">
  <div class="header">
    <h3>lib/arel/extensions/json_path_get_object.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>5</b> relevant lines. 
      <span class="green"><b>5</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/9.4/functions-json.html#FUNCTIONS-JSON-OP-TABLE</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">    class JsonPathGetObject &lt; Arel::Nodes::InfixOperation</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(left, right)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="6">
          <span class="hits">10</span>
          
          <code class="ruby">        super(:&#39;#&gt;&#39;, left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="bc342b718c58c86e278fa216d27efaf4cbdc5120">
  <div class="header">
    <h3>lib/arel/extensions/jsonb_all_key_exists.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>5</b> relevant lines. 
      <span class="green"><b>5</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/9.4/functions-json.html#FUNCTIONS-JSONB-OP-TABLE</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">    class JsonbAllKeyExists &lt; Arel::Nodes::InfixOperation</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(left, right)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="6">
          <span class="hits">10</span>
          
          <code class="ruby">        super(:&#39;?&amp;&#39;, left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="9b8960920faca7ad248ea57d4403c08a0008526c">
  <div class="header">
    <h3>lib/arel/extensions/jsonb_any_key_exists.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>5</b> relevant lines. 
      <span class="green"><b>5</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/9.4/functions-json.html#FUNCTIONS-JSONB-OP-TABLE</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">    class JsonbAnyKeyExists &lt; Arel::Nodes::InfixOperation</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(left, right)</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="6">
          <span class="hits">20</span>
          
          <code class="ruby">        super(:&#39;?|&#39;, left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="d0affe06749a8d77405088050b631ed2bc6e63cc">
  <div class="header">
    <h3>lib/arel/extensions/jsonb_key_exists.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>5</b> relevant lines. 
      <span class="green"><b>5</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/9.4/functions-json.html#FUNCTIONS-JSONB-OP-TABLE</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">    class JsonbKeyExists &lt; Arel::Nodes::InfixOperation</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(left, right)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="6">
          <span class="hits">10</span>
          
          <code class="ruby">        super(:&#39;?&#39;, left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="24a9fc5af6ab551661dd8fcb8db0469395902d39">
  <div class="header">
    <h3>lib/arel/extensions/lateral.rb</h3>
    <h4><span class="red">78.57 %</span> covered</h4>
    <div>
      <b>14</b> relevant lines. 
      <span class="green"><b>11</b> lines covered</span> and
      <span class="red"><b>3</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    # https://github.com/mvgijssel/arel_toolkit/issues/46</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">    class Lateral &lt; Arel::Nodes::Unary</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">      # https://github.com/mvgijssel/arel_toolkit/issues/46</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Lateral(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="15">
          <span class="hits">4</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;LATERAL &#39;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="16">
          <span class="hits">4</span>
          
          <code class="ruby">        grouping_parentheses o, collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">      # https://github.com/mvgijssel/arel_toolkit/issues/46</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="20">
          <span class="hits">5</span>
          
          <code class="ruby">      def grouping_parentheses(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="21">
          <span class="hits">4</span>
          
          <code class="ruby">        if o.expr.is_a? Nodes::SelectStatement</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="22">
          
          
          <code class="ruby">          collector &lt;&lt; &#39;(&#39;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="23">
          
          
          <code class="ruby">          visit o.expr, collector</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="24">
          
          
          <code class="ruby">          collector &lt;&lt; &#39;)&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="26">
          <span class="hits">4</span>
          
          <code class="ruby">          visit o.expr, collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="89dd0c283c83a987eb1d8b9d9fe4bd679887d42e">
  <div class="header">
    <h3>lib/arel/extensions/least.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>9</b> relevant lines. 
      <span class="green"><b>9</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/10/functions-conditional.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">    class Least &lt; Arel::Nodes::Unary</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Least(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="14">
          <span class="hits">10</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;LEAST(&#39;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="15">
          <span class="hits">10</span>
          
          <code class="ruby">        collector = inject_join(o.expr, collector, &#39;, &#39;)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="16">
          <span class="hits">10</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;)&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="4da9be76908b1e511eda91013cad97640e77a0f0">
  <div class="header">
    <h3>lib/arel/extensions/local_time.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>9</b> relevant lines. 
      <span class="green"><b>9</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class LocalTime &lt; TimeWithPrecision</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_LocalTime(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="13">
          <span class="hits">15</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;localtime&#39;</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="14">
          <span class="hits">15</span>
          
          <code class="ruby">        collector &lt;&lt; &quot;(#{o.precision.to_i})&quot; if o.precision</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="15">
          <span class="hits">15</span>
          
          <code class="ruby">        collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="4ea255a9599ca501848eabc334b6043c7538c455">
  <div class="header">
    <h3>lib/arel/extensions/local_timestamp.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>9</b> relevant lines. 
      <span class="green"><b>9</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class LocalTimestamp &lt; TimeWithPrecision</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_LocalTimestamp(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="13">
          <span class="hits">15</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;localtimestamp&#39;</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="14">
          <span class="hits">15</span>
          
          <code class="ruby">        collector &lt;&lt; &quot;(#{o.precision.to_i})&quot; if o.precision</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="15">
          <span class="hits">15</span>
          
          <code class="ruby">        collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="1dfa53208341962229627ace1fc6b263336f6840">
  <div class="header">
    <h3>lib/arel/extensions/modulo.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>5</b> relevant lines. 
      <span class="green"><b>5</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/9.4/functions-math.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">    class Modulo &lt; Arel::Nodes::InfixOperation</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(left, right)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="6">
          <span class="hits">10</span>
          
          <code class="ruby">        super(:%, left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="3dd25b90a6a6521621751fdcd3c0f2c6d037f743">
  <div class="header">
    <h3>lib/arel/extensions/named_argument.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>11</b> relevant lines. 
      <span class="green"><b>11</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class NamedArgument &lt; Arel::Nodes::Binary</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">      alias name left</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="8">
          <span class="hits">5</span>
          
          <code class="ruby">      alias value right</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_NamedArgument(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">        collector &lt;&lt; o.name</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="16">
          <span class="hits">5</span>
          
          <code class="ruby">        collector &lt;&lt; &#39; =&gt; &#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="17">
          <span class="hits">5</span>
          
          <code class="ruby">        visit(o.value, collector)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="cd8f5e4fee8d592bda69a8557de15bf8f8608fed">
  <div class="header">
    <h3>lib/arel/extensions/named_function.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>9</b> relevant lines. 
      <span class="green"><b>9</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_NamedFunction(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="1542" data-linenumber="8">
          <span class="hits">1542</span>
          
          <code class="ruby">        aggregate(o.name, o, collector)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_NamedFunction(o)</code>
        </li>
      
        <li class="covered" data-hits="1492" data-linenumber="14">
          <span class="hits">1492</span>
          
          <code class="ruby">        visit_edge o, &#39;name&#39;</code>
        </li>
      
        <li class="covered" data-hits="1492" data-linenumber="15">
          <span class="hits">1492</span>
          
          <code class="ruby">        function(o)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="47962a453a61b921549cf8be4ba6787461d06f5d">
  <div class="header">
    <h3>lib/arel/extensions/natural_join.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>8</b> relevant lines. 
      <span class="green"><b>8</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class NaturalJoin &lt; Arel::Nodes::Join</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_NaturalJoin(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;NATURAL JOIN &#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">        visit o.left, collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="9b23a95346cdcbd248076dfef0c501a422c7330a">
  <div class="header">
    <h3>lib/arel/extensions/node.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>6</b> relevant lines. 
      <span class="green"><b>6</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">    class Node</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">      def to_sql_and_binds(engine = Arel::Table.engine)</code>
        </li>
      
        <li class="covered" data-hits="230" data-linenumber="5">
          <span class="hits">230</span>
          
          <code class="ruby">        collector = engine.connection.send(:collector)</code>
        </li>
      
        <li class="covered" data-hits="230" data-linenumber="6">
          <span class="hits">230</span>
          
          <code class="ruby">        engine.connection.visitor.accept(self, collector).value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="9f196e59fddf91f676a9195ad6e9e08714986878">
  <div class="header">
    <h3>lib/arel/extensions/not_between.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>9</b> relevant lines. 
      <span class="green"><b>9</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class NotBetween &lt; Arel::Nodes::Between</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_NotBetween(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">        collector = visit o.left, collector</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">        collector &lt;&lt; &#39; NOT BETWEEN &#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">        visit o.right, collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="58f7a89e9e43aa33b7c61539c5c40e16f6f67a1c">
  <div class="header">
    <h3>lib/arel/extensions/not_between_symmetric.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>9</b> relevant lines. 
      <span class="green"><b>9</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    # Postgres: https://www.postgresql.org/docs/9.1/functions-comparison.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">    class NotBetweenSymmetric &lt; Arel::Nodes::BetweenSymmetric</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_NotBetweenSymmetric(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">        collector = visit o.left, collector</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">        collector &lt;&lt; &#39; NOT BETWEEN SYMMETRIC &#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="16">
          <span class="hits">5</span>
          
          <code class="ruby">        visit o.right, collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="f56f716221e2faca71da08041cac2f07541715b4">
  <div class="header">
    <h3>lib/arel/extensions/not_distinct_from.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>5</b> relevant lines. 
      <span class="green"><b>5</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">    class NotDistinctFrom &lt; Arel::Nodes::InfixOperation</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(left, right)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="5">
          <span class="hits">10</span>
          
          <code class="ruby">        super(:&#39;IS NOT DISTINCT FROM&#39;, left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="dd075b2b57e8d2af6580d18f42421b4f6c44403c">
  <div class="header">
    <h3>lib/arel/extensions/not_equal.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>13</b> relevant lines. 
      <span class="green"><b>13</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_NotEqual(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="50" data-linenumber="8">
          <span class="hits">50</span>
          
          <code class="ruby">        right = o.right</code>
        </li>
      
        <li class="covered" data-hits="50" data-linenumber="9">
          <span class="hits">50</span>
          
          <code class="ruby">        collector = visit o.left, collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="50" data-linenumber="11">
          <span class="hits">50</span>
          
          <code class="ruby">        if [Arel::Nodes::Unknown, Arel::Nodes::False, Arel::Nodes::True].include?(right.class)</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="12">
          <span class="hits">15</span>
          
          <code class="ruby">          collector &lt;&lt; &#39; IS NOT &#39;</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="13">
          <span class="hits">15</span>
          
          <code class="ruby">          visit right, collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="15">
          <span class="hits">35</span>
          
          <code class="ruby">        elsif right.nil?</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="16">
          <span class="hits">10</span>
          
          <code class="ruby">          collector &lt;&lt; &#39; IS NOT NULL&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="19">
          <span class="hits">25</span>
          
          <code class="ruby">          collector &lt;&lt; &#39; != &#39;</code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="20">
          <span class="hits">25</span>
          
          <code class="ruby">          visit right, collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="f2c097d2149def497643d69d2b3d33de60e21f58">
  <div class="header">
    <h3>lib/arel/extensions/not_similar.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>13</b> relevant lines. 
      <span class="green"><b>13</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    # Postgres: https://www.postgresql.org/docs/9/functions-matching.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">    class NotSimilar &lt; Arel::Nodes::Similar</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_NotSimilar(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="14">
          <span class="hits">10</span>
          
          <code class="ruby">        visit o.left, collector</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="15">
          <span class="hits">10</span>
          
          <code class="ruby">        collector &lt;&lt; &#39; NOT SIMILAR TO &#39;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="16">
          <span class="hits">10</span>
          
          <code class="ruby">        visit o.right, collector</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="17">
          <span class="hits">10</span>
          
          <code class="ruby">        if o.escape</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">          collector &lt;&lt; &#39; ESCAPE &#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="19">
          <span class="hits">5</span>
          
          <code class="ruby">          visit o.escape, collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="21">
          <span class="hits">5</span>
          
          <code class="ruby">          collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="e0404412be039c16a61b3ec468b3fdf1d35016ae">
  <div class="header">
    <h3>lib/arel/extensions/null_if.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>11</b> relevant lines. 
      <span class="green"><b>11</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class NullIf &lt; Arel::Nodes::Binary</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_NullIf(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="13">
          <span class="hits">15</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;NULLIF(&#39;</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="14">
          <span class="hits">15</span>
          
          <code class="ruby">        visit o.left, collector</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="15">
          <span class="hits">15</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;, &#39;</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="16">
          <span class="hits">15</span>
          
          <code class="ruby">        visit o.right, collector</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="17">
          <span class="hits">15</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;)&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="5519c02567b4ade4af209c4b8e3298021df9f55d">
  <div class="header">
    <h3>lib/arel/extensions/ordering.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>30</b> relevant lines. 
      <span class="green"><b>30</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class Ordering</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">      module OrderingExtension</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">        # Postgres: https://www.postgresql.org/docs/9.4/queries-order.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">        attr_accessor :nulls</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">        def initialize(expr, nulls = 0)</code>
        </li>
      
        <li class="covered" data-hits="248" data-linenumber="12">
          <span class="hits">248</span>
          
          <code class="ruby">          super(expr)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="248" data-linenumber="14">
          <span class="hits">248</span>
          
          <code class="ruby">          @nulls = nulls</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">      prepend OrderingExtension</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="22">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="23">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="24">
          <span class="hits">5</span>
          
          <code class="ruby">      alias old_visit_Arel_Nodes_Ascending visit_Arel_Nodes_Ascending</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="25">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Ascending(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="109" data-linenumber="26">
          <span class="hits">109</span>
          
          <code class="ruby">        old_visit_Arel_Nodes_Ascending(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="109" data-linenumber="27">
          <span class="hits">109</span>
          
          <code class="ruby">        apply_ordering_nulls(o, collector)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="30">
          <span class="hits">5</span>
          
          <code class="ruby">      alias old_visit_Arel_Nodes_Descending visit_Arel_Nodes_Descending</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="31">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Descending(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="44" data-linenumber="32">
          <span class="hits">44</span>
          
          <code class="ruby">        old_visit_Arel_Nodes_Descending(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="44" data-linenumber="33">
          <span class="hits">44</span>
          
          <code class="ruby">        apply_ordering_nulls(o, collector)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="36">
          <span class="hits">5</span>
          
          <code class="ruby">      def apply_ordering_nulls(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="153" data-linenumber="37">
          <span class="hits">153</span>
          
          <code class="ruby">        case o.nulls</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">        when 1</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="39">
          <span class="hits">5</span>
          
          <code class="ruby">          collector &lt;&lt; &#39; NULLS FIRST&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">        when 2</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="41">
          <span class="hits">5</span>
          
          <code class="ruby">          collector &lt;&lt; &#39; NULLS LAST&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="143" data-linenumber="43">
          <span class="hits">143</span>
          
          <code class="ruby">          collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="48">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="49">
          <span class="hits">5</span>
          
          <code class="ruby">      module OrderingExtension</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="50">
          <span class="hits">5</span>
          
          <code class="ruby">        def visit_Arel_Nodes_Ordering(o)</code>
        </li>
      
        <li class="covered" data-hits="128" data-linenumber="51">
          <span class="hits">128</span>
          
          <code class="ruby">          super</code>
        </li>
      
        <li class="covered" data-hits="128" data-linenumber="52">
          <span class="hits">128</span>
          
          <code class="ruby">          visit_edge o, &#39;nulls&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="56">
          <span class="hits">5</span>
          
          <code class="ruby">      prepend OrderingExtension</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="f55e57d6951c365be30b7b43a4526420638e50e6">
  <div class="header">
    <h3>lib/arel/extensions/overlap.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>5</b> relevant lines. 
      <span class="green"><b>5</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="4" data-linenumber="1">
          <span class="hits">4</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="2">
          <span class="hits">4</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/9.1/functions-array.html</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="4">
          <span class="hits">4</span>
          
          <code class="ruby">    class Overlap &lt; Arel::Nodes::InfixOperation</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="5">
          <span class="hits">4</span>
          
          <code class="ruby">      def initialize(left, right)</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="6">
          <span class="hits">40</span>
          
          <code class="ruby">        super(:&#39;&amp;&amp;&#39;, left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="3f1f3f3288bc746fb7757b8d51a1984456e5befe">
  <div class="header">
    <h3>lib/arel/extensions/overlaps.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>33</b> relevant lines. 
      <span class="green"><b>33</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/10/functions-string.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">    inheritance_class = if Gem.loaded_specs[&#39;activerecord&#39;].version &lt; Gem::Version.new(&#39;6.1.0&#39;)</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="8">
          <span class="hits">3</span>
          
          <code class="ruby">                          Arel::Nodes::Node</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">                        else</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="10">
          <span class="hits">2</span>
          
          <code class="ruby">                          Arel::Nodes::InfixOperation</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">                        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">    class Overlaps &lt; inheritance_class</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :start1</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :end1</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="16">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :start2</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="17">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :end2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="19">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(start1, end1, start2, end2)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="20">
          <span class="hits">10</span>
          
          <code class="ruby">        @start1 = start1</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="21">
          <span class="hits">10</span>
          
          <code class="ruby">        @end1 = end1</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="22">
          <span class="hits">10</span>
          
          <code class="ruby">        @start2 = start2</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="23">
          <span class="hits">10</span>
          
          <code class="ruby">        @end2 = end2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="28">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="29">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="30">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Overlaps(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="31">
          <span class="hits">5</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;(&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="32">
          <span class="hits">5</span>
          
          <code class="ruby">        visit o.start1, collector</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="33">
          <span class="hits">5</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;, &#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="34">
          <span class="hits">5</span>
          
          <code class="ruby">        visit o.end1, collector</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="35">
          <span class="hits">5</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;) OVERLAPS (&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="36">
          <span class="hits">5</span>
          
          <code class="ruby">        visit o.start2, collector</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="37">
          <span class="hits">5</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;, &#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="38">
          <span class="hits">5</span>
          
          <code class="ruby">        visit o.end2, collector</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="39">
          <span class="hits">5</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;)&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="43">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="44">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Overlaps(o)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="45">
          <span class="hits">5</span>
          
          <code class="ruby">        visit_edge o, &#39;start1&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="46">
          <span class="hits">5</span>
          
          <code class="ruby">        visit_edge o, &#39;end1&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="47">
          <span class="hits">5</span>
          
          <code class="ruby">        visit_edge o, &#39;start2&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="48">
          <span class="hits">5</span>
          
          <code class="ruby">        visit_edge o, &#39;end2&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="84022ddd4346bac55982ebaf169a094ed5e1e453">
  <div class="header">
    <h3>lib/arel/extensions/overlay.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>31</b> relevant lines. 
      <span class="green"><b>31</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"># rubocop:disable Metrics/AbcSize</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/10/functions-string.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="8">
          <span class="hits">5</span>
          
          <code class="ruby">    class Overlay &lt; Arel::Nodes::Node</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :string</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :substring</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :start</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :length</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(string, substring, start, length = nil)</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="15">
          <span class="hits">40</span>
          
          <code class="ruby">        @string = string</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="16">
          <span class="hits">40</span>
          
          <code class="ruby">        @substring = substring</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="17">
          <span class="hits">40</span>
          
          <code class="ruby">        @start = start</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="18">
          <span class="hits">40</span>
          
          <code class="ruby">        @length = length</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="23">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="24">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="25">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Overlay(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="26">
          <span class="hits">20</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;overlay(&#39;</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="27">
          <span class="hits">20</span>
          
          <code class="ruby">        visit o.string, collector</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="28">
          <span class="hits">20</span>
          
          <code class="ruby">        collector &lt;&lt; &#39; placing &#39;</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="29">
          <span class="hits">20</span>
          
          <code class="ruby">        visit o.substring, collector</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="30">
          <span class="hits">20</span>
          
          <code class="ruby">        collector &lt;&lt; &#39; from &#39;</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="31">
          <span class="hits">20</span>
          
          <code class="ruby">        visit o.start, collector</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="32">
          <span class="hits">20</span>
          
          <code class="ruby">        unless o.length.nil?</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="33">
          <span class="hits">15</span>
          
          <code class="ruby">          collector &lt;&lt; &#39; for &#39;</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="34">
          <span class="hits">15</span>
          
          <code class="ruby">          visit o.length, collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="36">
          <span class="hits">20</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;)&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="40">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="41">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Overlay(o)</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="42">
          <span class="hits">20</span>
          
          <code class="ruby">        visit_edge o, &#39;string&#39;</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="43">
          <span class="hits">20</span>
          
          <code class="ruby">        visit_edge o, &#39;substring&#39;</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="44">
          <span class="hits">20</span>
          
          <code class="ruby">        visit_edge o, &#39;start&#39;</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="45">
          <span class="hits">20</span>
          
          <code class="ruby">        visit_edge o, &#39;length&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby"># rubocop:enable Metrics/AbcSize</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="2f655fb76cc33b87d080ec7051c7a6c28a7ee8a6">
  <div class="header">
    <h3>lib/arel/extensions/position.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>13</b> relevant lines. 
      <span class="green"><b>13</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/9.1/functions-string.html#FUNCTIONS-STRING-SQL</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">    class Position &lt; Arel::Nodes::Binary</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="8">
          <span class="hits">5</span>
          
          <code class="ruby">      alias substring left</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">      alias string right</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Position(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="16">
          <span class="hits">15</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;position(&#39;</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="17">
          <span class="hits">15</span>
          
          <code class="ruby">        visit o.substring, collector</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="18">
          <span class="hits">15</span>
          
          <code class="ruby">        collector &lt;&lt; &#39; in &#39;</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="19">
          <span class="hits">15</span>
          
          <code class="ruby">        visit o.string, collector</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="20">
          <span class="hits">15</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;)&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="739bd301ff9a362393682e457f2e771b9347d953">
  <div class="header">
    <h3>lib/arel/extensions/prepare.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>21</b> relevant lines. 
      <span class="green"><b>21</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Prepare(o)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="8">
          <span class="hits">10</span>
          
          <code class="ruby">        visit_edge o, &#39;name&#39;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="9">
          <span class="hits">10</span>
          
          <code class="ruby">        visit_edge o, &#39;argtypes&#39;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="10">
          <span class="hits">10</span>
          
          <code class="ruby">        visit_edge o, &#39;query&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Prepare(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="16">
          <span class="hits">10</span>
          
          <code class="ruby">        collector &lt;&lt; &quot;PREPARE #{o.name}&quot;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="17">
          <span class="hits">10</span>
          
          <code class="ruby">        collector &lt;&lt; &quot; (#{o.argtypes.join(&#39;, &#39;)})&quot; if o.argtypes</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="18">
          <span class="hits">10</span>
          
          <code class="ruby">        collector &lt;&lt; &#39; AS (&#39;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="19">
          <span class="hits">10</span>
          
          <code class="ruby">        visit(o.query, collector)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="20">
          <span class="hits">10</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;)&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="25">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="26">
          <span class="hits">5</span>
          
          <code class="ruby">    class Prepare &lt; Node</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="27">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :name, :query, :argtypes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="29">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(name, argtypes, query)</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="30">
          <span class="hits">20</span>
          
          <code class="ruby">        @name = name</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="31">
          <span class="hits">20</span>
          
          <code class="ruby">        @query = query</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="32">
          <span class="hits">20</span>
          
          <code class="ruby">        @argtypes = argtypes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="02609cc17aa1cd8ec4282792c99eed5cd618dd8d">
  <div class="header">
    <h3>lib/arel/extensions/range_function.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>14</b> relevant lines. 
      <span class="green"><b>14</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    # Postgres: https://www.postgresql.org/docs/9.4/sql-select.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">    class RangeFunction &lt; Arel::Nodes::Unary</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="8">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :is_rowsfrom</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(*args, is_rowsfrom:, **kwargs)</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="11">
          <span class="hits">30</span>
          
          <code class="ruby">        @is_rowsfrom = is_rowsfrom</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="12">
          <span class="hits">30</span>
          
          <code class="ruby">        super(*args, **kwargs)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="17">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="19">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_RangeFunction(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="20">
          <span class="hits">15</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;ROWS FROM (&#39; if o.is_rowsfrom</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="21">
          <span class="hits">15</span>
          
          <code class="ruby">        visit o.expr, collector</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="22">
          <span class="hits">15</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;)&#39; if o.is_rowsfrom</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="24">
          <span class="hits">15</span>
          
          <code class="ruby">        collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="d32438f2d8830801503ce4b0942c744f1043916b">
  <div class="header">
    <h3>lib/arel/extensions/row.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>11</b> relevant lines. 
      <span class="green"><b>11</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    # Postgres: https://www.postgresql.org/docs/9.2/sql-expressions.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">    class Row &lt; Arel::Nodes::Binary</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="8">
          <span class="hits">5</span>
          
          <code class="ruby">      alias expr left</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">      alias row_format right</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Row(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="16">
          <span class="hits">10</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;ROW(&#39;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="17">
          <span class="hits">10</span>
          
          <code class="ruby">        visit o.expr, collector</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="18">
          <span class="hits">10</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;)&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="e5227a83a432ce374426f9c707c11189c1b675fe">
  <div class="header">
    <h3>lib/arel/extensions/select_core.rb</h3>
    <h4><span class="green">94.12 %</span> covered</h4>
    <div>
      <b>34</b> relevant lines. 
      <span class="green"><b>32</b> lines covered</span> and
      <span class="red"><b>2</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"># rubocop:disable Metrics/AbcSize</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">    class SelectCore &lt; Arel::Nodes::Node</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="8">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_accessor :into</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_accessor :top</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">      private</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">      def hash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">        [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">          @source, @set_quantifier, @projections, @optimizer_hints,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">          @wheres, @groups, @havings, @windows, @comment, @top, @into</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="17">
          
          
          <code class="ruby">        ].hash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="20">
          <span class="hits">5</span>
          
          <code class="ruby">      def eql?(other)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="21">
          
          
          <code class="ruby">        super &amp;&amp;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">          top == other.top &amp;&amp;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">          into == other.into</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="28">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="29">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="30">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_SelectCore(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="3749" data-linenumber="31">
          <span class="hits">3749</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;SELECT&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3749" data-linenumber="33">
          <span class="hits">3749</span>
          
          <code class="ruby">        collector = maybe_visit o.set_quantifier, collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3749" data-linenumber="35">
          <span class="hits">3749</span>
          
          <code class="ruby">        collect_nodes_for o.projections, collector, &#39; &#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3749" data-linenumber="37">
          <span class="hits">3749</span>
          
          <code class="ruby">        maybe_visit o.into, collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3749" data-linenumber="39">
          <span class="hits">3749</span>
          
          <code class="ruby">        if o.source &amp;&amp; !o.source.empty?</code>
        </li>
      
        <li class="covered" data-hits="904" data-linenumber="40">
          <span class="hits">904</span>
          
          <code class="ruby">          collector &lt;&lt; &#39; FROM &#39;</code>
        </li>
      
        <li class="covered" data-hits="904" data-linenumber="41">
          <span class="hits">904</span>
          
          <code class="ruby">          collector = visit o.source, collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3749" data-linenumber="44">
          <span class="hits">3749</span>
          
          <code class="ruby">        collect_nodes_for o.wheres, collector, &#39; WHERE &#39;, &#39; AND &#39;</code>
        </li>
      
        <li class="covered" data-hits="3749" data-linenumber="45">
          <span class="hits">3749</span>
          
          <code class="ruby">        collect_nodes_for o.groups, collector, &#39; GROUP BY &#39;</code>
        </li>
      
        <li class="covered" data-hits="3749" data-linenumber="46">
          <span class="hits">3749</span>
          
          <code class="ruby">        unless o.havings.empty?</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="47">
          <span class="hits">5</span>
          
          <code class="ruby">          collector &lt;&lt; &#39; HAVING &#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="48">
          <span class="hits">5</span>
          
          <code class="ruby">          inject_join o.havings, collector, &#39; AND &#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="covered" data-hits="3749" data-linenumber="50">
          <span class="hits">3749</span>
          
          <code class="ruby">        collect_nodes_for o.windows, collector, &#39; WINDOW &#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3749" data-linenumber="52">
          <span class="hits">3749</span>
          
          <code class="ruby">        collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="56">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="57">
          <span class="hits">5</span>
          
          <code class="ruby">      module SelectCoreExtension</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="58">
          <span class="hits">5</span>
          
          <code class="ruby">        def visit_Arel_Nodes_SelectCore(o)</code>
        </li>
      
        <li class="covered" data-hits="3451" data-linenumber="59">
          <span class="hits">3451</span>
          
          <code class="ruby">          super</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3451" data-linenumber="61">
          <span class="hits">3451</span>
          
          <code class="ruby">          visit_edge o, &#39;into&#39;</code>
        </li>
      
        <li class="covered" data-hits="3451" data-linenumber="62">
          <span class="hits">3451</span>
          
          <code class="ruby">          visit_edge o, &#39;top&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="64">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="66">
          <span class="hits">5</span>
          
          <code class="ruby">      prepend SelectCoreExtension</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby"># rubocop:enable Metrics/AbcSize</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="3f5333c2cb6473a51fb543e70c5daa1dee87f77a">
  <div class="header">
    <h3>lib/arel/extensions/select_manager.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>10</b> relevant lines. 
      <span class="green"><b>10</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  class SelectManager</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    def ==(other)</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="7">
          <span class="hits">15</span>
          
          <code class="ruby">      other.is_a?(self.class) &amp;&amp; @ast == other.ast &amp;&amp; @ctx == other.ctx</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">    protected</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">    attr_reader :ctx</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="16">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="17">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_SelectManager(o)</code>
        </li>
      
        <li class="covered" data-hits="3208" data-linenumber="18">
          <span class="hits">3208</span>
          
          <code class="ruby">        visit_edge(o, &#39;ast&#39;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="77e4206f6dff81addf4f7c5bd124638ea42cb895">
  <div class="header">
    <h3>lib/arel/extensions/select_statement.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>24</b> relevant lines. 
      <span class="green"><b>24</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class SelectStatement</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">      module SelectStatementExtension</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">        # For INSERT statements</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">        attr_accessor :values_lists</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">        attr_accessor :union</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">        attr_writer :cores</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">      prepend SelectStatementExtension</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="19">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="20">
          <span class="hits">5</span>
          
          <code class="ruby">      module SelectStatementExtension</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="21">
          <span class="hits">5</span>
          
          <code class="ruby">        def visit_Arel_Nodes_SelectStatement(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="3739" data-linenumber="22">
          <span class="hits">3739</span>
          
          <code class="ruby">          visit(o.union, collector) if o.union</code>
        </li>
      
        <li class="covered" data-hits="3739" data-linenumber="23">
          <span class="hits">3739</span>
          
          <code class="ruby">          super</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="27">
          <span class="hits">5</span>
          
          <code class="ruby">      prepend SelectStatementExtension</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="30">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="31">
          <span class="hits">5</span>
          
          <code class="ruby">      module SelectStatementExtension</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="32">
          <span class="hits">5</span>
          
          <code class="ruby">        def visit_Arel_Nodes_SelectStatement(o)</code>
        </li>
      
        <li class="covered" data-hits="3446" data-linenumber="33">
          <span class="hits">3446</span>
          
          <code class="ruby">          super</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3441" data-linenumber="35">
          <span class="hits">3441</span>
          
          <code class="ruby">          visit_edge o, &#39;lock&#39;</code>
        </li>
      
        <li class="covered" data-hits="3441" data-linenumber="36">
          <span class="hits">3441</span>
          
          <code class="ruby">          visit_edge o, &#39;with&#39;</code>
        </li>
      
        <li class="covered" data-hits="3441" data-linenumber="37">
          <span class="hits">3441</span>
          
          <code class="ruby">          visit_edge o, &#39;union&#39;</code>
        </li>
      
        <li class="covered" data-hits="3441" data-linenumber="38">
          <span class="hits">3441</span>
          
          <code class="ruby">          visit_edge o, &#39;values_lists&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="42">
          <span class="hits">5</span>
          
          <code class="ruby">      prepend SelectStatementExtension</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="205748b0904cc6877e6ce4978c17ac5b227e61fc">
  <div class="header">
    <h3>lib/arel/extensions/session_user.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>9</b> relevant lines. 
      <span class="green"><b>9</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class SessionUser &lt; Arel::Nodes::Node</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_SessionUser(_o, collector)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;session_user&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="17">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">      alias visit_Arel_Nodes_SessionUser terminal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="33335e6168f3075b65eb467189d38d09fb318307">
  <div class="header">
    <h3>lib/arel/extensions/set_to_default.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>9</b> relevant lines. 
      <span class="green"><b>9</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/9.5/sql-insert.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">    class SetToDefault &lt; Arel::Nodes::Node</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_SetToDefault(_o, collector)</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="14">
          <span class="hits">15</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;DEFAULT&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="19">
          <span class="hits">5</span>
          
          <code class="ruby">      alias visit_Arel_Nodes_SetToDefault terminal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="d5b6a87a575e5014a0ec44d111ce309c3732c696">
  <div class="header">
    <h3>lib/arel/extensions/similar.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>15</b> relevant lines. 
      <span class="green"><b>15</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    # Postgres: https://www.postgresql.org/docs/9/functions-matching.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">    class Similar &lt; Arel::Nodes::Matches</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="8">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(left, right, escape = nil)</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="9">
          <span class="hits">40</span>
          
          <code class="ruby">        super(left, right, escape, false)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="16">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Similar(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="17">
          <span class="hits">10</span>
          
          <code class="ruby">        visit o.left, collector</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="18">
          <span class="hits">10</span>
          
          <code class="ruby">        collector &lt;&lt; &#39; SIMILAR TO &#39;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="19">
          <span class="hits">10</span>
          
          <code class="ruby">        visit o.right, collector</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="20">
          <span class="hits">10</span>
          
          <code class="ruby">        if o.escape</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="21">
          <span class="hits">5</span>
          
          <code class="ruby">          collector &lt;&lt; &#39; ESCAPE &#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="22">
          <span class="hits">5</span>
          
          <code class="ruby">          visit o.escape, collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="24">
          <span class="hits">5</span>
          
          <code class="ruby">          collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="84d14d7ad15f8f5f57d0305b42a0ced56c1bbc52">
  <div class="header">
    <h3>lib/arel/extensions/square_root.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>5</b> relevant lines. 
      <span class="green"><b>5</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/9.4/functions-math.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">    class SquareRoot &lt; Arel::Nodes::UnaryOperation</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(operand)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="6">
          <span class="hits">10</span>
          
          <code class="ruby">        super(&#39;|/&#39;, operand)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="d92537145da6b0a390a5134d7e7fa7ced175c700">
  <div class="header">
    <h3>lib/arel/extensions/substring.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>26</b> relevant lines. 
      <span class="green"><b>26</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/10/functions-string.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">    class Substring &lt; Arel::Nodes::Node</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="8">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :string</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :pattern</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :escape</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(string, pattern, escape)</code>
        </li>
      
        <li class="covered" data-hits="70" data-linenumber="13">
          <span class="hits">70</span>
          
          <code class="ruby">        @string = string</code>
        </li>
      
        <li class="covered" data-hits="70" data-linenumber="14">
          <span class="hits">70</span>
          
          <code class="ruby">        @pattern = pattern</code>
        </li>
      
        <li class="covered" data-hits="70" data-linenumber="15">
          <span class="hits">70</span>
          
          <code class="ruby">        @escape = escape</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="20">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="21">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="22">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Substring(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="23">
          <span class="hits">35</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;substring(&#39;</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="24">
          <span class="hits">35</span>
          
          <code class="ruby">        visit o.string, collector</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="25">
          <span class="hits">35</span>
          
          <code class="ruby">        collector &lt;&lt; &#39; from &#39;</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="26">
          <span class="hits">35</span>
          
          <code class="ruby">        visit o.pattern, collector</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="27">
          <span class="hits">35</span>
          
          <code class="ruby">        unless o.escape.nil?</code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="28">
          <span class="hits">25</span>
          
          <code class="ruby">          collector &lt;&lt; &#39; for &#39;</code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="29">
          <span class="hits">25</span>
          
          <code class="ruby">          visit o.escape, collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="31">
          <span class="hits">35</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;)&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="35">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="36">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Substring(o)</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="37">
          <span class="hits">35</span>
          
          <code class="ruby">        visit_edge o, &#39;string&#39;</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="38">
          <span class="hits">35</span>
          
          <code class="ruby">        visit_edge o, &#39;pattern&#39;</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="39">
          <span class="hits">35</span>
          
          <code class="ruby">        visit_edge o, &#39;escape&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="3431ec46ba15a30265625ce3051029cad5e11064">
  <div class="header">
    <h3>lib/arel/extensions/table.rb</h3>
    <h4><span class="green">97.22 %</span> covered</h4>
    <div>
      <b>36</b> relevant lines. 
      <span class="green"><b>35</b> lines covered</span> and
      <span class="red"><b>1</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"># rubocop:disable Metrics/ParameterLists</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">  class Table</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">    module TableExtension</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">      # postgres only: https://www.postgresql.org/docs/9.5/sql-select.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_accessor :only</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">      # postgres only: https://www.postgresql.org/docs/10/ddl-schemas.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_accessor :schema_name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">      # postgres only: https://www.postgresql.org/docs/9.1/catalog-pg-class.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_accessor :relpersistence</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">        name,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">        as: nil,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">        klass: nil,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">        type_caster: klass&amp;.type_caster,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">        only: false,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">        schema_name: nil,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">        relpersistence: &#39;p&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">      )</code>
        </li>
      
        <li class="covered" data-hits="2353" data-linenumber="24">
          <span class="hits">2353</span>
          
          <code class="ruby">        @only = only</code>
        </li>
      
        <li class="covered" data-hits="2353" data-linenumber="25">
          <span class="hits">2353</span>
          
          <code class="ruby">        @schema_name = schema_name</code>
        </li>
      
        <li class="covered" data-hits="2353" data-linenumber="26">
          <span class="hits">2353</span>
          
          <code class="ruby">        @relpersistence = relpersistence</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2353" data-linenumber="28">
          <span class="hits">2353</span>
          
          <code class="ruby">        if Gem.loaded_specs[&#39;activerecord&#39;].version &lt; Gem::Version.new(&#39;6.1.0&#39;)</code>
        </li>
      
        <li class="covered" data-hits="1549" data-linenumber="29">
          <span class="hits">1549</span>
          
          <code class="ruby">          super(name, as: as, type_caster: type_caster)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="804" data-linenumber="31">
          <span class="hits">804</span>
          
          <code class="ruby">          super(name, klass: klass, as: as, type_caster: type_caster)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="36">
          <span class="hits">5</span>
          
          <code class="ruby">    prepend TableExtension</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="39">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="40">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="41">
          <span class="hits">5</span>
          
          <code class="ruby">      module TableExtension</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="42">
          <span class="hits">5</span>
          
          <code class="ruby">        def visit_Arel_Table(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="1722" data-linenumber="43">
          <span class="hits">1722</span>
          
          <code class="ruby">          collector &lt;&lt; &#39;ONLY &#39; if o.only</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1722" data-linenumber="45">
          <span class="hits">1722</span>
          
          <code class="ruby">          case o.relpersistence</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">          when &#39;p&#39;</code>
        </li>
      
        <li class="covered" data-hits="1712" data-linenumber="47">
          <span class="hits">1712</span>
          
          <code class="ruby">            collector &lt;&lt; &#39;&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">          when &#39;u&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="50">
          <span class="hits">5</span>
          
          <code class="ruby">            collector &lt;&lt; &#39;UNLOGGED &#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">          when &#39;t&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="53">
          <span class="hits">5</span>
          
          <code class="ruby">            collector &lt;&lt; &#39;TEMPORARY &#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="56">
          
          
          <code class="ruby">            raise &quot;Unknown relpersistence `#{o.relpersistence}`&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1722" data-linenumber="59">
          <span class="hits">1722</span>
          
          <code class="ruby">          collector &lt;&lt; &quot;\&quot;#{o.schema_name}\&quot;.&quot; if o.schema_name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1722" data-linenumber="61">
          <span class="hits">1722</span>
          
          <code class="ruby">          super</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="64">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="65">
          <span class="hits">5</span>
          
          <code class="ruby">      prepend TableExtension</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="68">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="69">
          <span class="hits">5</span>
          
          <code class="ruby">      module TableExtension</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="70">
          <span class="hits">5</span>
          
          <code class="ruby">        def visit_Arel_Table(o)</code>
        </li>
      
        <li class="covered" data-hits="2171" data-linenumber="71">
          <span class="hits">2171</span>
          
          <code class="ruby">          super</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2171" data-linenumber="73">
          <span class="hits">2171</span>
          
          <code class="ruby">          visit_edge o, &#39;only&#39;</code>
        </li>
      
        <li class="covered" data-hits="2171" data-linenumber="74">
          <span class="hits">2171</span>
          
          <code class="ruby">          visit_edge o, &#39;schema_name&#39;</code>
        </li>
      
        <li class="covered" data-hits="2171" data-linenumber="75">
          <span class="hits">2171</span>
          
          <code class="ruby">          visit_edge o, &#39;relpersistence&#39;</code>
        </li>
      
        <li class="covered" data-hits="2171" data-linenumber="76">
          <span class="hits">2171</span>
          
          <code class="ruby">          visit_edge o, &#39;type_caster&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="79">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="80">
          <span class="hits">5</span>
          
          <code class="ruby">      prepend TableExtension</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="81">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="83">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="84">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="86">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby"># rubocop:enable Metrics/ParameterLists</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="e82200e1378935dc3cea926ca10f0d1ebf332666">
  <div class="header">
    <h3>lib/arel/extensions/time_with_precision.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>10</b> relevant lines. 
      <span class="green"><b>10</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">    class TimeWithPrecision &lt; Arel::Nodes::Node</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :precision</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(precision: nil)</code>
        </li>
      
        <li class="covered" data-hits="150" data-linenumber="7">
          <span class="hits">150</span>
          
          <code class="ruby">        super()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="150" data-linenumber="9">
          <span class="hits">150</span>
          
          <code class="ruby">        @precision = precision</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="16">
          <span class="hits">5</span>
          
          <code class="ruby">      alias visit_Arel_Nodes_TimeWithPrecision terminal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="050dc82f991fd9e5ab822af0322479cd78cd773c">
  <div class="header">
    <h3>lib/arel/extensions/to_sql.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>14</b> relevant lines. 
      <span class="green"><b>14</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Attributes_Attribute(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="2006" data-linenumber="8">
          <span class="hits">2006</span>
          
          <code class="ruby">        if o.relation</code>
        </li>
      
        <li class="covered" data-hits="1986" data-linenumber="9">
          <span class="hits">1986</span>
          
          <code class="ruby">          join_name = o.relation.table_alias || o.relation.name</code>
        </li>
      
        <li class="covered" data-hits="1986" data-linenumber="10">
          <span class="hits">1986</span>
          
          <code class="ruby">          collector &lt;&lt; &quot;#{quote_table_name join_name}.#{quote_column_name o.name}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="12">
          <span class="hits">20</span>
          
          <code class="ruby">          visit_Arel_Nodes_UnqualifiedColumn o, collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="16">
          <span class="hits">5</span>
          
          <code class="ruby">      alias visit_Arel_Attributes_Integer visit_Arel_Attributes_Attribute</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="17">
          <span class="hits">5</span>
          
          <code class="ruby">      alias visit_Arel_Attributes_Float visit_Arel_Attributes_Attribute</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">      alias visit_Arel_Attributes_Decimal visit_Arel_Attributes_Attribute</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="19">
          <span class="hits">5</span>
          
          <code class="ruby">      alias visit_Arel_Attributes_String visit_Arel_Attributes_Attribute</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="20">
          <span class="hits">5</span>
          
          <code class="ruby">      alias visit_Arel_Attributes_Time visit_Arel_Attributes_Attribute</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="21">
          <span class="hits">5</span>
          
          <code class="ruby">      alias visit_Arel_Attributes_Boolean visit_Arel_Attributes_Attribute</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="40df19742f48166b8be669820872902ce1483ba5">
  <div class="header">
    <h3>lib/arel/extensions/top.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>3</b> relevant lines. 
      <span class="green"><b>3</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># frozen_string_literal: true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel # :nodoc: all</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">    class Top &lt; Unary</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="d7012368d1b214e54b635ad2bcd6b13eb1f547a8">
  <div class="header">
    <h3>lib/arel/extensions/transaction.rb</h3>
    <h4><span class="green">94.74 %</span> covered</h4>
    <div>
      <b>19</b> relevant lines. 
      <span class="green"><b>18</b> lines covered</span> and
      <span class="red"><b>1</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"># rubocop:disable Metrics/CyclomaticComplexity</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby"># rubocop:disable Metrics/AbcSize</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/8.3/tutorial-transactions.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">    class Transaction &lt; Arel::Nodes::Binary</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">      alias type left</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">      alias options right</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="16">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="17">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Transaction(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="170" data-linenumber="18">
          <span class="hits">170</span>
          
          <code class="ruby">        case o.type</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">        when 1</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="20">
          <span class="hits">10</span>
          
          <code class="ruby">          collector &lt;&lt; &#39;BEGIN&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">        when 3</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="22">
          <span class="hits">10</span>
          
          <code class="ruby">          collector &lt;&lt; &#39;COMMIT&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">        when 4</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="24">
          <span class="hits">5</span>
          
          <code class="ruby">          collector &lt;&lt; &#39;ROLLBACK&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">        when 5</code>
        </li>
      
        <li class="covered" data-hits="70" data-linenumber="26">
          <span class="hits">70</span>
          
          <code class="ruby">          collector &lt;&lt; &#39;SAVEPOINT &#39;</code>
        </li>
      
        <li class="covered" data-hits="70" data-linenumber="27">
          <span class="hits">70</span>
          
          <code class="ruby">          collector &lt;&lt; o.right</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">        when 6</code>
        </li>
      
        <li class="covered" data-hits="70" data-linenumber="29">
          <span class="hits">70</span>
          
          <code class="ruby">          collector &lt;&lt; &#39;RELEASE SAVEPOINT &#39;</code>
        </li>
      
        <li class="covered" data-hits="70" data-linenumber="30">
          <span class="hits">70</span>
          
          <code class="ruby">          collector &lt;&lt; o.right</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">        when 7</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="32">
          <span class="hits">5</span>
          
          <code class="ruby">          collector &lt;&lt; &#39;ROLLBACK TO &#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="33">
          <span class="hits">5</span>
          
          <code class="ruby">          collector &lt;&lt; o.right</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="35">
          
          
          <code class="ruby">          raise &quot;Unknown transaction type `#{o.type}`&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby"># rubocop:enable Metrics/CyclomaticComplexity</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby"># rubocop:enable Metrics/AbcSize</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="5d911cbcbed1c1fc0496b9d401b52e967146d69f">
  <div class="header">
    <h3>lib/arel/extensions/tree_manager.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>5</b> relevant lines. 
      <span class="green"><b>5</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  class TreeManager</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">    # Iterate through AST, nodes will be yielded depth-first</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">    def to_sql_and_binds(engine = Arel::Table.engine)</code>
        </li>
      
        <li class="covered" data-hits="3157" data-linenumber="6">
          <span class="hits">3157</span>
          
          <code class="ruby">      collector = engine.connection.send(:collector)</code>
        </li>
      
        <li class="covered" data-hits="3157" data-linenumber="7">
          <span class="hits">3157</span>
          
          <code class="ruby">      engine.connection.visitor.accept(@ast, collector).value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="f75cea64029e3a5c5af1b5bd6934d0a7f3e45f2f">
  <div class="header">
    <h3>lib/arel/extensions/trim.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>24</b> relevant lines. 
      <span class="green"><b>24</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/10/functions-string.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">    class Trim &lt; Arel::Nodes::Node</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="8">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :type</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :substring</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :string</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(type, substring, string)</code>
        </li>
      
        <li class="covered" data-hits="60" data-linenumber="13">
          <span class="hits">60</span>
          
          <code class="ruby">        @type = type</code>
        </li>
      
        <li class="covered" data-hits="60" data-linenumber="14">
          <span class="hits">60</span>
          
          <code class="ruby">        @substring = substring</code>
        </li>
      
        <li class="covered" data-hits="60" data-linenumber="15">
          <span class="hits">60</span>
          
          <code class="ruby">        @string = string</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="20">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="21">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="22">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Trim(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="23">
          <span class="hits">30</span>
          
          <code class="ruby">        collector &lt;&lt; &quot;trim(#{o.type} &quot;</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="24">
          <span class="hits">30</span>
          
          <code class="ruby">        if o.substring</code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="25">
          <span class="hits">25</span>
          
          <code class="ruby">          visit o.substring, collector</code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="26">
          <span class="hits">25</span>
          
          <code class="ruby">          collector &lt;&lt; &#39; from &#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="28">
          <span class="hits">30</span>
          
          <code class="ruby">        visit o.string, collector</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="29">
          <span class="hits">30</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;)&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="33">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="34">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Trim(o)</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="35">
          <span class="hits">30</span>
          
          <code class="ruby">        visit_edge o, &#39;type&#39;</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="36">
          <span class="hits">30</span>
          
          <code class="ruby">        visit_edge o, &#39;substring&#39;</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="37">
          <span class="hits">30</span>
          
          <code class="ruby">        visit_edge o, &#39;string&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="de5608552bef3bbda8af5c664d7ff50efca5a670">
  <div class="header">
    <h3>lib/arel/extensions/true.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>4</b> relevant lines. 
      <span class="green"><b>4</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">      alias visit_Arel_Nodes_True terminal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="af039ab7e77483bd66326dc2f8bf33142c1179cb">
  <div class="header">
    <h3>lib/arel/extensions/type_cast.rb</h3>
    <h4><span class="green">95.0 %</span> covered</h4>
    <div>
      <b>20</b> relevant lines. 
      <span class="green"><b>19</b> lines covered</span> and
      <span class="red"><b>1</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    # Postgres: https://www.postgresql.org/docs/9.1/sql-expressions.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">    class TypeCast &lt; Arel::Nodes::Node</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="8">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :arg</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :type_name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(arg, type_name)</code>
        </li>
      
        <li class="covered" data-hits="2944" data-linenumber="12">
          <span class="hits">2944</span>
          
          <code class="ruby">        @arg = arg</code>
        </li>
      
        <li class="covered" data-hits="2944" data-linenumber="13">
          <span class="hits">2944</span>
          
          <code class="ruby">        @type_name = type_name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="16">
          <span class="hits">5</span>
          
          <code class="ruby">      def ==(other)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="17">
          
          
          <code class="ruby">        arg == other.arg &amp;&amp; type_name == other.type_name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="22">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="23">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="24">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_TypeCast(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="1524" data-linenumber="25">
          <span class="hits">1524</span>
          
          <code class="ruby">        visit o.arg, collector</code>
        </li>
      
        <li class="covered" data-hits="1524" data-linenumber="26">
          <span class="hits">1524</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;::&#39;</code>
        </li>
      
        <li class="covered" data-hits="1524" data-linenumber="27">
          <span class="hits">1524</span>
          
          <code class="ruby">        collector &lt;&lt; o.type_name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="31">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="32">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_TypeCast(o)</code>
        </li>
      
        <li class="covered" data-hits="1524" data-linenumber="33">
          <span class="hits">1524</span>
          
          <code class="ruby">        visit_edge(o, &#39;arg&#39;)</code>
        </li>
      
        <li class="covered" data-hits="1524" data-linenumber="34">
          <span class="hits">1524</span>
          
          <code class="ruby">        visit_edge(o, &#39;type_name&#39;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="a0f3b3d6f4ab7ce0c184dd41cb64d7134dd84bb8">
  <div class="header">
    <h3>lib/arel/extensions/unary.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>4</b> relevant lines. 
      <span class="green"><b>4</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">      alias visit_Arel_Nodes_Unary unary</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="d0da5dc4a6c4d51dc1b9028a8809418eeea8569b">
  <div class="header">
    <h3>lib/arel/extensions/unary_operation.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>6</b> relevant lines. 
      <span class="green"><b>6</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_UnaryOperation(o)</code>
        </li>
      
        <li class="covered" data-hits="55" data-linenumber="8">
          <span class="hits">55</span>
          
          <code class="ruby">        visit_edge o, &#39;operator&#39;</code>
        </li>
      
        <li class="covered" data-hits="55" data-linenumber="9">
          <span class="hits">55</span>
          
          <code class="ruby">        visit_edge o, &#39;expr&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="58682cec75fc19c810681e46890386b21de45bc0">
  <div class="header">
    <h3>lib/arel/extensions/unknown.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>9</b> relevant lines. 
      <span class="green"><b>9</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class Unknown &lt; Arel::Nodes::Node</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_Unknown(_o, collector)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="13">
          <span class="hits">10</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;UNKNOWN&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="17">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">      alias visit_Arel_Nodes_Unknown terminal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="21559cf9f156081519601bada8163e0489f1f97a">
  <div class="header">
    <h3>lib/arel/extensions/update_manager.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>10</b> relevant lines. 
      <span class="green"><b>10</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  class UpdateManager &lt; Arel::TreeManager</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    def ==(other)</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="7">
          <span class="hits">15</span>
          
          <code class="ruby">      other.is_a?(self.class) &amp;&amp; @ast == other.ast &amp;&amp; @ctx == other.ctx</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">    protected</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">    attr_reader :ctx</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="16">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="17">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_UpdateManager(o)</code>
        </li>
      
        <li class="covered" data-hits="52" data-linenumber="18">
          <span class="hits">52</span>
          
          <code class="ruby">        visit_edge o, &#39;ast&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="f581c962d7cf22285e9742d8fc9f70c079c192ab">
  <div class="header">
    <h3>lib/arel/extensions/update_statement.rb</h3>
    <h4><span class="green">97.44 %</span> covered</h4>
    <div>
      <b>39</b> relevant lines. 
      <span class="green"><b>38</b> lines covered</span> and
      <span class="red"><b>1</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class UpdateStatement</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">      module UpdateStatementExtension</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">        # https://www.postgresql.org/docs/10/sql-update.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">        attr_accessor :with</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">        attr_accessor :froms</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">        attr_accessor :returning</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">        def initialize</code>
        </li>
      
        <li class="covered" data-hits="131" data-linenumber="14">
          <span class="hits">131</span>
          
          <code class="ruby">          super</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="131" data-linenumber="16">
          <span class="hits">131</span>
          
          <code class="ruby">          @froms = []</code>
        </li>
      
        <li class="covered" data-hits="131" data-linenumber="17">
          <span class="hits">131</span>
          
          <code class="ruby">          @returning = []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="21">
          <span class="hits">5</span>
          
          <code class="ruby">      prepend UpdateStatementExtension</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="25">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="26">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">      # rubocop:disable Metrics/AbcSize</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="28">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_UpdateStatement(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="86" data-linenumber="29">
          <span class="hits">86</span>
          
          <code class="ruby">        if o.with</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="30">
          <span class="hits">5</span>
          
          <code class="ruby">          collector = visit o.with, collector</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="31">
          <span class="hits">5</span>
          
          <code class="ruby">          collector &lt;&lt; &#39; &#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="86" data-linenumber="34">
          <span class="hits">86</span>
          
          <code class="ruby">        wheres = if Gem.loaded_specs[&#39;activerecord&#39;].version &gt;= Gem::Version.new(&#39;6.0.0&#39;)</code>
        </li>
      
        <li class="covered" data-hits="42" data-linenumber="35">
          <span class="hits">42</span>
          
          <code class="ruby">                   o = prepare_update_statement(o)</code>
        </li>
      
        <li class="covered" data-hits="42" data-linenumber="36">
          <span class="hits">42</span>
          
          <code class="ruby">                   o.wheres</code>
        </li>
      
        <li class="covered" data-hits="44" data-linenumber="37">
          <span class="hits">44</span>
          
          <code class="ruby">                 elsif o.orders.empty? &amp;&amp; o.limit.nil?</code>
        </li>
      
        <li class="covered" data-hits="44" data-linenumber="38">
          <span class="hits">44</span>
          
          <code class="ruby">                   o.wheres</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby">                 else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="40">
          
          
          <code class="ruby">                   [Nodes::In.new(o.key, [build_subselect(o.key, o)])]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby">                 end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="86" data-linenumber="43">
          <span class="hits">86</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;UPDATE &#39;</code>
        </li>
      
        <li class="covered" data-hits="86" data-linenumber="44">
          <span class="hits">86</span>
          
          <code class="ruby">        collector = visit o.relation, collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="86" data-linenumber="46">
          <span class="hits">86</span>
          
          <code class="ruby">        collect_nodes_for o.values, collector, &#39; SET &#39;</code>
        </li>
      
        <li class="covered" data-hits="86" data-linenumber="47">
          <span class="hits">86</span>
          
          <code class="ruby">        collect_nodes_for o.froms, collector, &#39; FROM &#39;, &#39;, &#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="86" data-linenumber="49">
          <span class="hits">86</span>
          
          <code class="ruby">        collect_nodes_for wheres, collector, &#39; WHERE &#39;, &#39; AND &#39;</code>
        </li>
      
        <li class="covered" data-hits="86" data-linenumber="50">
          <span class="hits">86</span>
          
          <code class="ruby">        collect_nodes_for o.returning, collector, &#39; RETURNING &#39;, &#39;, &#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="86" data-linenumber="52">
          <span class="hits">86</span>
          
          <code class="ruby">        collector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby">      # rubocop:enable Metrics/AbcSize</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="57">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="58">
          <span class="hits">5</span>
          
          <code class="ruby">      module UpdateStatementExtension</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="59">
          <span class="hits">5</span>
          
          <code class="ruby">        def visit_Arel_Nodes_UpdateStatement(o)</code>
        </li>
      
        <li class="covered" data-hits="52" data-linenumber="60">
          <span class="hits">52</span>
          
          <code class="ruby">          super</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="52" data-linenumber="62">
          <span class="hits">52</span>
          
          <code class="ruby">          visit_edge o, &#39;with&#39;</code>
        </li>
      
        <li class="covered" data-hits="52" data-linenumber="63">
          <span class="hits">52</span>
          
          <code class="ruby">          visit_edge o, &#39;froms&#39;</code>
        </li>
      
        <li class="covered" data-hits="52" data-linenumber="64">
          <span class="hits">52</span>
          
          <code class="ruby">          visit_edge o, &#39;returning&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="68">
          <span class="hits">5</span>
          
          <code class="ruby">      prepend UpdateStatementExtension</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="0d03f3f00cc6bf8f2a6a3b9a51a13623806fe04a">
  <div class="header">
    <h3>lib/arel/extensions/user.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>9</b> relevant lines. 
      <span class="green"><b>9</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class User &lt; Arel::Nodes::Node</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_User(_o, collector)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;user&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="17">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">      alias visit_Arel_Nodes_User terminal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="7bbaeeaefab34bdc0e8fcd042efcc6b44fddd95c">
  <div class="header">
    <h3>lib/arel/extensions/values_list.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>5</b> relevant lines. 
      <span class="green"><b>5</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_ValuesList(o)</code>
        </li>
      
        <li class="covered" data-hits="81" data-linenumber="8">
          <span class="hits">81</span>
          
          <code class="ruby">        visit_edge o, &#39;rows&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="f1accd684fb525853a7193fed0228a6af6bbffaa">
  <div class="header">
    <h3>lib/arel/extensions/variable_set.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>30</b> relevant lines. 
      <span class="green"><b>30</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/9.3/sql-set.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">    class VariableSet &lt; Arel::Nodes::Node</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="8">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :type</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :args</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :name</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :local</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(type, args, name, local)</code>
        </li>
      
        <li class="covered" data-hits="60" data-linenumber="14">
          <span class="hits">60</span>
          
          <code class="ruby">        @type = type</code>
        </li>
      
        <li class="covered" data-hits="60" data-linenumber="15">
          <span class="hits">60</span>
          
          <code class="ruby">        @args = args</code>
        </li>
      
        <li class="covered" data-hits="60" data-linenumber="16">
          <span class="hits">60</span>
          
          <code class="ruby">        @name = name</code>
        </li>
      
        <li class="covered" data-hits="60" data-linenumber="17">
          <span class="hits">60</span>
          
          <code class="ruby">        @local = local</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="22">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="23">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="24">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_VariableSet(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="25">
          <span class="hits">30</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;SET &#39;</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="26">
          <span class="hits">30</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;LOCAL &#39; if o.local</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="28">
          <span class="hits">30</span>
          
          <code class="ruby">        if o.name == &#39;timezone&#39;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="29">
          <span class="hits">10</span>
          
          <code class="ruby">          collector &lt;&lt; &#39;TIME ZONE &#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="31">
          <span class="hits">20</span>
          
          <code class="ruby">          collector &lt;&lt; o.name</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="32">
          <span class="hits">20</span>
          
          <code class="ruby">          collector &lt;&lt; &#39; TO &#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="35">
          <span class="hits">30</span>
          
          <code class="ruby">        if o.args.empty?</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="36">
          <span class="hits">10</span>
          
          <code class="ruby">          collector &lt;&lt; &#39;DEFAULT&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="38">
          <span class="hits">20</span>
          
          <code class="ruby">          inject_join(o.args, collector, &#39;, &#39;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="43">
          <span class="hits">5</span>
          
          <code class="ruby">    class Dot</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="44">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_VariableSet(o)</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="45">
          <span class="hits">30</span>
          
          <code class="ruby">        visit_edge o, &#39;type&#39;</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="46">
          <span class="hits">30</span>
          
          <code class="ruby">        visit_edge o, &#39;args&#39;</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="47">
          <span class="hits">30</span>
          
          <code class="ruby">        visit_edge o, &#39;name&#39;</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="48">
          <span class="hits">30</span>
          
          <code class="ruby">        visit_edge o, &#39;local&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="2274a0a2d8d22c8e94cafb462a8a382bbde154cc">
  <div class="header">
    <h3>lib/arel/extensions/variable_show.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>10</b> relevant lines. 
      <span class="green"><b>10</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    # https://www.postgresql.org/docs/9.1/sql-show.html</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">    class VariableShow &lt; Arel::Nodes::Unary</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_VariableShow(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="14">
          <span class="hits">10</span>
          
          <code class="ruby">        collector &lt;&lt; &#39;SHOW &#39;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="15">
          <span class="hits">10</span>
          
          <code class="ruby">        collector &lt;&lt; if o.expr == &#39;timezone&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="16">
          <span class="hits">5</span>
          
          <code class="ruby">                       &#39;TIME ZONE&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">                     else</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">                       o.expr</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">                     end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="e5da3d9194b68d261aadfe0360bd9a51416f4c98">
  <div class="header">
    <h3>lib/arel/extensions/with_ordinality.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>8</b> relevant lines. 
      <span class="green"><b>8</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/UncommunicativeMethodParamName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Nodes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">    # Postgres: https://paquier.xyz/postgresql-2/postgres-9-4-feature-highlight-with-ordinality/</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">    class WithOrdinality &lt; Arel::Nodes::Unary</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">  module Visitors</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSql</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Arel_Nodes_WithOrdinality(o, collector)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">        visit o.expr, collector</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">        collector &lt;&lt; &#39; WITH ORDINALITY&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"># rubocop:enable Naming/UncommunicativeMethodParamName</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="387976fbb1fe44d2596a2a0a4a78ff02ad98cdb8">
  <div class="header">
    <h3>lib/arel/middleware.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>17</b> relevant lines. 
      <span class="green"><b>17</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">require_relative &#39;./middleware/active_record_extension&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">require_relative &#39;./middleware/railtie&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">require_relative &#39;./middleware/chain&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">require_relative &#39;./middleware/database_executor&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">require_relative &#39;./middleware/to_sql_executor&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">require_relative &#39;./middleware/to_sql_middleware&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">require_relative &#39;./middleware/result&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="8">
          <span class="hits">5</span>
          
          <code class="ruby">require_relative &#39;./middleware/postgresql_adapter&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">  module Middleware</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">    class &lt;&lt; self</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">      def current_chain</code>
        </li>
      
        <li class="covered" data-hits="28964" data-linenumber="14">
          <span class="hits">28964</span>
          
          <code class="ruby">        Thread.current[:arel_toolkit_middleware_current_chain] ||=</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">          Arel::Middleware::Chain.new</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">      def current_chain=(new_chain)</code>
        </li>
      
        <li class="covered" data-hits="598" data-linenumber="19">
          <span class="hits">598</span>
          
          <code class="ruby">        Thread.current[:arel_toolkit_middleware_current_chain] = new_chain</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="24">
          <span class="hits">5</span>
          
          <code class="ruby">  def self.middleware</code>
        </li>
      
        <li class="covered" data-hits="998" data-linenumber="25">
          <span class="hits">998</span>
          
          <code class="ruby">    Arel::Middleware.current_chain</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="8d1b6abd635bb70945c0f5001a1700a672582e35">
  <div class="header">
    <h3>lib/arel/middleware/active_record_extension.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>6</b> relevant lines. 
      <span class="green"><b>6</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Middleware</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">    module ActiveRecordExtension</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">      def load_schema!</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">        # Prevent Rails from memoizing an empty response when using `Arel.middleware.to_sql`.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">        # Re-applying the middleware will use the database executor to fetch the actual data.</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="7">
          <span class="hits">22</span>
          
          <code class="ruby">        Arel.middleware.apply(Arel.middleware.current) do</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="8">
          <span class="hits">22</span>
          
          <code class="ruby">          super</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="327c9068e1e550c53e4fb4a4ee03c82d6148b522">
  <div class="header">
    <h3>lib/arel/middleware/cache_accessor.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>16</b> relevant lines. 
      <span class="green"><b>16</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Middleware</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">    class CacheAccessor</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :cache</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(cache)</code>
        </li>
      
        <li class="covered" data-hits="162" data-linenumber="7">
          <span class="hits">162</span>
          
          <code class="ruby">        @cache = cache</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">      def read(original_sql)</code>
        </li>
      
        <li class="covered" data-hits="356" data-linenumber="11">
          <span class="hits">356</span>
          
          <code class="ruby">        cache.read cache_key(original_sql)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">      def write(transformed_sql:, transformed_binds:, original_sql:, original_binds:)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">        # To play it safe, the order of binds was changed and therefore we won&#39;t reuse the query</code>
        </li>
      
        <li class="covered" data-hits="216" data-linenumber="16">
          <span class="hits">216</span>
          
          <code class="ruby">        return if transformed_binds != original_binds</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="216" data-linenumber="18">
          <span class="hits">216</span>
          
          <code class="ruby">        cache.write(cache_key(original_sql), transformed_sql)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="21">
          <span class="hits">5</span>
          
          <code class="ruby">      def cache_key_for_sql(sql)</code>
        </li>
      
        <li class="covered" data-hits="552" data-linenumber="22">
          <span class="hits">552</span>
          
          <code class="ruby">        Digest::SHA256.hexdigest(sql)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="25">
          <span class="hits">5</span>
          
          <code class="ruby">      def cache_key(sql)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">        # An important aspect of this cache key method is that it includes hashes of all active</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">        # middlewares. If multiple Arel middleware chains that are using the same cache backend,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">        # this cache key mechanism will prevent cache entries leak in the wrong chain.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="572" data-linenumber="30">
          <span class="hits">572</span>
          
          <code class="ruby">        active_middleware_cache_key = Arel.middleware.current.map(&amp;:hash).join(&#39;&amp;&#39;) || 0</code>
        </li>
      
        <li class="covered" data-hits="572" data-linenumber="31">
          <span class="hits">572</span>
          
          <code class="ruby">        active_middleware_cache_key + &#39;|&#39; + cache_key_for_sql(sql)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="cbb2bad76668e1dd69db4b65a3ab1d2e5db67ffa">
  <div class="header">
    <h3>lib/arel/middleware/chain.rb</h3>
    <h4><span class="green">98.86 %</span> covered</h4>
    <div>
      <b>88</b> relevant lines. 
      <span class="green"><b>87</b> lines covered</span> and
      <span class="red"><b>1</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">require_relative &#39;./no_op_cache&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">require_relative &#39;./cache_accessor&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Middleware</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">    class Chain</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :executing_middleware_depth</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="8">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :executor</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :cache</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">      MAX_RECURSION_DEPTH = 10</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">        internal_middleware = [],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">        internal_context = {},</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">        executor_class = Arel::Middleware::DatabaseExecutor,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">        cache: nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">      )</code>
        </li>
      
        <li class="covered" data-hits="324" data-linenumber="19">
          <span class="hits">324</span>
          
          <code class="ruby">        @internal_middleware = internal_middleware</code>
        </li>
      
        <li class="covered" data-hits="324" data-linenumber="20">
          <span class="hits">324</span>
          
          <code class="ruby">        @internal_context = internal_context</code>
        </li>
      
        <li class="covered" data-hits="324" data-linenumber="21">
          <span class="hits">324</span>
          
          <code class="ruby">        @executor = executor_class.new(internal_middleware)</code>
        </li>
      
        <li class="covered" data-hits="324" data-linenumber="22">
          <span class="hits">324</span>
          
          <code class="ruby">        @executing_middleware_depth = 0</code>
        </li>
      
        <li class="covered" data-hits="324" data-linenumber="23">
          <span class="hits">324</span>
          
          <code class="ruby">        @cache = cache || NoOpCache</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="26">
          <span class="hits">5</span>
          
          <code class="ruby">      def cache_accessor</code>
        </li>
      
        <li class="covered" data-hits="707" data-linenumber="27">
          <span class="hits">707</span>
          
          <code class="ruby">        @cache_accessor ||= CacheAccessor.new @cache</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="30">
          <span class="hits">5</span>
          
          <code class="ruby">      def execute(sql, binds = [], &amp;execute_sql)</code>
        </li>
      
        <li class="covered" data-hits="27672" data-linenumber="31">
          <span class="hits">27672</span>
          
          <code class="ruby">        return execute_sql.call(sql, binds).to_casted_result if internal_middleware.length.zero?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="356" data-linenumber="33">
          <span class="hits">356</span>
          
          <code class="ruby">        if (cached_sql = cache_accessor.read(sql))</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="34">
          
          
          <code class="ruby">          return execute_sql.call(cached_sql, binds).to_casted_result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="356" data-linenumber="37">
          <span class="hits">356</span>
          
          <code class="ruby">        execute_with_middleware(sql, binds, execute_sql).to_casted_result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">      rescue ::PgQuery::ParseError</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="39">
          <span class="hits">5</span>
          
          <code class="ruby">        execute_sql.call(sql, binds)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">      ensure</code>
        </li>
      
        <li class="covered" data-hits="27672" data-linenumber="41">
          <span class="hits">27672</span>
          
          <code class="ruby">        @executing_middleware_depth -= 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="44">
          <span class="hits">5</span>
          
          <code class="ruby">      def current</code>
        </li>
      
        <li class="covered" data-hits="669" data-linenumber="45">
          <span class="hits">669</span>
          
          <code class="ruby">        internal_middleware.dup</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="48">
          <span class="hits">5</span>
          
          <code class="ruby">      def apply(middleware, cache: @cache, &amp;block)</code>
        </li>
      
        <li class="covered" data-hits="204" data-linenumber="49">
          <span class="hits">204</span>
          
          <code class="ruby">        new_middleware = Array.wrap(middleware)</code>
        </li>
      
        <li class="covered" data-hits="204" data-linenumber="50">
          <span class="hits">204</span>
          
          <code class="ruby">        continue_chain(new_middleware, internal_context, cache: cache, &amp;block)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="52">
          <span class="hits">5</span>
          
          <code class="ruby">      alias only apply</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="54">
          <span class="hits">5</span>
          
          <code class="ruby">      def none(&amp;block)</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="55">
          <span class="hits">15</span>
          
          <code class="ruby">        continue_chain([], internal_context, cache: cache, &amp;block)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="58">
          <span class="hits">5</span>
          
          <code class="ruby">      def except(without_middleware, cache: @cache, &amp;block)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="59">
          <span class="hits">10</span>
          
          <code class="ruby">        without_middleware = Array.wrap(without_middleware)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="60">
          <span class="hits">10</span>
          
          <code class="ruby">        new_middleware = internal_middleware - without_middleware</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="61">
          <span class="hits">10</span>
          
          <code class="ruby">        continue_chain(new_middleware, internal_context, cache: cache, &amp;block)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="64">
          <span class="hits">5</span>
          
          <code class="ruby">      def insert_before(new_middleware, existing_middleware, cache: @cache, &amp;block)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="65">
          <span class="hits">5</span>
          
          <code class="ruby">        new_middleware = Array.wrap(new_middleware)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="66">
          <span class="hits">5</span>
          
          <code class="ruby">        index = internal_middleware.index(existing_middleware)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="67">
          <span class="hits">5</span>
          
          <code class="ruby">        updated_middleware = internal_middleware.insert(index, *new_middleware)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="68">
          <span class="hits">5</span>
          
          <code class="ruby">        continue_chain(updated_middleware, internal_context, cache: cache, &amp;block)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="71">
          <span class="hits">5</span>
          
          <code class="ruby">      def prepend(new_middleware, cache: @cache, &amp;block)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="72">
          <span class="hits">5</span>
          
          <code class="ruby">        new_middleware = Array.wrap(new_middleware)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="73">
          <span class="hits">5</span>
          
          <code class="ruby">        updated_middleware = new_middleware + internal_middleware</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="74">
          <span class="hits">5</span>
          
          <code class="ruby">        continue_chain(updated_middleware, internal_context, cache: cache, &amp;block)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="77">
          <span class="hits">5</span>
          
          <code class="ruby">      def insert_after(new_middleware, existing_middleware, cache: @cache, &amp;block)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="78">
          <span class="hits">5</span>
          
          <code class="ruby">        new_middleware = Array.wrap(new_middleware)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="79">
          <span class="hits">5</span>
          
          <code class="ruby">        index = internal_middleware.index(existing_middleware)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="80">
          <span class="hits">5</span>
          
          <code class="ruby">        updated_middleware = internal_middleware.insert(index + 1, *new_middleware)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="81">
          <span class="hits">5</span>
          
          <code class="ruby">        continue_chain(updated_middleware, internal_context, cache: cache, &amp;block)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="83">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="84">
          <span class="hits">5</span>
          
          <code class="ruby">      def append(new_middleware, cache: @cache, &amp;block)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="85">
          <span class="hits">10</span>
          
          <code class="ruby">        new_middleware = Array.wrap(new_middleware)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="86">
          <span class="hits">10</span>
          
          <code class="ruby">        updated_middleware = internal_middleware + new_middleware</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="87">
          <span class="hits">10</span>
          
          <code class="ruby">        continue_chain(updated_middleware, internal_context, cache: cache, &amp;block)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="89">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="90">
          <span class="hits">5</span>
          
          <code class="ruby">      def context(new_context = nil, &amp;block)</code>
        </li>
      
        <li class="covered" data-hits="391" data-linenumber="91">
          <span class="hits">391</span>
          
          <code class="ruby">        if new_context.nil? &amp;&amp; !block.nil?</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="92">
          <span class="hits">5</span>
          
          <code class="ruby">          raise &#39;You cannot do a block statement while calling context without arguments&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="93">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="94">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="386" data-linenumber="95">
          <span class="hits">386</span>
          
          <code class="ruby">        return internal_context if new_context.nil?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="97">
          <span class="hits">15</span>
          
          <code class="ruby">        continue_chain(internal_middleware, new_context, cache: @cache, &amp;block)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="98">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="99">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="100">
          <span class="hits">5</span>
          
          <code class="ruby">      def to_sql(type, &amp;block)</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="101">
          <span class="hits">35</span>
          
          <code class="ruby">        middleware = Arel::Middleware::ToSqlMiddleware.new(type)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="103">
          <span class="hits">35</span>
          
          <code class="ruby">        new_chain = Arel::Middleware::Chain.new(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="104">
          
          
          <code class="ruby">          internal_middleware + [middleware],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby">          internal_context,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="106">
          
          
          <code class="ruby">          Arel::Middleware::ToSqlExecutor,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="107">
          
          
          <code class="ruby">        )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="108">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="109">
          <span class="hits">35</span>
          
          <code class="ruby">        maybe_execute_block(new_chain, &amp;block)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="110">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="111">
          <span class="hits">35</span>
          
          <code class="ruby">        middleware.sql</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="112">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="113">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="114">
          <span class="hits">5</span>
          
          <code class="ruby">      protected</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="115">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="116">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :internal_middleware</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="117">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :internal_context</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="118">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="119">
          <span class="hits">5</span>
          
          <code class="ruby">      private</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="120">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="121">
          <span class="hits">5</span>
          
          <code class="ruby">      def execute_with_middleware(sql, binds, execute_sql)</code>
        </li>
      
        <li class="covered" data-hits="356" data-linenumber="122">
          <span class="hits">356</span>
          
          <code class="ruby">        check_middleware_recursion(sql)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="123">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="351" data-linenumber="124">
          <span class="hits">351</span>
          
          <code class="ruby">        updated_context = context.merge(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby">          original_sql: sql,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="126">
          
          
          <code class="ruby">          original_binds: binds,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="127">
          
          
          <code class="ruby">          cache_accessor: cache_accessor,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="128">
          
          
          <code class="ruby">        )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="129">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="351" data-linenumber="130">
          <span class="hits">351</span>
          
          <code class="ruby">        arel = Arel.sql_to_arel(sql, binds: binds)</code>
        </li>
      
        <li class="covered" data-hits="346" data-linenumber="131">
          <span class="hits">346</span>
          
          <code class="ruby">        enhanced_arel = Arel.enhance(arel)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="132">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="346" data-linenumber="133">
          <span class="hits">346</span>
          
          <code class="ruby">        executor.run(enhanced_arel, updated_context, execute_sql)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="134">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="135">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="136">
          <span class="hits">5</span>
          
          <code class="ruby">      def continue_chain(middleware, context, cache:, &amp;block)</code>
        </li>
      
        <li class="covered" data-hits="269" data-linenumber="137">
          <span class="hits">269</span>
          
          <code class="ruby">        new_chain = Arel::Middleware::Chain.new(middleware, context, cache: cache)</code>
        </li>
      
        <li class="covered" data-hits="269" data-linenumber="138">
          <span class="hits">269</span>
          
          <code class="ruby">        maybe_execute_block(new_chain, &amp;block)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="139">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="140">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="141">
          <span class="hits">5</span>
          
          <code class="ruby">      def maybe_execute_block(new_chain, &amp;block)</code>
        </li>
      
        <li class="covered" data-hits="304" data-linenumber="142">
          <span class="hits">304</span>
          
          <code class="ruby">        return new_chain if block.nil?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="143">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="294" data-linenumber="144">
          <span class="hits">294</span>
          
          <code class="ruby">        previous_chain = Middleware.current_chain</code>
        </li>
      
        <li class="covered" data-hits="294" data-linenumber="145">
          <span class="hits">294</span>
          
          <code class="ruby">        Arel::Middleware.current_chain = new_chain</code>
        </li>
      
        <li class="covered" data-hits="294" data-linenumber="146">
          <span class="hits">294</span>
          
          <code class="ruby">        yield block</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="147">
          
          
          <code class="ruby">      ensure</code>
        </li>
      
        <li class="covered" data-hits="304" data-linenumber="148">
          <span class="hits">304</span>
          
          <code class="ruby">        Arel::Middleware.current_chain = previous_chain</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="149">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="150">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="151">
          <span class="hits">5</span>
          
          <code class="ruby">      def check_middleware_recursion(sql)</code>
        </li>
      
        <li class="covered" data-hits="356" data-linenumber="152">
          <span class="hits">356</span>
          
          <code class="ruby">        if executing_middleware_depth &gt; MAX_RECURSION_DEPTH</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="153">
          <span class="hits">5</span>
          
          <code class="ruby">          message = &lt;&lt;~ERROR</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="154">
          
          
          <code class="ruby">            Middleware is being called from within middleware, aborting execution</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="155">
          
          
          <code class="ruby">            to prevent endless recursion. You can do the following if you want to execute SQL</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="156">
          
          
          <code class="ruby">            inside middleware:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="157">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="158">
          
          
          <code class="ruby">              - Set middleware context before entering the middleware</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="159">
          
          
          <code class="ruby">              - Use `Arel.middleware.none { ... }` to temporarily disable middleware</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="160">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="161">
          
          
          <code class="ruby">            SQL that triggered the error:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="162">
          
          
          <code class="ruby">            #{sql}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="163">
          
          
          <code class="ruby">          ERROR</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="164">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="165">
          <span class="hits">5</span>
          
          <code class="ruby">          raise message</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="166">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="351" data-linenumber="167">
          <span class="hits">351</span>
          
          <code class="ruby">          @executing_middleware_depth += 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="168">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="169">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="170">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="171">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="172">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="5a3dbb8b0efd1d2c3f25af4a046300f339c4787e">
  <div class="header">
    <h3>lib/arel/middleware/database_executor.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>40</b> relevant lines. 
      <span class="green"><b>40</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Middleware</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">    class DatabaseExecutor</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :middleware</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_accessor :index</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :context</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="8">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :final_block</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(middleware)</code>
        </li>
      
        <li class="covered" data-hits="324" data-linenumber="11">
          <span class="hits">324</span>
          
          <code class="ruby">        @middleware = middleware</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">      def run(arel, context, final_block)</code>
        </li>
      
        <li class="covered" data-hits="346" data-linenumber="15">
          <span class="hits">346</span>
          
          <code class="ruby">        @index = 0</code>
        </li>
      
        <li class="covered" data-hits="346" data-linenumber="16">
          <span class="hits">346</span>
          
          <code class="ruby">        @context = context</code>
        </li>
      
        <li class="covered" data-hits="346" data-linenumber="17">
          <span class="hits">346</span>
          
          <code class="ruby">        @final_block = final_block</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="346" data-linenumber="19">
          <span class="hits">346</span>
          
          <code class="ruby">        result = call(arel)</code>
        </li>
      
        <li class="covered" data-hits="286" data-linenumber="20">
          <span class="hits">286</span>
          
          <code class="ruby">        check_return_type result</code>
        </li>
      
        <li class="covered" data-hits="281" data-linenumber="21">
          <span class="hits">281</span>
          
          <code class="ruby">        result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">      ensure</code>
        </li>
      
        <li class="covered" data-hits="346" data-linenumber="23">
          <span class="hits">346</span>
          
          <code class="ruby">        @index = 0</code>
        </li>
      
        <li class="covered" data-hits="346" data-linenumber="24">
          <span class="hits">346</span>
          
          <code class="ruby">        @context = nil</code>
        </li>
      
        <li class="covered" data-hits="346" data-linenumber="25">
          <span class="hits">346</span>
          
          <code class="ruby">        @final_block = nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="28">
          <span class="hits">5</span>
          
          <code class="ruby">      def call(next_arel)</code>
        </li>
      
        <li class="covered" data-hits="647" data-linenumber="29">
          <span class="hits">647</span>
          
          <code class="ruby">        check_argument_type next_arel</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="642" data-linenumber="31">
          <span class="hits">642</span>
          
          <code class="ruby">        current_middleware = middleware[index]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="642" data-linenumber="33">
          <span class="hits">642</span>
          
          <code class="ruby">        return execute_sql(next_arel) if current_middleware.nil?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="361" data-linenumber="35">
          <span class="hits">361</span>
          
          <code class="ruby">        self.index += 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="361" data-linenumber="37">
          <span class="hits">361</span>
          
          <code class="ruby">        case current_middleware.method(:call).arity</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">        when 2</code>
        </li>
      
        <li class="covered" data-hits="265" data-linenumber="39">
          <span class="hits">265</span>
          
          <code class="ruby">          current_middleware.call(next_arel, self)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="96" data-linenumber="41">
          <span class="hits">96</span>
          
          <code class="ruby">          current_middleware.call(next_arel, self, context.dup)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="45">
          <span class="hits">5</span>
          
          <code class="ruby">      private</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="47">
          <span class="hits">5</span>
          
          <code class="ruby">      def execute_sql(next_arel)</code>
        </li>
      
        <li class="covered" data-hits="216" data-linenumber="48">
          <span class="hits">216</span>
          
          <code class="ruby">        sql, binds = next_arel.to_sql_and_binds</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="216" data-linenumber="50">
          <span class="hits">216</span>
          
          <code class="ruby">        context[:cache_accessor].write(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">          transformed_sql: sql,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">          transformed_binds: binds,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">          original_sql: context[:original_sql],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby">          original_binds: context[:original_binds],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">        )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="216" data-linenumber="57">
          <span class="hits">216</span>
          
          <code class="ruby">        sql_result = final_block.call(sql, binds)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="216" data-linenumber="59">
          <span class="hits">216</span>
          
          <code class="ruby">        check_return_type sql_result</code>
        </li>
      
        <li class="covered" data-hits="216" data-linenumber="60">
          <span class="hits">216</span>
          
          <code class="ruby">        sql_result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="63">
          <span class="hits">5</span>
          
          <code class="ruby">      def check_argument_type(next_arel)</code>
        </li>
      
        <li class="covered" data-hits="647" data-linenumber="64">
          <span class="hits">647</span>
          
          <code class="ruby">        return if next_arel.is_a?(Arel::Enhance::Node)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="66">
          <span class="hits">5</span>
          
          <code class="ruby">        raise &quot;Only `Arel::Enhance::Node` is valid for middleware, passed `#{next_arel.class}`&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="69">
          <span class="hits">5</span>
          
          <code class="ruby">      def check_return_type(return_object)</code>
        </li>
      
        <li class="covered" data-hits="502" data-linenumber="70">
          <span class="hits">502</span>
          
          <code class="ruby">        return if return_object.is_a?(Arel::Middleware::Result)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="72">
          <span class="hits">5</span>
          
          <code class="ruby">        raise &#39;Object returned from middleware needs to be wrapped in `Arel::Middleware::Result`&#39; \</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby">              &quot; for object `#{return_object}`&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="a5b47d299896010e5c380f0a241989c1ad8ce2d6">
  <div class="header">
    <h3>lib/arel/middleware/no_op_cache.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>5</b> relevant lines. 
      <span class="green"><b>5</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Middleware</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">    module NoOpCache</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">      def self.read(key); end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">      def self.write(key, sql); end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="ac29631b0ce85687384d0308021433ce1c8e55ed">
  <div class="header">
    <h3>lib/arel/middleware/postgresql_adapter.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>21</b> relevant lines. 
      <span class="green"><b>21</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Middleware</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">    module PostgreSQLAdapter</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(*args)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">        Arel.middleware.none do</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">          super(*args)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">      def execute(sql, name = nil)</code>
        </li>
      
        <li class="covered" data-hits="26867" data-linenumber="11">
          <span class="hits">26867</span>
          
          <code class="ruby">        super(sql, name)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">      alias parent_execute execute</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">      # rubocop:disable Lint/DuplicateMethods</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="17">
          <span class="hits">5</span>
          
          <code class="ruby">      def execute(sql, name = nil)</code>
        </li>
      
        <li class="covered" data-hits="26807" data-linenumber="18">
          <span class="hits">26807</span>
          
          <code class="ruby">        Arel::Middleware.current_chain.execute(sql) do |processed_sql|</code>
        </li>
      
        <li class="covered" data-hits="26777" data-linenumber="19">
          <span class="hits">26777</span>
          
          <code class="ruby">          Arel::Middleware::Result.create(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">            data: parent_execute(processed_sql, name),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">            from: Arel::Middleware::PGResult,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">            to: Arel::Middleware::PGResult,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">          )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">      # rubocop:enable Lint/DuplicateMethods</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="28">
          <span class="hits">5</span>
          
          <code class="ruby">      def query(sql, name = nil)</code>
        </li>
      
        <li class="covered" data-hits="95" data-linenumber="29">
          <span class="hits">95</span>
          
          <code class="ruby">        Arel::Middleware.current_chain.execute(sql) do |processed_sql|</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">          # NOTE: we&#39;re not calling `super` here, but execute.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">          # The `query` super does not return the columns, like the other methods.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">          # As we want the result objects to be the same, we call execute instead.</code>
        </li>
      
        <li class="covered" data-hits="90" data-linenumber="33">
          <span class="hits">90</span>
          
          <code class="ruby">          Arel::Middleware::Result.create(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">            data: parent_execute(processed_sql, name),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">            from: Arel::Middleware::PGResult,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">            to: Arel::Middleware::ArrayResult,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">          )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="41">
          <span class="hits">5</span>
          
          <code class="ruby">      def exec_no_cache(sql, name, binds)</code>
        </li>
      
        <li class="covered" data-hits="451" data-linenumber="42">
          <span class="hits">451</span>
          
          <code class="ruby">        Arel::Middleware.current_chain.execute(sql, binds) do |processed_sql, processed_binds|</code>
        </li>
      
        <li class="covered" data-hits="411" data-linenumber="43">
          <span class="hits">411</span>
          
          <code class="ruby">          Arel::Middleware::Result.create(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">            data: super(processed_sql, name, processed_binds),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby">            from: Arel::Middleware::PGResult,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">            to: Arel::Middleware::PGResult,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby">          )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="51">
          <span class="hits">5</span>
          
          <code class="ruby">      def exec_cache(sql, name, binds)</code>
        </li>
      
        <li class="covered" data-hits="319" data-linenumber="52">
          <span class="hits">319</span>
          
          <code class="ruby">        Arel::Middleware.current_chain.execute(sql, binds) do |processed_sql, processed_binds|</code>
        </li>
      
        <li class="covered" data-hits="259" data-linenumber="53">
          <span class="hits">259</span>
          
          <code class="ruby">          Arel::Middleware::Result.create(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby">            data: super(processed_sql, name, processed_binds),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">            from: Arel::Middleware::PGResult,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby">            to: Arel::Middleware::PGResult,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby">          )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="1490f4ecb0f0645f900885c00f580a4e43099a48">
  <div class="header">
    <h3>lib/arel/middleware/railtie.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>11</b> relevant lines. 
      <span class="green"><b>11</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Middleware</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">    if defined? Rails::Railtie</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="4">
          <span class="hits">1</span>
          
          <code class="ruby">      class Railtie &lt; Rails::Railtie</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="5">
          <span class="hits">1</span>
          
          <code class="ruby">        initializer &#39;arel.middleware.insert&#39; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="6">
          <span class="hits">1</span>
          
          <code class="ruby">          ActiveSupport.on_load :active_record do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="7">
          <span class="hits">1</span>
          
          <code class="ruby">            Arel::Middleware::Railtie.insert</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">    class Railtie</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">      def self.insert</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">        ActiveRecord::ConnectionAdapters::PostgreSQLAdapter.prepend(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">          Arel::Middleware::PostgreSQLAdapter,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">        )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="19">
          <span class="hits">5</span>
          
          <code class="ruby">        ActiveRecord::Base.singleton_class.prepend(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">          Arel::Middleware::ActiveRecordExtension,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">        )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="b859cb7427cb9fdc560612db188536ecd9795eac">
  <div class="header">
    <h3>lib/arel/middleware/result.rb</h3>
    <h4><span class="green">96.43 %</span> covered</h4>
    <div>
      <b>84</b> relevant lines. 
      <span class="green"><b>81</b> lines covered</span> and
      <span class="red"><b>3</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Middleware</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">    class Column</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :name</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :metadata</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(name, metadata)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="8">
          <span class="hits">10</span>
          
          <code class="ruby">        @name = name</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="9">
          <span class="hits">10</span>
          
          <code class="ruby">        @metadata = metadata</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">    # Class is very similar to ActiveRecord::Result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">    # activerecord/lib/active_record/result.rb</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">    class Result</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="16">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :original_data</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">      def self.create(from:, to:, data:)</code>
        </li>
      
        <li class="covered" data-hits="27587" data-linenumber="19">
          <span class="hits">27587</span>
          
          <code class="ruby">        Result.new from, to, data</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="22">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(from_caster, to_caster, original_data)</code>
        </li>
      
        <li class="covered" data-hits="27587" data-linenumber="23">
          <span class="hits">27587</span>
          
          <code class="ruby">        @from_caster = from_caster</code>
        </li>
      
        <li class="covered" data-hits="27587" data-linenumber="24">
          <span class="hits">27587</span>
          
          <code class="ruby">        @to_caster = to_caster</code>
        </li>
      
        <li class="covered" data-hits="27587" data-linenumber="25">
          <span class="hits">27587</span>
          
          <code class="ruby">        @original_data = original_data</code>
        </li>
      
        <li class="covered" data-hits="27587" data-linenumber="26">
          <span class="hits">27587</span>
          
          <code class="ruby">        @modified = false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="29">
          <span class="hits">5</span>
          
          <code class="ruby">      def columns</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="30">
          <span class="hits">15</span>
          
          <code class="ruby">        @columns ||= column_objects.map(&amp;:name)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="33">
          <span class="hits">5</span>
          
          <code class="ruby">      def column_objects</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="34">
          <span class="hits">20</span>
          
          <code class="ruby">        @column_objects ||= from_caster.column_objects(original_data)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="37">
          <span class="hits">5</span>
          
          <code class="ruby">      def rows</code>
        </li>
      
        <li class="covered" data-hits="105" data-linenumber="38">
          <span class="hits">105</span>
          
          <code class="ruby">        @rows ||= from_caster.rows(original_data)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="41">
          <span class="hits">5</span>
          
          <code class="ruby">      def remove_column(column_name)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="42">
          <span class="hits">5</span>
          
          <code class="ruby">        column_index = columns.index(column_name)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="43">
          <span class="hits">5</span>
          
          <code class="ruby">        raise &quot;Unknown column `#{column_name}`. Existing columns: `#{columns}`&quot; if column_index.nil?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="45">
          <span class="hits">5</span>
          
          <code class="ruby">        @hash_rows = nil</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="46">
          <span class="hits">5</span>
          
          <code class="ruby">        @columns = nil</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="47">
          <span class="hits">5</span>
          
          <code class="ruby">        @modified = true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="49">
          <span class="hits">5</span>
          
          <code class="ruby">        column_objects.delete_at(column_index)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="50">
          <span class="hits">5</span>
          
          <code class="ruby">        deleted_rows = []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="52">
          <span class="hits">5</span>
          
          <code class="ruby">        rows.map! do |row|</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="53">
          <span class="hits">5</span>
          
          <code class="ruby">          deleted_rows &lt;&lt; row.delete_at(column_index)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="54">
          <span class="hits">5</span>
          
          <code class="ruby">          row</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="57">
          <span class="hits">5</span>
          
          <code class="ruby">        deleted_rows</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="60">
          <span class="hits">5</span>
          
          <code class="ruby">      def hash_rows</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="61">
          <span class="hits">5</span>
          
          <code class="ruby">        @hash_rows ||=</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby">          begin</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="63">
          <span class="hits">5</span>
          
          <code class="ruby">            rows.map do |row|</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="64">
          <span class="hits">5</span>
          
          <code class="ruby">              hash = {}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="66">
          <span class="hits">5</span>
          
          <code class="ruby">              index = 0</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="67">
          <span class="hits">5</span>
          
          <code class="ruby">              length = columns.length</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="69">
          <span class="hits">5</span>
          
          <code class="ruby">              while index &lt; length</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="70">
          <span class="hits">5</span>
          
          <code class="ruby">                hash[columns[index]] = row[index]</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="71">
          <span class="hits">5</span>
          
          <code class="ruby">                index += 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">              end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="74">
          <span class="hits">5</span>
          
          <code class="ruby">              hash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="79">
          <span class="hits">5</span>
          
          <code class="ruby">      def to_casted_result</code>
        </li>
      
        <li class="covered" data-hits="27587" data-linenumber="80">
          <span class="hits">27587</span>
          
          <code class="ruby">        to_caster.cast_to(self)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="81">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="83">
          <span class="hits">5</span>
          
          <code class="ruby">      def modified?</code>
        </li>
      
        <li class="covered" data-hits="27432" data-linenumber="84">
          <span class="hits">27432</span>
          
          <code class="ruby">        @modified</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="86">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="87">
          <span class="hits">5</span>
          
          <code class="ruby">      private</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="89">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :to_caster, :from_caster</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="91">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="92">
          <span class="hits">5</span>
          
          <code class="ruby">    class PGResult</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="93">
          <span class="hits">5</span>
          
          <code class="ruby">      class &lt;&lt; self</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="94">
          <span class="hits">5</span>
          
          <code class="ruby">        def column_objects(pg_result)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="95">
          <span class="hits">5</span>
          
          <code class="ruby">          pg_result.fields.each_with_index.map do |field, index|</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="96">
          <span class="hits">10</span>
          
          <code class="ruby">            Column.new(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="97">
          
          
          <code class="ruby">              field,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="98">
          
          
          <code class="ruby">              tableid: pg_result.ftable(index),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="99">
          
          
          <code class="ruby">              columnid: pg_result.ftablecol(index),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="100">
          
          
          <code class="ruby">              format: pg_result.fformat(index),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="101">
          
          
          <code class="ruby">              typid: pg_result.ftype(index),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby">              typlen: pg_result.fsize(index),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="103">
          
          
          <code class="ruby">              atttypmod: pg_result.fmod(index),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="104">
          
          
          <code class="ruby">            )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="106">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="107">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="108">
          <span class="hits">5</span>
          
          <code class="ruby">        def rows(data)</code>
        </li>
      
        <li class="covered" data-hits="95" data-linenumber="109">
          <span class="hits">95</span>
          
          <code class="ruby">          data.values</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="110">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="111">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="112">
          <span class="hits">5</span>
          
          <code class="ruby">        def cast_to(result)</code>
        </li>
      
        <li class="covered" data-hits="27432" data-linenumber="113">
          <span class="hits">27432</span>
          
          <code class="ruby">          return result.original_data unless result.modified?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="114">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="115">
          <span class="hits">5</span>
          
          <code class="ruby">          pg_columns = result_to_columns(result)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="116">
          <span class="hits">5</span>
          
          <code class="ruby">          conn = ActiveRecord::Base.connection.raw_connection</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="117">
          <span class="hits">5</span>
          
          <code class="ruby">          new_result = PgResultInit.create(conn, result.original_data, pg_columns, result.rows)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="118">
          <span class="hits">5</span>
          
          <code class="ruby">          result.original_data.clear</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="119">
          <span class="hits">5</span>
          
          <code class="ruby">          new_result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="120">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="121">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="122">
          <span class="hits">5</span>
          
          <code class="ruby">        private</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="123">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="124">
          <span class="hits">5</span>
          
          <code class="ruby">        def result_to_columns(result)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="125">
          <span class="hits">5</span>
          
          <code class="ruby">          result.column_objects.map do |column|</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="126">
          <span class="hits">5</span>
          
          <code class="ruby">            {</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="127">
          
          
          <code class="ruby">              name: column.name,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="128">
          
          
          <code class="ruby">              tableid: column.metadata.fetch(:tableid, 0),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="129">
          
          
          <code class="ruby">              columnid: column.metadata.fetch(:columnid, 0),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="130">
          
          
          <code class="ruby">              format: column.metadata.fetch(:format, 0),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="131">
          
          
          <code class="ruby">              typid: column.metadata.fetch(:typid),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="132">
          
          
          <code class="ruby">              typlen: column.metadata.fetch(:typlen),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="133">
          
          
          <code class="ruby">              atttypmod: column.metadata.fetch(:atttypmod, -1),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="134">
          
          
          <code class="ruby">            }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="135">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="136">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="137">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="138">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="139">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="140">
          <span class="hits">5</span>
          
          <code class="ruby">    class EmptyPGResult &lt; PGResult</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="141">
          <span class="hits">5</span>
          
          <code class="ruby">      class &lt;&lt; self</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="142">
          <span class="hits">5</span>
          
          <code class="ruby">        def cast_to(_result)</code>
        </li>
      
        <li class="covered" data-hits="65" data-linenumber="143">
          <span class="hits">65</span>
          
          <code class="ruby">          ActiveRecord::Base.connection.raw_connection.make_empty_pgresult(2)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="144">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="145">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="146">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="147">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="148">
          <span class="hits">5</span>
          
          <code class="ruby">    class ArrayResult</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="149">
          <span class="hits">5</span>
          
          <code class="ruby">      def self.cast_to(result)</code>
        </li>
      
        <li class="covered" data-hits="90" data-linenumber="150">
          <span class="hits">90</span>
          
          <code class="ruby">        result.rows</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="151">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="152">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="153">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="154">
          <span class="hits">5</span>
          
          <code class="ruby">    class StringResult</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="155">
          <span class="hits">5</span>
          
          <code class="ruby">      class &lt;&lt; self</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="156">
          <span class="hits">5</span>
          
          <code class="ruby">        def column_objects(_string)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="157">
          
          
          <code class="ruby">          []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="158">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="159">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="160">
          <span class="hits">5</span>
          
          <code class="ruby">        def rows(_string)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="161">
          
          
          <code class="ruby">          []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="162">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="163">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="164">
          <span class="hits">5</span>
          
          <code class="ruby">        def cast_to(result)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="165">
          
          
          <code class="ruby">          result.original_data</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="166">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="167">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="168">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="169">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="170">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="bd766f316a6bfbe829cdc5e67075dbb77f511185">
  <div class="header">
    <h3>lib/arel/middleware/to_sql_executor.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>6</b> relevant lines. 
      <span class="green"><b>6</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Middleware</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSqlExecutor &lt; DatabaseExecutor</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">      private</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">      def execute_sql(next_arel)</code>
        </li>
      
        <li class="covered" data-hits="65" data-linenumber="7">
          <span class="hits">65</span>
          
          <code class="ruby">        Arel::Middleware::Result.create(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">          data: next_arel.to_sql,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">          from: Arel::Middleware::StringResult,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">          to: Arel::Middleware::EmptyPGResult,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">        )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="0085ce8da81b95f889c51cf17c9b154eb7e39383">
  <div class="header">
    <h3>lib/arel/middleware/to_sql_middleware.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>18</b> relevant lines. 
      <span class="green"><b>18</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Middleware</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">    class ToSqlMiddleware</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :sql, :type, :query_class</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(type)</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="7">
          <span class="hits">35</span>
          
          <code class="ruby">        @sql = []</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="8">
          <span class="hits">35</span>
          
          <code class="ruby">        @type = type</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="9">
          <span class="hits">35</span>
          
          <code class="ruby">        @query_class = class_from_type</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">      def call(next_arel, next_middleware)</code>
        </li>
      
        <li class="covered" data-hits="70" data-linenumber="13">
          <span class="hits">70</span>
          
          <code class="ruby">        sql &lt;&lt; next_arel.to_sql unless next_arel.query(class: query_class).empty?</code>
        </li>
      
        <li class="covered" data-hits="70" data-linenumber="14">
          <span class="hits">70</span>
          
          <code class="ruby">        next_middleware.call(next_arel)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="17">
          <span class="hits">5</span>
          
          <code class="ruby">      private</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="19">
          <span class="hits">5</span>
          
          <code class="ruby">      def class_from_type</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="20">
          <span class="hits">35</span>
          
          <code class="ruby">        case type</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">        when :insert</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="22">
          <span class="hits">5</span>
          
          <code class="ruby">          Arel::Nodes::InsertStatement</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">        when :select</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="24">
          <span class="hits">10</span>
          
          <code class="ruby">          Arel::Nodes::SelectStatement</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">        when :update</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="26">
          <span class="hits">10</span>
          
          <code class="ruby">          Arel::Nodes::UpdateStatement</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">        when :delete</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="28">
          <span class="hits">10</span>
          
          <code class="ruby">          Arel::Nodes::DeleteStatement</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="a107c1c47710a95ce722e16baf299dc7d82a3009">
  <div class="header">
    <h3>lib/arel/sql_to_arel.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>7</b> relevant lines. 
      <span class="green"><b>7</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">require_relative &#39;./sql_to_arel/result&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">require_relative &#39;./sql_to_arel/error&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">require_relative &#39;./sql_to_arel/pg_query_visitor&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">  module SqlToArel</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">  def self.sql_to_arel(sql, binds: [])</code>
        </li>
      
        <li class="covered" data-hits="6411" data-linenumber="10">
          <span class="hits">6411</span>
          
          <code class="ruby">    SqlToArel::PgQueryVisitor.new.accept(sql, binds)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="117ddcde798d5459383d610110011f9b710e2bac">
  <div class="header">
    <h3>lib/arel/sql_to_arel/error.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>3</b> relevant lines. 
      <span class="green"><b>3</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module SqlToArel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">    class Error &lt; StandardError</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="9ee3b46b7e64e9514cae5a13d7b5633eb579db86">
  <div class="header">
    <h3>lib/arel/sql_to_arel/pg_query_visitor.rb</h3>
    <h4><span class="green">96.88 %</span> covered</h4>
    <div>
      <b>608</b> relevant lines. 
      <span class="green"><b>589</b> lines covered</span> and
      <span class="red"><b>19</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># rubocop:disable Metrics/PerceivedComplexity</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># rubocop:disable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"># rubocop:disable Metrics/CyclomaticComplexity</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby"># rubocop:disable Metrics/AbcSize</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;pg_query&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">require_relative &#39;./pg_query_visitor/frame_options&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">  module SqlToArel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">    class PgQueryVisitor</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">      PG_CATALOG = &#39;pg_catalog&#39;.freeze</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">      MIN_MAX_EXPR = &#39;MinMaxExpr&#39;.freeze</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :object</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="16">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :binds</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="17">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :sql</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="19">
          <span class="hits">5</span>
          
          <code class="ruby">      def accept(sql, binds = [])</code>
        </li>
      
        <li class="covered" data-hits="6416" data-linenumber="20">
          <span class="hits">6416</span>
          
          <code class="ruby">        tree = PgQuery.parse(sql).tree</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6411" data-linenumber="22">
          <span class="hits">6411</span>
          
          <code class="ruby">        @object = tree</code>
        </li>
      
        <li class="covered" data-hits="6411" data-linenumber="23">
          <span class="hits">6411</span>
          
          <code class="ruby">        @binds = binds</code>
        </li>
      
        <li class="covered" data-hits="6411" data-linenumber="24">
          <span class="hits">6411</span>
          
          <code class="ruby">        @sql = sql</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6411" data-linenumber="26">
          <span class="hits">6411</span>
          
          <code class="ruby">        Result.new visit(object.stmts, :top)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">      rescue ::PgQuery::ParseError =&gt; e</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="28">
          <span class="hits">5</span>
          
          <code class="ruby">        new_error = ::PgQuery::ParseError.new(e.message, __FILE__, __LINE__, -1)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="29">
          <span class="hits">5</span>
          
          <code class="ruby">        raise new_error, e.message, e.backtrace</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">      rescue ::StandardError =&gt; e</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="31">
          <span class="hits">10</span>
          
          <code class="ruby">        raise e.class, e.message, e.backtrace if e.is_a?(Arel::SqlToArel::Error)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="33">
          <span class="hits">5</span>
          
          <code class="ruby">        boom e.message, e.backtrace</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="36">
          <span class="hits">5</span>
          
          <code class="ruby">      private</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="38">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_A_ArrayExpr(attribute)</code>
        </li>
      
        <li class="covered" data-hits="200" data-linenumber="39">
          <span class="hits">200</span>
          
          <code class="ruby">        Arel::Nodes::Array.new visit(attribute.elements)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="42">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_A_Const(attribute)</code>
        </li>
      
        <li class="covered" data-hits="10089" data-linenumber="43">
          <span class="hits">10089</span>
          
          <code class="ruby">        visit(attribute.val, :const)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="46">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_A_Expr(attribute)</code>
        </li>
      
        <li class="covered" data-hits="2165" data-linenumber="47">
          <span class="hits">2165</span>
          
          <code class="ruby">        case attribute.kind</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby">        when :AEXPR_OP</code>
        </li>
      
        <li class="covered" data-hits="1916" data-linenumber="49">
          <span class="hits">1916</span>
          
          <code class="ruby">          left = visit(attribute.lexpr) if attribute.lexpr</code>
        </li>
      
        <li class="covered" data-hits="1916" data-linenumber="50">
          <span class="hits">1916</span>
          
          <code class="ruby">          right = visit(attribute.rexpr) if attribute.rexpr</code>
        </li>
      
        <li class="covered" data-hits="1916" data-linenumber="51">
          <span class="hits">1916</span>
          
          <code class="ruby">          operator = visit(attribute.name[0], :operator)</code>
        </li>
      
        <li class="covered" data-hits="1916" data-linenumber="52">
          <span class="hits">1916</span>
          
          <code class="ruby">          generate_operator(left, right, operator)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby">        when :AEXPR_OP_ANY</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="55">
          <span class="hits">30</span>
          
          <code class="ruby">          left = visit(attribute.lexpr)</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="56">
          <span class="hits">30</span>
          
          <code class="ruby">          right = visit(attribute.rexpr)</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="57">
          <span class="hits">30</span>
          
          <code class="ruby">          right = Arel::Nodes::Any.new right</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="58">
          <span class="hits">30</span>
          
          <code class="ruby">          operator = visit(attribute.name[0], :operator)</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="59">
          <span class="hits">30</span>
          
          <code class="ruby">          generate_operator(left, right, operator)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">        when :AEXPR_OP_ALL</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="62">
          <span class="hits">20</span>
          
          <code class="ruby">          left = visit(attribute.lexpr)</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="63">
          <span class="hits">20</span>
          
          <code class="ruby">          right = visit(attribute.rexpr)</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="64">
          <span class="hits">20</span>
          
          <code class="ruby">          right = Arel::Nodes::All.new right</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="65">
          <span class="hits">20</span>
          
          <code class="ruby">          operator = visit(attribute.name[0], :operator)</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="66">
          <span class="hits">20</span>
          
          <code class="ruby">          generate_operator(left, right, operator)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">        when :AEXPR_DISTINCT</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="69">
          <span class="hits">10</span>
          
          <code class="ruby">          left = visit(attribute.lexpr)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="70">
          <span class="hits">10</span>
          
          <code class="ruby">          right = visit(attribute.rexpr)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="71">
          <span class="hits">10</span>
          
          <code class="ruby">          Arel::Nodes::DistinctFrom.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby">        when :AEXPR_NOT_DISTINCT</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="74">
          <span class="hits">10</span>
          
          <code class="ruby">          left = visit(attribute.lexpr)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="75">
          <span class="hits">10</span>
          
          <code class="ruby">          right = visit(attribute.rexpr)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="76">
          <span class="hits">10</span>
          
          <code class="ruby">          Arel::Nodes::NotDistinctFrom.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby">        when :AEXPR_NULLIF</code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="79">
          <span class="hits">25</span>
          
          <code class="ruby">          left = visit(attribute.lexpr)</code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="80">
          <span class="hits">25</span>
          
          <code class="ruby">          right = visit(attribute.rexpr)</code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="81">
          <span class="hits">25</span>
          
          <code class="ruby">          Arel::Nodes::NullIf.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="83">
          
          
          <code class="ruby">        when :AEXPR_IN</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="84">
          <span class="hits">24</span>
          
          <code class="ruby">          left = visit(attribute.lexpr)</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="85">
          <span class="hits">24</span>
          
          <code class="ruby">          right = visit(attribute.rexpr)</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="86">
          <span class="hits">24</span>
          
          <code class="ruby">          operator = visit(attribute.name[0], :operator)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="88">
          <span class="hits">24</span>
          
          <code class="ruby">          if operator == &#39;&lt;&gt;&#39;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="89">
          <span class="hits">10</span>
          
          <code class="ruby">            Arel::Nodes::NotIn.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="91">
          <span class="hits">14</span>
          
          <code class="ruby">            Arel::Nodes::In.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="93">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="94">
          
          
          <code class="ruby">        when :AEXPR_LIKE, :AEXPR_ILIKE</code>
        </li>
      
        <li class="covered" data-hits="45" data-linenumber="95">
          <span class="hits">45</span>
          
          <code class="ruby">          left = visit(attribute.lexpr) if attribute.lexpr</code>
        </li>
      
        <li class="covered" data-hits="45" data-linenumber="96">
          <span class="hits">45</span>
          
          <code class="ruby">          right = visit(attribute.rexpr)</code>
        </li>
      
        <li class="covered" data-hits="45" data-linenumber="97">
          <span class="hits">45</span>
          
          <code class="ruby">          escape = nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="98">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="45" data-linenumber="99">
          <span class="hits">45</span>
          
          <code class="ruby">          if right.is_a?(Array)</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="100">
          <span class="hits">20</span>
          
          <code class="ruby">            boom &quot;Don&#39;t know how to handle length `#{right.length}`&quot; if right.length != 2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="101">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="102">
          <span class="hits">20</span>
          
          <code class="ruby">            right, escape = right</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="103">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="104">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="45" data-linenumber="105">
          <span class="hits">45</span>
          
          <code class="ruby">          operator = visit(attribute.name[0], :operator)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="106">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="45" data-linenumber="107">
          <span class="hits">45</span>
          
          <code class="ruby">          if %w[~~ ~~*].include?(operator)</code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="108">
          <span class="hits">25</span>
          
          <code class="ruby">            Arel::Nodes::Matches.new(left, right, escape, attribute.kind == :AEXPR_LIKE)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="109">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="110">
          <span class="hits">20</span>
          
          <code class="ruby">            Arel::Nodes::DoesNotMatch.new(left, right, escape, attribute.kind == :AEXPR_LIKE)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="111">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="112">
          
          
          <code class="ruby">        when :AEXPR_SIMILAR</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="113">
          <span class="hits">40</span>
          
          <code class="ruby">          left = visit(attribute.lexpr) if attribute.lexpr</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="114">
          <span class="hits">40</span>
          
          <code class="ruby">          right = visit(attribute.rexpr)</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="115">
          <span class="hits">40</span>
          
          <code class="ruby">          escape = nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="116">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="117">
          <span class="hits">40</span>
          
          <code class="ruby">          right, escape = right if right.is_a?(Array)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="118">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="119">
          <span class="hits">40</span>
          
          <code class="ruby">          operator = visit(attribute.name[0], :operator)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="120">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="121">
          <span class="hits">40</span>
          
          <code class="ruby">          if operator == &#39;~&#39;</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="122">
          <span class="hits">20</span>
          
          <code class="ruby">            Arel::Nodes::Similar.new(left, right, escape)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="123">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="124">
          <span class="hits">20</span>
          
          <code class="ruby">            Arel::Nodes::NotSimilar.new(left, right, escape)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="126">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="127">
          
          
          <code class="ruby">        when :AEXPR_BETWEEN</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="128">
          <span class="hits">10</span>
          
          <code class="ruby">          left = visit(attribute.lexpr) if attribute.lexpr</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="129">
          <span class="hits">10</span>
          
          <code class="ruby">          right = visit(attribute.rexpr)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="130">
          <span class="hits">10</span>
          
          <code class="ruby">          Arel::Nodes::Between.new left, Arel::Nodes::And.new(right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="131">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="132">
          
          
          <code class="ruby">        when :AEXPR_NOT_BETWEEN</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="133">
          <span class="hits">10</span>
          
          <code class="ruby">          left = visit(attribute.lexpr) if attribute.lexpr</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="134">
          <span class="hits">10</span>
          
          <code class="ruby">          right = visit(attribute.rexpr)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="135">
          <span class="hits">10</span>
          
          <code class="ruby">          Arel::Nodes::NotBetween.new left, Arel::Nodes::And.new(right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="136">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="137">
          
          
          <code class="ruby">        when :AEXPR_BETWEEN_SYM</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="138">
          <span class="hits">10</span>
          
          <code class="ruby">          left = visit(attribute.lexpr) if attribute.lexpr</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="139">
          <span class="hits">10</span>
          
          <code class="ruby">          right = visit(attribute.rexpr)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="140">
          <span class="hits">10</span>
          
          <code class="ruby">          Arel::Nodes::BetweenSymmetric.new left, Arel::Nodes::And.new(right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="141">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="142">
          
          
          <code class="ruby">        when :AEXPR_NOT_BETWEEN_SYM</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="143">
          <span class="hits">10</span>
          
          <code class="ruby">          left = visit(attribute.lexpr) if attribute.lexpr</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="144">
          <span class="hits">10</span>
          
          <code class="ruby">          right = visit(attribute.rexpr)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="145">
          <span class="hits">10</span>
          
          <code class="ruby">          Arel::Nodes::NotBetweenSymmetric.new left, Arel::Nodes::And.new(right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="146">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="147">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="148">
          <span class="hits">5</span>
          
          <code class="ruby">          boom &quot;Unknown Expr type `#{attribute.kind}`&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="149">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="150">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="151">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="152">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_A_Indices(attribute, context)</code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="153">
          <span class="hits">25</span>
          
          <code class="ruby">        visit attribute.uidx, context</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="154">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="155">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="156">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_A_Indirection(attribute)</code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="157">
          <span class="hits">25</span>
          
          <code class="ruby">        Arel::Nodes::Indirection.new(visit(attribute.arg), visit(attribute.indirection, :operator))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="158">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="159">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="160">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_A_Star(_attribute)</code>
        </li>
      
        <li class="covered" data-hits="321" data-linenumber="161">
          <span class="hits">321</span>
          
          <code class="ruby">        Arel.star</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="162">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="163">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="164">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Alias(attribute)</code>
        </li>
      
        <li class="covered" data-hits="264" data-linenumber="165">
          <span class="hits">264</span>
          
          <code class="ruby">        aliasname = if attribute.respond_to?(:aliasname)</code>
        </li>
      
        <li class="covered" data-hits="176" data-linenumber="166">
          <span class="hits">176</span>
          
          <code class="ruby">                      attribute.aliasname</code>
        </li>
      
        <li class="covered" data-hits="88" data-linenumber="167">
          <span class="hits">88</span>
          
          <code class="ruby">                    elsif attribute.is_a?(Hash)</code>
        </li>
      
        <li class="covered" data-hits="88" data-linenumber="168">
          <span class="hits">88</span>
          
          <code class="ruby">                      attribute[:aliasname]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="169">
          
          
          <code class="ruby">                    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="170">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="264" data-linenumber="171">
          <span class="hits">264</span>
          
          <code class="ruby">        return if aliasname.nil?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="172">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="264" data-linenumber="173">
          <span class="hits">264</span>
          
          <code class="ruby">        Arel.sql visit_String(aliasname, nil)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="174">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="175">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="176">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_BitString(attribute)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="177">
          <span class="hits">10</span>
          
          <code class="ruby">        Arel::Nodes::BitString.new(attribute.str)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="178">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="179">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="180">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_BoolExpr(attribute, context = false)</code>
        </li>
      
        <li class="covered" data-hits="110" data-linenumber="181">
          <span class="hits">110</span>
          
          <code class="ruby">        args = visit(attribute.args, context || true)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="182">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="110" data-linenumber="183">
          <span class="hits">110</span>
          
          <code class="ruby">        result = case attribute.boolop</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="184">
          
          
          <code class="ruby">                 when :AND_EXPR</code>
        </li>
      
        <li class="covered" data-hits="80" data-linenumber="185">
          <span class="hits">80</span>
          
          <code class="ruby">                   Arel::Nodes::And.new(args)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="186">
          
          
          <code class="ruby">                 when :OR_EXPR</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="187">
          <span class="hits">10</span>
          
          <code class="ruby">                   generate_boolean_expression(args, Arel::Nodes::Or)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="188">
          
          
          <code class="ruby">                 when :NOT_EXPR</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="189">
          <span class="hits">20</span>
          
          <code class="ruby">                   Arel::Nodes::Not.new(args)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="190">
          
          
          <code class="ruby">                 else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="191">
          
          
          <code class="ruby">                   boom &quot;? Boolop -&gt; #{boolop}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="192">
          
          
          <code class="ruby">                 end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="193">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="110" data-linenumber="194">
          <span class="hits">110</span>
          
          <code class="ruby">        if context</code>
        </li>
      
        <li class="covered" data-hits="75" data-linenumber="195">
          <span class="hits">75</span>
          
          <code class="ruby">          Arel::Nodes::Grouping.new(result)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="196">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="197">
          <span class="hits">35</span>
          
          <code class="ruby">          result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="198">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="199">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="200">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="201">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_BooleanTest(attribute)</code>
        </li>
      
        <li class="covered" data-hits="60" data-linenumber="202">
          <span class="hits">60</span>
          
          <code class="ruby">        arg = visit(attribute.arg)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="203">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="60" data-linenumber="204">
          <span class="hits">60</span>
          
          <code class="ruby">        case attribute.booltesttype</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="205">
          
          
          <code class="ruby">        when :IS_TRUE</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="206">
          <span class="hits">10</span>
          
          <code class="ruby">          Arel::Nodes::Equality.new(arg, Arel::Nodes::True.new)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="207">
          
          
          <code class="ruby">        when :IS_NOT_TRUE</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="208">
          <span class="hits">10</span>
          
          <code class="ruby">          Arel::Nodes::NotEqual.new(arg, Arel::Nodes::True.new)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="209">
          
          
          <code class="ruby">        when :IS_FALSE</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="210">
          <span class="hits">10</span>
          
          <code class="ruby">          Arel::Nodes::Equality.new(arg, Arel::Nodes::False.new)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="211">
          
          
          <code class="ruby">        when :IS_NOT_FALSE</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="212">
          <span class="hits">10</span>
          
          <code class="ruby">          Arel::Nodes::NotEqual.new(arg, Arel::Nodes::False.new)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="213">
          
          
          <code class="ruby">        when :IS_UNKNOWN</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="214">
          <span class="hits">10</span>
          
          <code class="ruby">          Arel::Nodes::Equality.new(arg, Arel::Nodes::Unknown.new)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="215">
          
          
          <code class="ruby">        when :IS_NOT_UNKNOWN</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="216">
          <span class="hits">10</span>
          
          <code class="ruby">          Arel::Nodes::NotEqual.new(arg, Arel::Nodes::Unknown.new)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="217">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="218">
          
          
          <code class="ruby">          boom &#39;?&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="219">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="220">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="221">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="222">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_CaseExpr(attribute)</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="223">
          <span class="hits">20</span>
          
          <code class="ruby">        Arel::Nodes::Case.new.tap do |kees|</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="224">
          <span class="hits">20</span>
          
          <code class="ruby">          kees.case = visit(attribute.arg) if attribute.arg</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="225">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="226">
          <span class="hits">20</span>
          
          <code class="ruby">          kees.conditions = visit attribute.args</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="227">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="228">
          <span class="hits">20</span>
          
          <code class="ruby">          if attribute.defresult</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="229">
          <span class="hits">20</span>
          
          <code class="ruby">            default_result = visit(attribute.defresult, :sql)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="230">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="231">
          <span class="hits">20</span>
          
          <code class="ruby">            kees.default = Arel::Nodes::Else.new default_result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="232">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="233">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="234">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="235">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="236">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_CaseWhen(attribute)</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="237">
          <span class="hits">40</span>
          
          <code class="ruby">        expr = visit(attribute.expr)</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="238">
          <span class="hits">40</span>
          
          <code class="ruby">        result = visit(attribute.result)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="239">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="240">
          <span class="hits">40</span>
          
          <code class="ruby">        Arel::Nodes::When.new(expr, result)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="241">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="242">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="243">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_CoalesceExpr(attribute)</code>
        </li>
      
        <li class="covered" data-hits="41" data-linenumber="244">
          <span class="hits">41</span>
          
          <code class="ruby">        args = visit(attribute.args)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="245">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="41" data-linenumber="246">
          <span class="hits">41</span>
          
          <code class="ruby">        Arel::Nodes::Coalesce.new args</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="247">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="248">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="249">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_ColumnRef(attribute)</code>
        </li>
      
        <li class="covered" data-hits="2330" data-linenumber="250">
          <span class="hits">2330</span>
          
          <code class="ruby">        fields = attribute.fields.reverse</code>
        </li>
      
        <li class="covered" data-hits="2330" data-linenumber="251">
          <span class="hits">2330</span>
          
          <code class="ruby">        column = visit(fields[0], :operator)</code>
        </li>
      
        <li class="covered" data-hits="2330" data-linenumber="252">
          <span class="hits">2330</span>
          
          <code class="ruby">        table = visit(fields[1], :operator) if fields[1]</code>
        </li>
      
        <li class="covered" data-hits="2330" data-linenumber="253">
          <span class="hits">2330</span>
          
          <code class="ruby">        schema_name = visit(fields[2], :operator) if fields[2]</code>
        </li>
      
        <li class="covered" data-hits="2330" data-linenumber="254">
          <span class="hits">2330</span>
          
          <code class="ruby">        database = visit(fields[3], :operator) if fields[3]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="255">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2330" data-linenumber="256">
          <span class="hits">2330</span>
          
          <code class="ruby">        table = Arel::Table.new(table) if table</code>
        </li>
      
        <li class="covered" data-hits="2330" data-linenumber="257">
          <span class="hits">2330</span>
          
          <code class="ruby">        attribute = Arel::Attribute.new(table, column)</code>
        </li>
      
        <li class="covered" data-hits="2330" data-linenumber="258">
          <span class="hits">2330</span>
          
          <code class="ruby">        attribute.schema_name = schema_name</code>
        </li>
      
        <li class="covered" data-hits="2330" data-linenumber="259">
          <span class="hits">2330</span>
          
          <code class="ruby">        attribute.database = database</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="260">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2330" data-linenumber="261">
          <span class="hits">2330</span>
          
          <code class="ruby">        return attribute if table</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="262">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1341" data-linenumber="263">
          <span class="hits">1341</span>
          
          <code class="ruby">        Arel::Nodes::UnqualifiedColumn.new Arel::Attribute.new(nil, column)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="264">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="265">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="266">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_CommonTableExpr(attribute)</code>
        </li>
      
        <li class="covered" data-hits="71" data-linenumber="267">
          <span class="hits">71</span>
          
          <code class="ruby">        cte_table = Arel::Table.new(attribute.ctename)</code>
        </li>
      
        <li class="covered" data-hits="71" data-linenumber="268">
          <span class="hits">71</span>
          
          <code class="ruby">        cte_definition = visit(attribute.ctequery)</code>
        </li>
      
        <li class="covered" data-hits="71" data-linenumber="269">
          <span class="hits">71</span>
          
          <code class="ruby">        Arel::Nodes::As.new(cte_table, Arel::Nodes::Grouping.new(cte_definition))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="270">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="271">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="272">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_CurrentOfExpr(attribute)</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="273">
          <span class="hits">20</span>
          
          <code class="ruby">        Arel::Nodes::CurrentOfExpression.new(attribute.cursor_name)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="274">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="275">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="276">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_DeallocateStmt(attribute)</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="277">
          <span class="hits">20</span>
          
          <code class="ruby">        Arel::Nodes::Dealocate.new attribute.name.presence</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="278">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="279">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="280">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_DefElem(attribute)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="281">
          
          
          <code class="ruby">        case attribute.defname</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="282">
          
          
          <code class="ruby">        when &#39;savepoint_name&#39;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="283">
          
          
          <code class="ruby">          visit(attribute.arg)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="284">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="285">
          
          
          <code class="ruby">          boom &quot;Unknown defname `#{attribute.defname}` with defaction `#{attribute.defaction}`&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="286">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="287">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="288">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="289">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_DeleteStmt(attribute)</code>
        </li>
      
        <li class="covered" data-hits="70" data-linenumber="290">
          <span class="hits">70</span>
          
          <code class="ruby">        relation = visit(attribute.relation)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="291">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="70" data-linenumber="292">
          <span class="hits">70</span>
          
          <code class="ruby">        delete_manager = Arel::DeleteManager.new</code>
        </li>
      
        <li class="covered" data-hits="70" data-linenumber="293">
          <span class="hits">70</span>
          
          <code class="ruby">        delete_statement = delete_manager.ast</code>
        </li>
      
        <li class="covered" data-hits="70" data-linenumber="294">
          <span class="hits">70</span>
          
          <code class="ruby">        delete_statement.relation = relation</code>
        </li>
      
        <li class="covered" data-hits="70" data-linenumber="295">
          <span class="hits">70</span>
          
          <code class="ruby">        delete_statement.using = visit(attribute.using_clause) if attribute.using_clause</code>
        </li>
      
        <li class="covered" data-hits="70" data-linenumber="296">
          <span class="hits">70</span>
          
          <code class="ruby">        delete_statement.wheres = attribute.where_clause ? [visit(attribute.where_clause)] : []</code>
        </li>
      
        <li class="covered" data-hits="70" data-linenumber="297">
          <span class="hits">70</span>
          
          <code class="ruby">        delete_statement.with = visit(attribute.with_clause) if attribute.with_clause</code>
        </li>
      
        <li class="covered" data-hits="70" data-linenumber="298">
          <span class="hits">70</span>
          
          <code class="ruby">        delete_statement.returning = visit(attribute.returning_list, :select)</code>
        </li>
      
        <li class="covered" data-hits="70" data-linenumber="299">
          <span class="hits">70</span>
          
          <code class="ruby">        delete_manager</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="300">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="301">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="302">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Float(attribute)</code>
        </li>
      
        <li class="covered" data-hits="625" data-linenumber="303">
          <span class="hits">625</span>
          
          <code class="ruby">        Arel::Nodes::SqlLiteral.new attribute.str</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="304">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="305">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="306">
          
          
          <code class="ruby">      # https://github.com/postgres/postgres/blob/REL_10_1/src/include/nodes/parsenodes.h</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="307">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_FuncCall(attribute)</code>
        </li>
      
        <li class="covered" data-hits="3512" data-linenumber="308">
          <span class="hits">3512</span>
          
          <code class="ruby">        args = if attribute.args.present?</code>
        </li>
      
        <li class="covered" data-hits="3372" data-linenumber="309">
          <span class="hits">3372</span>
          
          <code class="ruby">                 visit attribute.args</code>
        </li>
      
        <li class="covered" data-hits="140" data-linenumber="310">
          <span class="hits">140</span>
          
          <code class="ruby">               elsif attribute.agg_star</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="311">
          <span class="hits">15</span>
          
          <code class="ruby">                 [Arel.star]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="312">
          
          
          <code class="ruby">               else</code>
        </li>
      
        <li class="covered" data-hits="125" data-linenumber="313">
          <span class="hits">125</span>
          
          <code class="ruby">                 []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="314">
          
          
          <code class="ruby">               end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="315">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3512" data-linenumber="316">
          <span class="hits">3512</span>
          
          <code class="ruby">        function_names = visit(attribute.funcname, :operator)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="317">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3512" data-linenumber="318">
          <span class="hits">3512</span>
          
          <code class="ruby">        func = case function_names</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="319">
          
          
          <code class="ruby">               when [&#39;sum&#39;]</code>
        </li>
      
        <li class="covered" data-hits="200" data-linenumber="320">
          <span class="hits">200</span>
          
          <code class="ruby">                 Arel::Nodes::Sum.new args</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="321">
          
          
          <code class="ruby">               when [&#39;count&#39;]</code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="322">
          <span class="hits">25</span>
          
          <code class="ruby">                 Arel::Nodes::Count.new args</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="323">
          
          
          <code class="ruby">               when [&#39;max&#39;]</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="324">
          <span class="hits">10</span>
          
          <code class="ruby">                 Arel::Nodes::Max.new args</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="325">
          
          
          <code class="ruby">               when [&#39;min&#39;]</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="326">
          <span class="hits">10</span>
          
          <code class="ruby">                 Arel::Nodes::Min.new args</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="327">
          
          
          <code class="ruby">               when [&#39;avg&#39;]</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="328">
          <span class="hits">40</span>
          
          <code class="ruby">                 Arel::Nodes::Avg.new args</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="329">
          
          
          <code class="ruby">               when [PG_CATALOG, &#39;like_escape&#39;]</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="330">
          <span class="hits">20</span>
          
          <code class="ruby">                 args</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="331">
          
          
          <code class="ruby">               when [PG_CATALOG, &#39;similar_to_escape&#39;]</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="332">
          <span class="hits">40</span>
          
          <code class="ruby">                 args</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="333">
          
          
          <code class="ruby">               when [PG_CATALOG, &#39;date_part&#39;]</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="334">
          <span class="hits">40</span>
          
          <code class="ruby">                 field, expression = args</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="335">
          <span class="hits">40</span>
          
          <code class="ruby">                 [Arel::Nodes::ExtractFrom.new(expression, field)]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="336">
          
          
          <code class="ruby">               when [PG_CATALOG, &#39;timezone&#39;]</code>
        </li>
      
        <li class="covered" data-hits="60" data-linenumber="337">
          <span class="hits">60</span>
          
          <code class="ruby">                 timezone, expression = args</code>
        </li>
      
        <li class="covered" data-hits="60" data-linenumber="338">
          <span class="hits">60</span>
          
          <code class="ruby">                 [Arel::Nodes::AtTimeZone.new(maybe_add_grouping(expression), timezone)]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="339">
          
          
          <code class="ruby">               # https://www.postgresql.org/docs/10/functions-string.html</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="340">
          
          
          <code class="ruby">               when [PG_CATALOG, &#39;position&#39;]</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="341">
          <span class="hits">30</span>
          
          <code class="ruby">                 string, substring = args</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="342">
          <span class="hits">30</span>
          
          <code class="ruby">                 [Arel::Nodes::Position.new(substring, string)]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="343">
          
          
          <code class="ruby">               when [PG_CATALOG, &#39;overlay&#39;]</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="344">
          <span class="hits">40</span>
          
          <code class="ruby">                 string, substring, start, length = args</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="345">
          <span class="hits">40</span>
          
          <code class="ruby">                 [Arel::Nodes::Overlay.new(string, substring, start, length)]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="346">
          
          
          <code class="ruby">               when [PG_CATALOG, &#39;ltrim&#39;]</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="347">
          <span class="hits">10</span>
          
          <code class="ruby">                 string, substring = args</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="348">
          <span class="hits">10</span>
          
          <code class="ruby">                 [Arel::Nodes::Trim.new(&#39;leading&#39;, substring, string)]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="349">
          
          
          <code class="ruby">               when [PG_CATALOG, &#39;rtrim&#39;]</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="350">
          <span class="hits">10</span>
          
          <code class="ruby">                 string, substring = args</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="351">
          <span class="hits">10</span>
          
          <code class="ruby">                 [Arel::Nodes::Trim.new(&#39;trailing&#39;, substring, string)]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="352">
          
          
          <code class="ruby">               when [PG_CATALOG, &#39;btrim&#39;]</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="353">
          <span class="hits">40</span>
          
          <code class="ruby">                 string, substring = args</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="354">
          <span class="hits">40</span>
          
          <code class="ruby">                 [Arel::Nodes::Trim.new(&#39;both&#39;, substring, string)]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="355">
          
          
          <code class="ruby">               when [PG_CATALOG, &#39;substring&#39;]</code>
        </li>
      
        <li class="covered" data-hits="70" data-linenumber="356">
          <span class="hits">70</span>
          
          <code class="ruby">                 string, pattern, escape = args</code>
        </li>
      
        <li class="covered" data-hits="70" data-linenumber="357">
          <span class="hits">70</span>
          
          <code class="ruby">                 [Arel::Nodes::Substring.new(string, pattern, escape)]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="358">
          
          
          <code class="ruby">               when [PG_CATALOG, &#39;overlaps&#39;]</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="359">
          <span class="hits">10</span>
          
          <code class="ruby">                 start1, end1, start2, end2 = args</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="360">
          <span class="hits">10</span>
          
          <code class="ruby">                 [Arel::Nodes::Overlaps.new(start1, end1, start2, end2)]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="361">
          
          
          <code class="ruby">               else</code>
        </li>
      
        <li class="covered" data-hits="2857" data-linenumber="362">
          <span class="hits">2857</span>
          
          <code class="ruby">                 case function_names.length</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="363">
          
          
          <code class="ruby">                 when 2</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="364">
          <span class="hits">30</span>
          
          <code class="ruby">                   func = Arel::Nodes::NamedFunction.new(function_names.last, args)</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="365">
          <span class="hits">30</span>
          
          <code class="ruby">                   func.schema_name = function_names.first</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="366">
          <span class="hits">30</span>
          
          <code class="ruby">                   func</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="367">
          
          
          <code class="ruby">                 when 1</code>
        </li>
      
        <li class="covered" data-hits="2827" data-linenumber="368">
          <span class="hits">2827</span>
          
          <code class="ruby">                   Arel::Nodes::NamedFunction.new(function_names.first, args)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="369">
          
          
          <code class="ruby">                 else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="370">
          
          
          <code class="ruby">                   boom &quot;Don&#39;t know how to handle function names length `#{function_names.length}`&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="371">
          
          
          <code class="ruby">                 end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="372">
          
          
          <code class="ruby">               end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="373">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3512" data-linenumber="374">
          <span class="hits">3512</span>
          
          <code class="ruby">        func.distinct = attribute.agg_distinct unless func.is_a?(::Array)</code>
        </li>
      
        <li class="covered" data-hits="3142" data-linenumber="375">
          <span class="hits">3142</span>
          
          <code class="ruby">        func.orders = (attribute.agg_order ? visit(attribute.agg_order) : []) unless</code>
        </li>
      
        <li class="covered" data-hits="3512" data-linenumber="376">
          <span class="hits">3512</span>
          
          <code class="ruby">          func.is_a?(::Array)</code>
        </li>
      
        <li class="covered" data-hits="3142" data-linenumber="377">
          <span class="hits">3142</span>
          
          <code class="ruby">        func.filter = (attribute.agg_filter ? visit(attribute.agg_filter) : nil) unless</code>
        </li>
      
        <li class="covered" data-hits="3512" data-linenumber="378">
          <span class="hits">3512</span>
          
          <code class="ruby">          func.is_a?(::Array)</code>
        </li>
      
        <li class="covered" data-hits="3512" data-linenumber="379">
          <span class="hits">3512</span>
          
          <code class="ruby">        func.within_group = attribute.agg_within_group unless func.is_a?(::Array)</code>
        </li>
      
        <li class="covered" data-hits="3512" data-linenumber="380">
          <span class="hits">3512</span>
          
          <code class="ruby">        func.variardic = attribute.func_variadic unless func.is_a?(::Array)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="381">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3512" data-linenumber="382">
          <span class="hits">3512</span>
          
          <code class="ruby">        if attribute.over</code>
        </li>
      
        <li class="covered" data-hits="170" data-linenumber="383">
          <span class="hits">170</span>
          
          <code class="ruby">          Arel::Nodes::Over.new(func, visit(attribute.over))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="384">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="3342" data-linenumber="385">
          <span class="hits">3342</span>
          
          <code class="ruby">          func</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="386">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="387">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="388">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="389">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_InferClause(attribute)</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="390">
          <span class="hits">22</span>
          
          <code class="ruby">        left = Arel.sql(attribute.conname) if attribute.conname</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="391">
          <span class="hits">22</span>
          
          <code class="ruby">        right = visit(attribute.index_elems) if attribute.index_elems.present?</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="392">
          <span class="hits">22</span>
          
          <code class="ruby">        Arel::Nodes::Infer.new left, right</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="393">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="394">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="395">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_IndexElem(attribute)</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="396">
          <span class="hits">22</span>
          
          <code class="ruby">        boom &quot;Unknown ordering `#{attribute.ordering}`&quot; unless attribute.ordering == :SORTBY_DEFAULT</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="397">
          
          
          <code class="ruby">        boom &quot;Unknown nulls ordering `#{attribute.nulls_ordering}`&quot; unless</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="398">
          <span class="hits">22</span>
          
          <code class="ruby">          attribute.nulls_ordering == :SORTBY_NULLS_DEFAULT</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="399">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="400">
          <span class="hits">22</span>
          
          <code class="ruby">        Arel.sql visit_String(attribute.name)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="401">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="402">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="403">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_InsertStmt(attribute)</code>
        </li>
      
        <li class="covered" data-hits="131" data-linenumber="404">
          <span class="hits">131</span>
          
          <code class="ruby">        relation = visit(attribute.relation)</code>
        </li>
      
        <li class="covered" data-hits="131" data-linenumber="405">
          <span class="hits">131</span>
          
          <code class="ruby">        cols = visit(attribute.cols, :insert).map do |col|</code>
        </li>
      
        <li class="covered" data-hits="178" data-linenumber="406">
          <span class="hits">178</span>
          
          <code class="ruby">          Arel::Attribute.new(relation, col)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="407">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="408">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="131" data-linenumber="409">
          <span class="hits">131</span>
          
          <code class="ruby">        insert_manager = Arel::InsertManager.new</code>
        </li>
      
        <li class="covered" data-hits="131" data-linenumber="410">
          <span class="hits">131</span>
          
          <code class="ruby">        insert_statement = insert_manager.ast</code>
        </li>
      
        <li class="covered" data-hits="131" data-linenumber="411">
          <span class="hits">131</span>
          
          <code class="ruby">        insert_statement.relation = relation</code>
        </li>
      
        <li class="covered" data-hits="131" data-linenumber="412">
          <span class="hits">131</span>
          
          <code class="ruby">        insert_statement.columns = cols</code>
        </li>
      
        <li class="covered" data-hits="131" data-linenumber="413">
          <span class="hits">131</span>
          
          <code class="ruby">        insert_statement.override = attribute.override</code>
        </li>
      
        <li class="covered" data-hits="131" data-linenumber="414">
          <span class="hits">131</span>
          
          <code class="ruby">        insert_statement.with = visit(attribute.with_clause) if attribute.with_clause</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="415">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="131" data-linenumber="416">
          <span class="hits">131</span>
          
          <code class="ruby">        insert_statement.values = if attribute.select_stmt.present?</code>
        </li>
      
        <li class="covered" data-hits="121" data-linenumber="417">
          <span class="hits">121</span>
          
          <code class="ruby">                                    select_stmt = visit(attribute.select_stmt)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="418">
          
          
          <code class="ruby">                                    insert_statement.values = select_stmt.values_lists if</code>
        </li>
      
        <li class="covered" data-hits="121" data-linenumber="419">
          <span class="hits">121</span>
          
          <code class="ruby">                                      select_stmt.present?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="420">
          
          
          <code class="ruby">                                  else</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="421">
          <span class="hits">10</span>
          
          <code class="ruby">                                    insert_statement.values = Arel::Nodes::DefaultValues.new</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="422">
          
          
          <code class="ruby">                                  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="423">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="131" data-linenumber="424">
          <span class="hits">131</span>
          
          <code class="ruby">        insert_statement.returning = visit(attribute.returning_list, :select)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="425">
          
          
          <code class="ruby">        insert_statement.conflict = visit(attribute.on_conflict_clause) if</code>
        </li>
      
        <li class="covered" data-hits="131" data-linenumber="426">
          <span class="hits">131</span>
          
          <code class="ruby">          attribute.on_conflict_clause</code>
        </li>
      
        <li class="covered" data-hits="131" data-linenumber="427">
          <span class="hits">131</span>
          
          <code class="ruby">        insert_manager</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="428">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="429">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="430">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Integer(attribute)</code>
        </li>
      
        <li class="covered" data-hits="3420" data-linenumber="431">
          <span class="hits">3420</span>
          
          <code class="ruby">        attribute.ival</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="432">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="433">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="434">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_IntoClause(attribute)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="435">
          
          
          <code class="ruby">        raise &quot;Unknown on_commit `#{attribute.on_commit}`&quot; unless</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="436">
          <span class="hits">35</span>
          
          <code class="ruby">          attribute.on_commit == :ONCOMMIT_NOOP</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="437">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="438">
          <span class="hits">35</span>
          
          <code class="ruby">        Arel::Nodes::Into.new(visit(attribute.rel))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="439">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="440">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="441">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_JoinExpr(attribute)</code>
        </li>
      
        <li class="covered" data-hits="170" data-linenumber="442">
          <span class="hits">170</span>
          
          <code class="ruby">        join_class = case attribute.jointype</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="443">
          
          
          <code class="ruby">                     when :JOIN_INNER</code>
        </li>
      
        <li class="covered" data-hits="93" data-linenumber="444">
          <span class="hits">93</span>
          
          <code class="ruby">                       if attribute.is_natural</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="445">
          <span class="hits">10</span>
          
          <code class="ruby">                         Arel::Nodes::NaturalJoin</code>
        </li>
      
        <li class="covered" data-hits="83" data-linenumber="446">
          <span class="hits">83</span>
          
          <code class="ruby">                       elsif attribute.quals.nil?</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="447">
          <span class="hits">10</span>
          
          <code class="ruby">                         Arel::Nodes::CrossJoin</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="448">
          
          
          <code class="ruby">                       else</code>
        </li>
      
        <li class="covered" data-hits="73" data-linenumber="449">
          <span class="hits">73</span>
          
          <code class="ruby">                         Arel::Nodes::InnerJoin</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="450">
          
          
          <code class="ruby">                       end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="451">
          
          
          <code class="ruby">                     when :JOIN_LEFT</code>
        </li>
      
        <li class="covered" data-hits="57" data-linenumber="452">
          <span class="hits">57</span>
          
          <code class="ruby">                       Arel::Nodes::OuterJoin</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="453">
          
          
          <code class="ruby">                     when :JOIN_FULL</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="454">
          <span class="hits">10</span>
          
          <code class="ruby">                       Arel::Nodes::FullOuterJoin</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="455">
          
          
          <code class="ruby">                     when :JOIN_RIGHT</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="456">
          <span class="hits">10</span>
          
          <code class="ruby">                       Arel::Nodes::RightOuterJoin</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="457">
          
          
          <code class="ruby">                     end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="458">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="170" data-linenumber="459">
          <span class="hits">170</span>
          
          <code class="ruby">        larg = visit(attribute.larg)</code>
        </li>
      
        <li class="covered" data-hits="170" data-linenumber="460">
          <span class="hits">170</span>
          
          <code class="ruby">        rarg = visit(attribute.rarg)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="461">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="170" data-linenumber="462">
          <span class="hits">170</span>
          
          <code class="ruby">        join = if attribute.quals</code>
        </li>
      
        <li class="covered" data-hits="150" data-linenumber="463">
          <span class="hits">150</span>
          
          <code class="ruby">                 join_class.new(rarg, Arel::Nodes::On.new(visit(attribute.quals)))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="464">
          
          
          <code class="ruby">               else</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="465">
          <span class="hits">20</span>
          
          <code class="ruby">                 join_class.new(rarg, nil)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="466">
          
          
          <code class="ruby">               end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="467">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="170" data-linenumber="468">
          <span class="hits">170</span>
          
          <code class="ruby">        if larg.is_a?(Array)</code>
        </li>
      
        <li class="covered" data-hits="47" data-linenumber="469">
          <span class="hits">47</span>
          
          <code class="ruby">          larg.concat([join])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="470">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="123" data-linenumber="471">
          <span class="hits">123</span>
          
          <code class="ruby">          [larg, join]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="472">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="473">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="474">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="475">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_LockingClause(attribute)</code>
        </li>
      
        <li class="covered" data-hits="50" data-linenumber="476">
          <span class="hits">50</span>
          
          <code class="ruby">        strength_clause = {</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="477">
          
          
          <code class="ruby">          LCS_FORKEYSHARE: &#39;FOR KEY SHARE&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="478">
          
          
          <code class="ruby">          LCS_FORSHARE: &#39;FOR SHARE&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="479">
          
          
          <code class="ruby">          LCS_FORNOKEYUPDATE: &#39;FOR NO KEY UPDATE&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="480">
          
          
          <code class="ruby">          LCS_FORUPDATE: &#39;FOR UPDATE&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="481">
          
          
          <code class="ruby">        }.fetch(attribute.strength)</code>
        </li>
      
        <li class="covered" data-hits="50" data-linenumber="482">
          <span class="hits">50</span>
          
          <code class="ruby">        wait_policy_clause = {</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="483">
          
          
          <code class="ruby">          LockWaitBlock: &#39;&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="484">
          
          
          <code class="ruby">          LockWaitSkip: &#39; SKIP LOCKED&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="485">
          
          
          <code class="ruby">          LockWaitError: &#39; NOWAIT&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="486">
          
          
          <code class="ruby">        }.fetch(attribute.wait_policy)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="487">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="50" data-linenumber="488">
          <span class="hits">50</span>
          
          <code class="ruby">        Arel::Nodes::Lock.new Arel.sql(&quot;#{strength_clause}#{wait_policy_clause}&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="489">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="490">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="491">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_MinMaxExpr(attribute)</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="492">
          <span class="hits">30</span>
          
          <code class="ruby">        case attribute.op</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="493">
          
          
          <code class="ruby">        when :IS_GREATEST</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="494">
          <span class="hits">15</span>
          
          <code class="ruby">          Arel::Nodes::Greatest.new visit(attribute.args)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="495">
          
          
          <code class="ruby">        when :IS_LEAST</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="496">
          <span class="hits">15</span>
          
          <code class="ruby">          Arel::Nodes::Least.new visit(attribute.args)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="497">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="498">
          
          
          <code class="ruby">          boom &quot;Unknown Op -&gt; #{attribute.op}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="499">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="500">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="501">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="502">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_NamedArgExpr(attribute)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="503">
          <span class="hits">10</span>
          
          <code class="ruby">        arg = visit(attribute.arg)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="504">
          <span class="hits">10</span>
          
          <code class="ruby">        boom &#39;&#39; unless attribute.argnumber == -1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="505">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="506">
          <span class="hits">10</span>
          
          <code class="ruby">        Arel::Nodes::NamedArgument.new(attribute.name, arg)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="507">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="508">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="509">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Node(attribute, context = nil)</code>
        </li>
      
        <li class="covered" data-hits="366" data-linenumber="510">
          <span class="hits">366</span>
          
          <code class="ruby">        return attribute.list.items.map { |item| visit_Node(item, context) } if</code>
        </li>
      
        <li class="covered" data-hits="61250" data-linenumber="511">
          <span class="hits">61250</span>
          
          <code class="ruby">          attribute.node == :list</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="512">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="61065" data-linenumber="513">
          <span class="hits">61065</span>
          
          <code class="ruby">        visit(attribute[attribute.node.to_s], context)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="514">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="515">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="516">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_Null(_attribute)</code>
        </li>
      
        <li class="covered" data-hits="125" data-linenumber="517">
          <span class="hits">125</span>
          
          <code class="ruby">        Arel.sql &#39;NULL&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="518">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="519">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="520">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_NullTest(attribute)</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="521">
          <span class="hits">20</span>
          
          <code class="ruby">        arg = visit(attribute.arg)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="522">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="523">
          <span class="hits">20</span>
          
          <code class="ruby">        case attribute.nulltesttype</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="524">
          
          
          <code class="ruby">        when :IS_NULL</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="525">
          <span class="hits">10</span>
          
          <code class="ruby">          Arel::Nodes::Equality.new(arg, nil)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="526">
          
          
          <code class="ruby">        when :IS_NOT_NULL</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="527">
          <span class="hits">10</span>
          
          <code class="ruby">          Arel::Nodes::NotEqual.new(arg, nil)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="528">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="529">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="530">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="531">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_OnConflictClause(attribute)</code>
        </li>
      
        <li class="covered" data-hits="42" data-linenumber="532">
          <span class="hits">42</span>
          
          <code class="ruby">        conflict = Arel::Nodes::Conflict.new</code>
        </li>
      
        <li class="covered" data-hits="42" data-linenumber="533">
          <span class="hits">42</span>
          
          <code class="ruby">        conflict.action = attribute.action</code>
        </li>
      
        <li class="covered" data-hits="42" data-linenumber="534">
          <span class="hits">42</span>
          
          <code class="ruby">        conflict.infer = visit(attribute.infer) if attribute.infer</code>
        </li>
      
        <li class="covered" data-hits="42" data-linenumber="535">
          <span class="hits">42</span>
          
          <code class="ruby">        conflict.values = attribute.target_list ? visit(attribute.target_list, :update) : []</code>
        </li>
      
        <li class="covered" data-hits="42" data-linenumber="536">
          <span class="hits">42</span>
          
          <code class="ruby">        conflict.wheres = attribute.where_clause ? [visit(attribute.where_clause)] : []</code>
        </li>
      
        <li class="covered" data-hits="42" data-linenumber="537">
          <span class="hits">42</span>
          
          <code class="ruby">        conflict</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="538">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="539">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="540">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_ParamRef(attribute)</code>
        </li>
      
        <li class="covered" data-hits="484" data-linenumber="541">
          <span class="hits">484</span>
          
          <code class="ruby">        value = (binds[attribute.number - 1] unless binds.empty?)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="542">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="484" data-linenumber="543">
          <span class="hits">484</span>
          
          <code class="ruby">        Arel::Nodes::BindParam.new(value)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="544">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="545">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="546">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_PrepareStmt(attribute)</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="547">
          <span class="hits">20</span>
          
          <code class="ruby">        Arel::Nodes::Prepare.new(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="548">
          
          
          <code class="ruby">          attribute.name,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="549">
          
          
          <code class="ruby">          attribute.argtypes.present? &amp;&amp; visit(attribute.argtypes),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="550">
          
          
          <code class="ruby">          visit(attribute.query),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="551">
          
          
          <code class="ruby">        )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="552">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="553">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="554">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_RangeFunction(attribute)</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="555">
          <span class="hits">30</span>
          
          <code class="ruby">        functions = attribute.functions.map do |function_array|</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="556">
          <span class="hits">40</span>
          
          <code class="ruby">          function, _empty_node = function_array.list.items</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="557">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="558">
          <span class="hits">40</span>
          
          <code class="ruby">          visit(function)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="559">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="560">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="561">
          <span class="hits">30</span>
          
          <code class="ruby">        node = Arel::Nodes::RangeFunction.new functions, is_rowsfrom: attribute.is_rowsfrom</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="562">
          <span class="hits">30</span>
          
          <code class="ruby">        node = attribute.lateral ? Arel::Nodes::Lateral.new(node) : node</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="563">
          <span class="hits">30</span>
          
          <code class="ruby">        node = attribute.ordinality ? Arel::Nodes::WithOrdinality.new(node) : node</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="564">
          <span class="hits">30</span>
          
          <code class="ruby">        attribute.alias.nil? ? node : Arel::Nodes::As.new(node, visit(attribute.alias))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="565">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="566">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="567">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_RangeSubselect(attribute)</code>
        </li>
      
        <li class="covered" data-hits="41" data-linenumber="568">
          <span class="hits">41</span>
          
          <code class="ruby">        aliaz = visit(attribute.alias)</code>
        </li>
      
        <li class="covered" data-hits="41" data-linenumber="569">
          <span class="hits">41</span>
          
          <code class="ruby">        subquery = visit(attribute.subquery)</code>
        </li>
      
        <li class="covered" data-hits="41" data-linenumber="570">
          <span class="hits">41</span>
          
          <code class="ruby">        node = Arel::Nodes::As.new(Arel::Nodes::Grouping.new(subquery), aliaz)</code>
        </li>
      
        <li class="covered" data-hits="41" data-linenumber="571">
          <span class="hits">41</span>
          
          <code class="ruby">        attribute.lateral ? Arel::Nodes::Lateral.new(node) : node</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="572">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="573">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="574">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_RangeVar(attribute)</code>
        </li>
      
        <li class="covered" data-hits="1122" data-linenumber="575">
          <span class="hits">1122</span>
          
          <code class="ruby">        Arel::Table.new(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="576">
          
          
          <code class="ruby">          attribute.relname,</code>
        </li>
      
        <li class="covered" data-hits="1122" data-linenumber="577">
          <span class="hits">1122</span>
          
          <code class="ruby">          as: (visit(attribute.alias) if attribute.alias),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="578">
          
          
          <code class="ruby">          only: !attribute.inh,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="579">
          
          
          <code class="ruby">          relpersistence: attribute.relpersistence,</code>
        </li>
      
        <li class="covered" data-hits="1122" data-linenumber="580">
          <span class="hits">1122</span>
          
          <code class="ruby">          schema_name: attribute.schemaname.blank? ? nil : attribute.schemaname,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="581">
          
          
          <code class="ruby">        )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="582">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="583">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="584">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_RawStmt(attribute, context)</code>
        </li>
      
        <li class="covered" data-hits="6516" data-linenumber="585">
          <span class="hits">6516</span>
          
          <code class="ruby">        visit(attribute.stmt, context)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="586">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="587">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="588">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_ResTarget(attribute, context)</code>
        </li>
      
        <li class="covered" data-hits="7144" data-linenumber="589">
          <span class="hits">7144</span>
          
          <code class="ruby">        case context</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="590">
          
          
          <code class="ruby">        when :select</code>
        </li>
      
        <li class="covered" data-hits="6738" data-linenumber="591">
          <span class="hits">6738</span>
          
          <code class="ruby">          val = visit(attribute.val)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="592">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6733" data-linenumber="593">
          <span class="hits">6733</span>
          
          <code class="ruby">          if attribute.name.blank?</code>
        </li>
      
        <li class="covered" data-hits="6645" data-linenumber="594">
          <span class="hits">6645</span>
          
          <code class="ruby">            val</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="595">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="88" data-linenumber="596">
          <span class="hits">88</span>
          
          <code class="ruby">            aliaz = visit_Alias(aliasname: attribute.name)</code>
        </li>
      
        <li class="covered" data-hits="88" data-linenumber="597">
          <span class="hits">88</span>
          
          <code class="ruby">            Arel::Nodes::As.new(val, aliaz)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="598">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="599">
          
          
          <code class="ruby">        when :insert</code>
        </li>
      
        <li class="covered" data-hits="178" data-linenumber="600">
          <span class="hits">178</span>
          
          <code class="ruby">          attribute.name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="601">
          
          
          <code class="ruby">        when :update</code>
        </li>
      
        <li class="covered" data-hits="228" data-linenumber="602">
          <span class="hits">228</span>
          
          <code class="ruby">          relation = nil</code>
        </li>
      
        <li class="covered" data-hits="228" data-linenumber="603">
          <span class="hits">228</span>
          
          <code class="ruby">          column = Arel::Attribute.new(relation, attribute.name)</code>
        </li>
      
        <li class="covered" data-hits="228" data-linenumber="604">
          <span class="hits">228</span>
          
          <code class="ruby">          value = visit(attribute.val)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="605">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="228" data-linenumber="606">
          <span class="hits">228</span>
          
          <code class="ruby">          Nodes::Assignment.new(Nodes::UnqualifiedColumn.new(column), value)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="607">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="608">
          
          
          <code class="ruby">          boom &quot;Unknown context `#{context}`&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="609">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="610">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="611">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="612">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_RowExpr(attribute)</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="613">
          <span class="hits">20</span>
          
          <code class="ruby">        Arel::Nodes::Row.new(visit(attribute.args), attribute.row_format)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="614">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="615">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="616">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_SelectStmt(attribute, context = nil)</code>
        </li>
      
        <li class="covered" data-hits="6461" data-linenumber="617">
          <span class="hits">6461</span>
          
          <code class="ruby">        select_manager = Arel::SelectManager.new</code>
        </li>
      
        <li class="covered" data-hits="6461" data-linenumber="618">
          <span class="hits">6461</span>
          
          <code class="ruby">        select_core = select_manager.ast.cores.last</code>
        </li>
      
        <li class="covered" data-hits="6461" data-linenumber="619">
          <span class="hits">6461</span>
          
          <code class="ruby">        select_statement = select_manager.ast</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="620">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6461" data-linenumber="621">
          <span class="hits">6461</span>
          
          <code class="ruby">        froms, join_sources = generate_sources(attribute.from_clause)</code>
        </li>
      
        <li class="covered" data-hits="6461" data-linenumber="622">
          <span class="hits">6461</span>
          
          <code class="ruby">        if froms</code>
        </li>
      
        <li class="covered" data-hits="575" data-linenumber="623">
          <span class="hits">575</span>
          
          <code class="ruby">          froms = froms.first if froms.length == 1</code>
        </li>
      
        <li class="covered" data-hits="575" data-linenumber="624">
          <span class="hits">575</span>
          
          <code class="ruby">          select_core.froms = froms</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="625">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="626">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6461" data-linenumber="627">
          <span class="hits">6461</span>
          
          <code class="ruby">        select_core.from = froms if froms</code>
        </li>
      
        <li class="covered" data-hits="6461" data-linenumber="628">
          <span class="hits">6461</span>
          
          <code class="ruby">        select_core.source.right = join_sources</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="629">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6461" data-linenumber="630">
          <span class="hits">6461</span>
          
          <code class="ruby">        select_core.projections = visit(attribute.target_list, :select) if attribute.target_list</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="631">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6451" data-linenumber="632">
          <span class="hits">6451</span>
          
          <code class="ruby">        if attribute.where_clause</code>
        </li>
      
        <li class="covered" data-hits="187" data-linenumber="633">
          <span class="hits">187</span>
          
          <code class="ruby">          where_clause = visit(attribute.where_clause, :select)</code>
        </li>
      
        <li class="covered" data-hits="187" data-linenumber="634">
          <span class="hits">187</span>
          
          <code class="ruby">          where_clause = if where_clause.is_a?(Arel::Nodes::And)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="635">
          
          
          <code class="ruby">                           where_clause</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="636">
          
          
          <code class="ruby">                         else</code>
        </li>
      
        <li class="covered" data-hits="187" data-linenumber="637">
          <span class="hits">187</span>
          
          <code class="ruby">                           Arel::Nodes::And.new([where_clause])</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="638">
          
          
          <code class="ruby">                         end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="639">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="187" data-linenumber="640">
          <span class="hits">187</span>
          
          <code class="ruby">          select_core.wheres = [where_clause]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="641">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="642">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6451" data-linenumber="643">
          <span class="hits">6451</span>
          
          <code class="ruby">        select_core.groups = visit(attribute.group_clause) if attribute.group_clause</code>
        </li>
      
        <li class="covered" data-hits="6451" data-linenumber="644">
          <span class="hits">6451</span>
          
          <code class="ruby">        select_core.havings = [visit(attribute.having_clause)] if attribute.having_clause</code>
        </li>
      
        <li class="covered" data-hits="6451" data-linenumber="645">
          <span class="hits">6451</span>
          
          <code class="ruby">        select_core.windows = visit(attribute.window_clause) if attribute.window_clause</code>
        </li>
      
        <li class="covered" data-hits="6451" data-linenumber="646">
          <span class="hits">6451</span>
          
          <code class="ruby">        select_core.into = visit(attribute.into_clause) if attribute.into_clause</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="647">
          
          
          <code class="ruby">        select_core.top = ::Arel::Nodes::Top.new visit(attribute.limit_count) if</code>
        </li>
      
        <li class="covered" data-hits="6451" data-linenumber="648">
          <span class="hits">6451</span>
          
          <code class="ruby">          attribute.limit_count</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="649">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6451" data-linenumber="650">
          <span class="hits">6451</span>
          
          <code class="ruby">        if attribute.distinct_clause == []</code>
        </li>
      
        <li class="covered" data-hits="6421" data-linenumber="651">
          <span class="hits">6421</span>
          
          <code class="ruby">          select_core.set_quantifier = nil</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="652">
          <span class="hits">30</span>
          
          <code class="ruby">        elsif attribute.distinct_clause.is_a?(Google::Protobuf::RepeatedField)</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="653">
          <span class="hits">30</span>
          
          <code class="ruby">          select_core.set_quantifier = if attribute.distinct_clause.size == 1 &amp;&amp;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="654">
          
          
          <code class="ruby">                                          attribute.distinct_clause.first.to_h.compact.length.zero?</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="655">
          <span class="hits">20</span>
          
          <code class="ruby">                                         Arel::Nodes::Distinct.new</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="656">
          
          
          <code class="ruby">                                       else</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="657">
          <span class="hits">10</span>
          
          <code class="ruby">                                         Arel::Nodes::DistinctOn.new(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="658">
          
          
          <code class="ruby">                                           visit(attribute.distinct_clause),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="659">
          
          
          <code class="ruby">                                         )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="660">
          
          
          <code class="ruby">                                       end</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="661">
          
          
          <code class="ruby">        elsif attribute.distinct_clause.nil?</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="662">
          
          
          <code class="ruby">          select_core.set_quantifier = nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="663">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="664">
          
          
          <code class="ruby">          boom &quot;Unknown distinct clause `#{attribute.distinct_clause}`&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="665">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="666">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6451" data-linenumber="667">
          <span class="hits">6451</span>
          
          <code class="ruby">        if attribute.limit_count</code>
        </li>
      
        <li class="covered" data-hits="97" data-linenumber="668">
          <span class="hits">97</span>
          
          <code class="ruby">          select_statement.limit = ::Arel::Nodes::Limit.new visit(attribute.limit_count)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="669">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="covered" data-hits="6451" data-linenumber="670">
          <span class="hits">6451</span>
          
          <code class="ruby">        if attribute.limit_offset</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="671">
          <span class="hits">10</span>
          
          <code class="ruby">          select_statement.offset = ::Arel::Nodes::Offset.new visit(attribute.limit_offset)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="672">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="covered" data-hits="6451" data-linenumber="673">
          <span class="hits">6451</span>
          
          <code class="ruby">        select_statement.orders = visit(attribute.sort_clause.to_a)</code>
        </li>
      
        <li class="covered" data-hits="6451" data-linenumber="674">
          <span class="hits">6451</span>
          
          <code class="ruby">        select_statement.with = visit(attribute.with_clause) if attribute.with_clause</code>
        </li>
      
        <li class="covered" data-hits="6451" data-linenumber="675">
          <span class="hits">6451</span>
          
          <code class="ruby">        select_statement.lock = visit(attribute.locking_clause) if attribute.locking_clause.present?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="676">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6451" data-linenumber="677">
          <span class="hits">6451</span>
          
          <code class="ruby">        if attribute.values_lists.present?</code>
        </li>
      
        <li class="covered" data-hits="121" data-linenumber="678">
          <span class="hits">121</span>
          
          <code class="ruby">          values_lists = visit(attribute.values_lists).map do |values_list|</code>
        </li>
      
        <li class="covered" data-hits="121" data-linenumber="679">
          <span class="hits">121</span>
          
          <code class="ruby">            values_list.map do |value|</code>
        </li>
      
        <li class="covered" data-hits="258" data-linenumber="680">
          <span class="hits">258</span>
          
          <code class="ruby">              case value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="681">
          
          
          <code class="ruby">              when String</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="682">
          <span class="hits">10</span>
          
          <code class="ruby">                value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="683">
          
          
          <code class="ruby">              when Integer</code>
        </li>
      
        <li class="covered" data-hits="75" data-linenumber="684">
          <span class="hits">75</span>
          
          <code class="ruby">                Arel.sql(value.to_s)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="685">
          
          
          <code class="ruby">              when Arel::Nodes::TypeCast, Arel::Nodes::UnqualifiedColumn</code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="686">
          <span class="hits">25</span>
          
          <code class="ruby">                Arel.sql(value.to_sql)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="687">
          
          
          <code class="ruby">              when Arel::Nodes::BindParam</code>
        </li>
      
        <li class="covered" data-hits="138" data-linenumber="688">
          <span class="hits">138</span>
          
          <code class="ruby">                value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="689">
          
          
          <code class="ruby">              when Arel::Nodes::Quoted</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="690">
          <span class="hits">10</span>
          
          <code class="ruby">                value.value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="691">
          
          
          <code class="ruby">              else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="692">
          
          
          <code class="ruby">                boom &quot;Unknown value `#{value}`&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="693">
          
          
          <code class="ruby">              end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="694">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="695">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="covered" data-hits="121" data-linenumber="696">
          <span class="hits">121</span>
          
          <code class="ruby">          select_statement.values_lists = Arel::Nodes::ValuesList.new(values_lists)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="697">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="698">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6451" data-linenumber="699">
          <span class="hits">6451</span>
          
          <code class="ruby">        union = case attribute.op</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="700">
          
          
          <code class="ruby">                when :SET_OPERATION_UNDEFINED, :SETOP_NONE</code>
        </li>
      
        <li class="covered" data-hits="6391" data-linenumber="701">
          <span class="hits">6391</span>
          
          <code class="ruby">                  nil</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="702">
          
          
          <code class="ruby">                when :SETOP_UNION</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="703">
          <span class="hits">20</span>
          
          <code class="ruby">                  if attribute.all</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="704">
          <span class="hits">10</span>
          
          <code class="ruby">                    Arel::Nodes::UnionAll.new(visit(attribute.larg), visit(attribute.rarg))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="705">
          
          
          <code class="ruby">                  else</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="706">
          <span class="hits">10</span>
          
          <code class="ruby">                    Arel::Nodes::Union.new(visit(attribute.larg), visit(attribute.rarg))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="707">
          
          
          <code class="ruby">                  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="708">
          
          
          <code class="ruby">                when :SETOP_INTERSECT</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="709">
          <span class="hits">20</span>
          
          <code class="ruby">                  if attribute.all</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="710">
          <span class="hits">10</span>
          
          <code class="ruby">                    Arel::Nodes::IntersectAll.new(visit(attribute.larg), visit(attribute.rarg))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="711">
          
          
          <code class="ruby">                  else</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="712">
          <span class="hits">10</span>
          
          <code class="ruby">                    Arel::Nodes::Intersect.new(visit(attribute.larg), visit(attribute.rarg))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="713">
          
          
          <code class="ruby">                  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="714">
          
          
          <code class="ruby">                when :SETOP_EXCEPT</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="715">
          <span class="hits">20</span>
          
          <code class="ruby">                  if attribute.all</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="716">
          <span class="hits">10</span>
          
          <code class="ruby">                    Arel::Nodes::ExceptAll.new(visit(attribute.larg), visit(attribute.rarg))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="717">
          
          
          <code class="ruby">                  else</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="718">
          <span class="hits">10</span>
          
          <code class="ruby">                    Arel::Nodes::Except.new(visit(attribute.larg), visit(attribute.rarg))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="719">
          
          
          <code class="ruby">                  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="720">
          
          
          <code class="ruby">                else</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="721">
          
          
          <code class="ruby">                  # https://www.postgresql.org/docs/10/queries-union.html</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="722">
          
          
          <code class="ruby">                  boom &quot;Unknown combining queries op `#{attribute.op}`&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="723">
          
          
          <code class="ruby">                end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="724">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6451" data-linenumber="725">
          <span class="hits">6451</span>
          
          <code class="ruby">        unless union.nil?</code>
        </li>
      
        <li class="covered" data-hits="60" data-linenumber="726">
          <span class="hits">60</span>
          
          <code class="ruby">          select_statement.cores = []</code>
        </li>
      
        <li class="covered" data-hits="60" data-linenumber="727">
          <span class="hits">60</span>
          
          <code class="ruby">          select_statement.union = union</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="728">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="729">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6451" data-linenumber="730">
          <span class="hits">6451</span>
          
          <code class="ruby">        if context == :top</code>
        </li>
      
        <li class="covered" data-hits="5938" data-linenumber="731">
          <span class="hits">5938</span>
          
          <code class="ruby">          select_manager</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="732">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="513" data-linenumber="733">
          <span class="hits">513</span>
          
          <code class="ruby">          select_statement</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="734">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="735">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="736">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="737">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_SetToDefault(_args)</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="738">
          <span class="hits">30</span>
          
          <code class="ruby">        Arel::Nodes::SetToDefault.new</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="739">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="740">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="741">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_SortBy(attribute)</code>
        </li>
      
        <li class="covered" data-hits="213" data-linenumber="742">
          <span class="hits">213</span>
          
          <code class="ruby">        result = visit(attribute.node)</code>
        </li>
      
        <li class="covered" data-hits="213" data-linenumber="743">
          <span class="hits">213</span>
          
          <code class="ruby">        case attribute.sortby_dir</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="744">
          
          
          <code class="ruby">        when :SORTBY_ASC</code>
        </li>
      
        <li class="covered" data-hits="99" data-linenumber="745">
          <span class="hits">99</span>
          
          <code class="ruby">          Arel::Nodes::Ascending.new(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="746">
          
          
          <code class="ruby">            result,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="747">
          
          
          <code class="ruby">            PgQuery::SortByNulls.descriptor.to_h[attribute.sortby_nulls] - 1,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="748">
          
          
          <code class="ruby">          )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="749">
          
          
          <code class="ruby">        when :SORTBY_DESC</code>
        </li>
      
        <li class="covered" data-hits="54" data-linenumber="750">
          <span class="hits">54</span>
          
          <code class="ruby">          Arel::Nodes::Descending.new(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="751">
          
          
          <code class="ruby">            result,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="752">
          
          
          <code class="ruby">            PgQuery::SortByNulls.descriptor.to_h[attribute.sortby_nulls] - 1,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="753">
          
          
          <code class="ruby">          )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="754">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="60" data-linenumber="755">
          <span class="hits">60</span>
          
          <code class="ruby">          result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="756">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="757">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="758">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="759">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_SQLValueFunction(attribute)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="760">
          
          
          <code class="ruby">        {</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="761">
          <span class="hits">20</span>
          
          <code class="ruby">          SVFOP_CURRENT_DATE: -&gt; { Arel::Nodes::CurrentDate.new },</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="762">
          <span class="hits">20</span>
          
          <code class="ruby">          SVFOP_CURRENT_TIME: -&gt; { Arel::Nodes::CurrentTime.new },</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="763">
          <span class="hits">10</span>
          
          <code class="ruby">          SVFOP_CURRENT_TIME_N: -&gt; { Arel::Nodes::CurrentTime.new(precision: attribute.typmod) },</code>
        </li>
      
        <li class="covered" data-hits="50" data-linenumber="764">
          <span class="hits">50</span>
          
          <code class="ruby">          SVFOP_CURRENT_TIMESTAMP: -&gt; { Arel::Nodes::CurrentTimestamp.new },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="765">
          
          
          <code class="ruby">          SVFOP_CURRENT_TIMESTAMP_N: lambda {</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="766">
          <span class="hits">10</span>
          
          <code class="ruby">            Arel::Nodes::CurrentTimestamp.new(precision: attribute.typmod)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="767">
          
          
          <code class="ruby">          },</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="768">
          <span class="hits">20</span>
          
          <code class="ruby">          SVFOP_LOCALTIME: -&gt; { Arel::Nodes::LocalTime.new },</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="769">
          <span class="hits">10</span>
          
          <code class="ruby">          SVFOP_LOCALTIME_N: -&gt; { Arel::Nodes::LocalTime.new(precision: attribute.typmod) },</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="770">
          <span class="hits">20</span>
          
          <code class="ruby">          SVFOP_LOCALTIMESTAMP: -&gt; { Arel::Nodes::LocalTimestamp.new },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="771">
          
          
          <code class="ruby">          SVFOP_LOCALTIMESTAMP_N: lambda {</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="772">
          <span class="hits">10</span>
          
          <code class="ruby">            Arel::Nodes::LocalTimestamp.new(precision: attribute.typmod)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="773">
          
          
          <code class="ruby">          },</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="774">
          <span class="hits">10</span>
          
          <code class="ruby">          SVFOP_CURRENT_ROLE: -&gt; { Arel::Nodes::CurrentRole.new },</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="775">
          <span class="hits">10</span>
          
          <code class="ruby">          SVFOP_CURRENT_USER: -&gt; { Arel::Nodes::CurrentUser.new },</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="776">
          <span class="hits">10</span>
          
          <code class="ruby">          SVFOP_USER: -&gt; { Arel::Nodes::User.new },</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="777">
          <span class="hits">10</span>
          
          <code class="ruby">          SVFOP_SESSION_USER: -&gt; { Arel::Nodes::SessionUser.new },</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="778">
          <span class="hits">10</span>
          
          <code class="ruby">          SVFOP_CURRENT_CATALOG: -&gt; { Arel::Nodes::CurrentCatalog.new },</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="779">
          <span class="hits">10</span>
          
          <code class="ruby">          SVFOP_CURRENT_SCHEMA: -&gt; { Arel::Nodes::CurrentSchema.new },</code>
        </li>
      
        <li class="covered" data-hits="230" data-linenumber="780">
          <span class="hits">230</span>
          
          <code class="ruby">        }[attribute.op].call</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="781">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="782">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="783">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_String(attribute, context = nil)</code>
        </li>
      
        <li class="covered" data-hits="18971" data-linenumber="784">
          <span class="hits">18971</span>
          
          <code class="ruby">        case context</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="785">
          
          
          <code class="ruby">        when :operator</code>
        </li>
      
        <li class="covered" data-hits="12586" data-linenumber="786">
          <span class="hits">12586</span>
          
          <code class="ruby">          attribute.str</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="787">
          
          
          <code class="ruby">        when :const</code>
        </li>
      
        <li class="covered" data-hits="5929" data-linenumber="788">
          <span class="hits">5929</span>
          
          <code class="ruby">          Arel::Nodes.build_quoted attribute.str</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="789">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="456" data-linenumber="790">
          <span class="hits">456</span>
          
          <code class="ruby">          &quot;\&quot;#{attribute}\&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="791">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="792">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="793">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="794">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_SubLink(attribute)</code>
        </li>
      
        <li class="covered" data-hits="140" data-linenumber="795">
          <span class="hits">140</span>
          
          <code class="ruby">        subselect = visit(attribute.subselect)</code>
        </li>
      
        <li class="covered" data-hits="140" data-linenumber="796">
          <span class="hits">140</span>
          
          <code class="ruby">        testexpr = visit(attribute.testexpr) if attribute.testexpr</code>
        </li>
      
        <li class="covered" data-hits="140" data-linenumber="797">
          <span class="hits">140</span>
          
          <code class="ruby">        operator = if attribute.oper_name</code>
        </li>
      
        <li class="covered" data-hits="140" data-linenumber="798">
          <span class="hits">140</span>
          
          <code class="ruby">                     operator = visit(attribute.oper_name, :operator)</code>
        </li>
      
        <li class="covered" data-hits="140" data-linenumber="799">
          <span class="hits">140</span>
          
          <code class="ruby">                     boom &#39;Unable to handle operator length &gt; 1&#39; if operator.length &gt; 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="800">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="140" data-linenumber="801">
          <span class="hits">140</span>
          
          <code class="ruby">                     operator.first</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="802">
          
          
          <code class="ruby">                   end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="803">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="140" data-linenumber="804">
          <span class="hits">140</span>
          
          <code class="ruby">        generate_sublink(attribute.sub_link_type, subselect, testexpr, operator)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="805">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="806">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="807">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_TransactionStmt(attribute)</code>
        </li>
      
        <li class="covered" data-hits="170" data-linenumber="808">
          <span class="hits">170</span>
          
          <code class="ruby">        Arel::Nodes::Transaction.new(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="809">
          
          
          <code class="ruby">          PgQuery::TransactionStmtKind.descriptor.to_h[attribute.kind],</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="810">
          
          
          <code class="ruby">          visit_String(attribute.savepoint_name),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="811">
          
          
          <code class="ruby">        )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="812">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="813">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="814">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_TypeCast(attribute)</code>
        </li>
      
        <li class="covered" data-hits="2944" data-linenumber="815">
          <span class="hits">2944</span>
          
          <code class="ruby">        arg = visit(attribute.arg)</code>
        </li>
      
        <li class="covered" data-hits="2944" data-linenumber="816">
          <span class="hits">2944</span>
          
          <code class="ruby">        type_name = visit(attribute.type_name)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="817">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2944" data-linenumber="818">
          <span class="hits">2944</span>
          
          <code class="ruby">        Arel::Nodes::TypeCast.new(maybe_add_grouping(arg), type_name)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="819">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="820">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="821">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_TypeName(attribute)</code>
        </li>
      
        <li class="covered" data-hits="2954" data-linenumber="822">
          <span class="hits">2954</span>
          
          <code class="ruby">        array_bounds = visit(attribute.array_bounds)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="823">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2954" data-linenumber="824">
          <span class="hits">2954</span>
          
          <code class="ruby">        names = attribute.names.map do |name|</code>
        </li>
      
        <li class="covered" data-hits="3541" data-linenumber="825">
          <span class="hits">3541</span>
          
          <code class="ruby">          visit(name, :operator)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="826">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="827">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6495" data-linenumber="828">
          <span class="hits">6495</span>
          
          <code class="ruby">        names = names.reject { |name| name == PG_CATALOG }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="829">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2954" data-linenumber="830">
          <span class="hits">2954</span>
          
          <code class="ruby">        boom &#39;https://github.com/mvgijssel/arel_toolkit/issues/40&#39; if attribute.typemod != -1</code>
        </li>
      
        <li class="covered" data-hits="2954" data-linenumber="831">
          <span class="hits">2954</span>
          
          <code class="ruby">        boom &#39;https://github.com/mvgijssel/arel_toolkit/issues/41&#39; if names.length &gt; 1</code>
        </li>
      
        <li class="covered" data-hits="2954" data-linenumber="832">
          <span class="hits">2954</span>
          
          <code class="ruby">        if array_bounds != [] &amp;&amp; array_bounds != [-1]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="833">
          
          
          <code class="ruby">          boom &#39;https://github.com/mvgijssel/arel_toolkit/issues/86&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="834">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="835">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2954" data-linenumber="836">
          <span class="hits">2954</span>
          
          <code class="ruby">        type_name = names.first</code>
        </li>
      
        <li class="covered" data-hits="2954" data-linenumber="837">
          <span class="hits">2954</span>
          
          <code class="ruby">        type_name = case type_name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="838">
          
          
          <code class="ruby">                    when &#39;int4&#39;</code>
        </li>
      
        <li class="covered" data-hits="45" data-linenumber="839">
          <span class="hits">45</span>
          
          <code class="ruby">                      &#39;integer&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="840">
          
          
          <code class="ruby">                    when &#39;float4&#39;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="841">
          <span class="hits">10</span>
          
          <code class="ruby">                      &#39;real&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="842">
          
          
          <code class="ruby">                    when &#39;float8&#39;</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="843">
          <span class="hits">30</span>
          
          <code class="ruby">                      &#39;double precision&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="844">
          
          
          <code class="ruby">                    when &#39;timestamptz&#39;</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="845">
          <span class="hits">40</span>
          
          <code class="ruby">                      &#39;timestamp with time zone&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="846">
          
          
          <code class="ruby">                    else</code>
        </li>
      
        <li class="covered" data-hits="2829" data-linenumber="847">
          <span class="hits">2829</span>
          
          <code class="ruby">                      type_name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="848">
          
          
          <code class="ruby">                    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="849">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2954" data-linenumber="850">
          <span class="hits">2954</span>
          
          <code class="ruby">        type_name += &#39;[]&#39; if array_bounds == [-1]</code>
        </li>
      
        <li class="covered" data-hits="2954" data-linenumber="851">
          <span class="hits">2954</span>
          
          <code class="ruby">        type_name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="852">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="853">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="854">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_UpdateStmt(attribute)</code>
        </li>
      
        <li class="covered" data-hits="77" data-linenumber="855">
          <span class="hits">77</span>
          
          <code class="ruby">        relation = visit(attribute.relation)</code>
        </li>
      
        <li class="covered" data-hits="77" data-linenumber="856">
          <span class="hits">77</span>
          
          <code class="ruby">        target_list = visit(attribute.target_list, :update)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="857">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="77" data-linenumber="858">
          <span class="hits">77</span>
          
          <code class="ruby">        update_manager = Arel::UpdateManager.new</code>
        </li>
      
        <li class="covered" data-hits="77" data-linenumber="859">
          <span class="hits">77</span>
          
          <code class="ruby">        update_statement = update_manager.ast</code>
        </li>
      
        <li class="covered" data-hits="77" data-linenumber="860">
          <span class="hits">77</span>
          
          <code class="ruby">        update_statement.relation = relation</code>
        </li>
      
        <li class="covered" data-hits="77" data-linenumber="861">
          <span class="hits">77</span>
          
          <code class="ruby">        update_statement.froms = visit(attribute.from_clause)</code>
        </li>
      
        <li class="covered" data-hits="77" data-linenumber="862">
          <span class="hits">77</span>
          
          <code class="ruby">        update_statement.values = target_list</code>
        </li>
      
        <li class="covered" data-hits="77" data-linenumber="863">
          <span class="hits">77</span>
          
          <code class="ruby">        update_statement.wheres = attribute.where_clause ? [visit(attribute.where_clause)] : []</code>
        </li>
      
        <li class="covered" data-hits="77" data-linenumber="864">
          <span class="hits">77</span>
          
          <code class="ruby">        update_statement.with = visit(attribute.with_clause) if attribute.with_clause</code>
        </li>
      
        <li class="covered" data-hits="77" data-linenumber="865">
          <span class="hits">77</span>
          
          <code class="ruby">        update_statement.returning = visit(attribute.returning_list, :select)</code>
        </li>
      
        <li class="covered" data-hits="77" data-linenumber="866">
          <span class="hits">77</span>
          
          <code class="ruby">        update_manager</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="867">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="868">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="869">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_VariableSetStmt(attribute)</code>
        </li>
      
        <li class="covered" data-hits="60" data-linenumber="870">
          <span class="hits">60</span>
          
          <code class="ruby">        Arel::Nodes::VariableSet.new(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="871">
          
          
          <code class="ruby">          attribute.kind,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="872">
          
          
          <code class="ruby">          visit(attribute.args),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="873">
          
          
          <code class="ruby">          attribute.name,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="874">
          
          
          <code class="ruby">          attribute.is_local,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="875">
          
          
          <code class="ruby">        )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="876">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="877">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="878">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_VariableShowStmt(attribute)</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="879">
          <span class="hits">20</span>
          
          <code class="ruby">        Arel::Nodes::VariableShow.new(attribute.name)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="880">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="881">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="882">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_WindowDef(attribute)</code>
        </li>
      
        <li class="covered" data-hits="200" data-linenumber="883">
          <span class="hits">200</span>
          
          <code class="ruby">        if attribute.name.present? &amp;&amp;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="884">
          
          
          <code class="ruby">           attribute.partition_clause.empty? &amp;&amp;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="885">
          
          
          <code class="ruby">           attribute.order_clause.empty?</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="886">
          <span class="hits">30</span>
          
          <code class="ruby">          return Arel::Nodes::SqlLiteral.new(attribute.name)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="887">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="888">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="170" data-linenumber="889">
          <span class="hits">170</span>
          
          <code class="ruby">        instance = if attribute.name.blank?</code>
        </li>
      
        <li class="covered" data-hits="140" data-linenumber="890">
          <span class="hits">140</span>
          
          <code class="ruby">                     Arel::Nodes::Window.new</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="891">
          
          
          <code class="ruby">                   else</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="892">
          <span class="hits">30</span>
          
          <code class="ruby">                     Arel::Nodes::NamedWindow.new(attribute.name)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="893">
          
          
          <code class="ruby">                   end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="894">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="170" data-linenumber="895">
          <span class="hits">170</span>
          
          <code class="ruby">        instance.tap do |window|</code>
        </li>
      
        <li class="covered" data-hits="170" data-linenumber="896">
          <span class="hits">170</span>
          
          <code class="ruby">          window.orders = visit attribute.order_clause</code>
        </li>
      
        <li class="covered" data-hits="170" data-linenumber="897">
          <span class="hits">170</span>
          
          <code class="ruby">          window.partitions = visit attribute.partition_clause</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="898">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="170" data-linenumber="899">
          <span class="hits">170</span>
          
          <code class="ruby">          if attribute.frame_options</code>
        </li>
      
        <li class="covered" data-hits="170" data-linenumber="900">
          <span class="hits">170</span>
          
          <code class="ruby">            window.framing = FrameOptions.arel(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="901">
          
          
          <code class="ruby">              attribute.frame_options,</code>
        </li>
      
        <li class="covered" data-hits="170" data-linenumber="902">
          <span class="hits">170</span>
          
          <code class="ruby">              (visit(attribute.start_offset) if attribute.start_offset),</code>
        </li>
      
        <li class="covered" data-hits="170" data-linenumber="903">
          <span class="hits">170</span>
          
          <code class="ruby">              (visit(attribute.end_offset) if attribute.end_offset),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="904">
          
          
          <code class="ruby">            )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="905">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="906">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="907">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="908">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="909">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit_WithClause(attribute)</code>
        </li>
      
        <li class="covered" data-hits="71" data-linenumber="910">
          <span class="hits">71</span>
          
          <code class="ruby">        if attribute.recursive</code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="911">
          <span class="hits">25</span>
          
          <code class="ruby">          Arel::Nodes::WithRecursive.new visit(attribute.ctes)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="912">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="913">
          <span class="hits">46</span>
          
          <code class="ruby">          Arel::Nodes::With.new visit(attribute.ctes)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="914">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="915">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="916">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="917">
          <span class="hits">5</span>
          
          <code class="ruby">      def generate_operator(left, right, operator)</code>
        </li>
      
        <li class="covered" data-hits="1996" data-linenumber="918">
          <span class="hits">1996</span>
          
          <code class="ruby">        left = maybe_add_grouping(left)</code>
        </li>
      
        <li class="covered" data-hits="1996" data-linenumber="919">
          <span class="hits">1996</span>
          
          <code class="ruby">        right = maybe_add_grouping(right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="920">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1996" data-linenumber="921">
          <span class="hits">1996</span>
          
          <code class="ruby">        case operator</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="922">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="923">
          
          
          <code class="ruby">        # https://www.postgresql.org/docs/10/functions-math.html</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="924">
          
          
          <code class="ruby">        when &#39;+&#39;</code>
        </li>
      
        <li class="covered" data-hits="120" data-linenumber="925">
          <span class="hits">120</span>
          
          <code class="ruby">          Arel::Nodes::Addition.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="926">
          
          
          <code class="ruby">        when &#39;-&#39;</code>
        </li>
      
        <li class="covered" data-hits="170" data-linenumber="927">
          <span class="hits">170</span>
          
          <code class="ruby">          if left.nil?</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="928">
          <span class="hits">10</span>
          
          <code class="ruby">            Arel::Nodes::UnaryOperation.new(:&#39;-&#39;, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="929">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="160" data-linenumber="930">
          <span class="hits">160</span>
          
          <code class="ruby">            Arel::Nodes::Subtraction.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="931">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="932">
          
          
          <code class="ruby">        when &#39;*&#39;</code>
        </li>
      
        <li class="covered" data-hits="50" data-linenumber="933">
          <span class="hits">50</span>
          
          <code class="ruby">          Arel::Nodes::Multiplication.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="934">
          
          
          <code class="ruby">        when &#39;/&#39;</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="935">
          <span class="hits">30</span>
          
          <code class="ruby">          Arel::Nodes::Division.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="936">
          
          
          <code class="ruby">        when &#39;%&#39;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="937">
          <span class="hits">10</span>
          
          <code class="ruby">          Arel::Nodes::Modulo.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="938">
          
          
          <code class="ruby">        when &#39;^&#39;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="939">
          <span class="hits">10</span>
          
          <code class="ruby">          Arel::Nodes::Exponentiation.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="940">
          
          
          <code class="ruby">        when &#39;|/&#39;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="941">
          <span class="hits">10</span>
          
          <code class="ruby">          Arel::Nodes::SquareRoot.new(right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="942">
          
          
          <code class="ruby">        when &#39;||/&#39;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="943">
          <span class="hits">10</span>
          
          <code class="ruby">          Arel::Nodes::CubeRoot.new(right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="944">
          
          
          <code class="ruby">        when &#39;!&#39;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="945">
          <span class="hits">10</span>
          
          <code class="ruby">          Arel::Nodes::Factorial.new(left || right, false)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="946">
          
          
          <code class="ruby">        when &#39;!!&#39;</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="947">
          <span class="hits">20</span>
          
          <code class="ruby">          Arel::Nodes::Factorial.new(right, true)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="948">
          
          
          <code class="ruby">        when &#39;@&#39;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="949">
          <span class="hits">10</span>
          
          <code class="ruby">          Arel::Nodes::Absolute.new(right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="950">
          
          
          <code class="ruby">        when &#39;&amp;&#39;</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="951">
          <span class="hits">20</span>
          
          <code class="ruby">          Arel::Nodes::BitwiseAnd.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="952">
          
          
          <code class="ruby">        when &#39;|&#39;</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="953">
          <span class="hits">20</span>
          
          <code class="ruby">          Arel::Nodes::BitwiseOr.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="954">
          
          
          <code class="ruby">        when &#39;#&#39;</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="955">
          <span class="hits">30</span>
          
          <code class="ruby">          if left.nil?</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="956">
          <span class="hits">10</span>
          
          <code class="ruby">            Arel::Nodes::UnaryOperation.new(:&#39;#&#39;, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="957">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="958">
          <span class="hits">20</span>
          
          <code class="ruby">            Arel::Nodes::BitwiseXor.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="959">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="960">
          
          
          <code class="ruby">        when &#39;~&#39;</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="961">
          <span class="hits">40</span>
          
          <code class="ruby">          if left.nil?</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="962">
          <span class="hits">20</span>
          
          <code class="ruby">            Arel::Nodes::BitwiseNot.new(right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="963">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="964">
          <span class="hits">20</span>
          
          <code class="ruby">            Arel::Nodes::Regexp.new(left, right, true)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="965">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="966">
          
          
          <code class="ruby">        when &#39;&lt;&lt;&#39;</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="967">
          <span class="hits">30</span>
          
          <code class="ruby">          Arel::Nodes::BitwiseShiftLeft.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="968">
          
          
          <code class="ruby">        when &#39;&gt;&gt;&#39;</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="969">
          <span class="hits">30</span>
          
          <code class="ruby">          Arel::Nodes::BitwiseShiftRight.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="970">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="971">
          
          
          <code class="ruby">        # https://www.postgresql.org/docs/9.0/functions-comparison.html</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="972">
          
          
          <code class="ruby">        when &#39;&lt;&#39;</code>
        </li>
      
        <li class="covered" data-hits="31" data-linenumber="973">
          <span class="hits">31</span>
          
          <code class="ruby">          Arel::Nodes::LessThan.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="974">
          
          
          <code class="ruby">        when &#39;&gt;&#39;</code>
        </li>
      
        <li class="covered" data-hits="50" data-linenumber="975">
          <span class="hits">50</span>
          
          <code class="ruby">          Arel::Nodes::GreaterThan.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="976">
          
          
          <code class="ruby">        when &#39;&lt;=&#39;</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="977">
          <span class="hits">30</span>
          
          <code class="ruby">          Arel::Nodes::LessThanOrEqual.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="978">
          
          
          <code class="ruby">        when &#39;&gt;=&#39;</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="979">
          <span class="hits">20</span>
          
          <code class="ruby">          Arel::Nodes::GreaterThanOrEqual.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="980">
          
          
          <code class="ruby">        when &#39;=&#39;</code>
        </li>
      
        <li class="covered" data-hits="511" data-linenumber="981">
          <span class="hits">511</span>
          
          <code class="ruby">          Arel::Nodes::Equality.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="982">
          
          
          <code class="ruby">        when &#39;&lt;&gt;&#39;</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="983">
          <span class="hits">30</span>
          
          <code class="ruby">          Arel::Nodes::NotEqual.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="984">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="985">
          
          
          <code class="ruby">        # https://www.postgresql.org/docs/9.1/functions-array.html</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="986">
          
          
          <code class="ruby">        when &#39;@&gt;&#39;</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="987">
          <span class="hits">40</span>
          
          <code class="ruby">          Arel::Nodes::Contains.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="988">
          
          
          <code class="ruby">        when &#39;&lt;@&#39;</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="989">
          <span class="hits">40</span>
          
          <code class="ruby">          Arel::Nodes::ContainedBy.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="990">
          
          
          <code class="ruby">        when &#39;&amp;&amp;&#39;</code>
        </li>
      
        <li class="covered" data-hits="52" data-linenumber="991">
          <span class="hits">52</span>
          
          <code class="ruby">          Arel::Nodes::Overlap.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="992">
          
          
          <code class="ruby">        when &#39;||&#39;</code>
        </li>
      
        <li class="covered" data-hits="138" data-linenumber="993">
          <span class="hits">138</span>
          
          <code class="ruby">          Arel::Nodes::Concat.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="994">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="995">
          
          
          <code class="ruby">        # https://www.postgresql.org/docs/9.3/functions-net.html</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="996">
          
          
          <code class="ruby">        when &#39;&lt;&lt;=&#39;</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="997">
          <span class="hits">20</span>
          
          <code class="ruby">          Arel::Nodes::ContainedWithinEquals.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="998">
          
          
          <code class="ruby">        when &#39;&gt;&gt;=&#39;</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="999">
          <span class="hits">20</span>
          
          <code class="ruby">          Arel::Nodes::ContainsEquals.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1000">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1001">
          
          
          <code class="ruby">        # https://www.postgresql.org/docs/9.4/functions-json.html</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1002">
          
          
          <code class="ruby">        when &#39;-&gt;&#39;</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="1003">
          <span class="hits">20</span>
          
          <code class="ruby">          Arel::Nodes::JsonGetObject.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1004">
          
          
          <code class="ruby">        when &#39;-&gt;&gt;&#39;</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="1005">
          <span class="hits">20</span>
          
          <code class="ruby">          Arel::Nodes::JsonGetField.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1006">
          
          
          <code class="ruby">        when &#39;#&gt;&#39;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1007">
          <span class="hits">10</span>
          
          <code class="ruby">          Arel::Nodes::JsonPathGetObject.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1008">
          
          
          <code class="ruby">        when &#39;#&gt;&gt;&#39;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1009">
          <span class="hits">10</span>
          
          <code class="ruby">          Arel::Nodes::JsonPathGetField.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1010">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1011">
          
          
          <code class="ruby">        # https://www.postgresql.org/docs/9.4/functions-json.html#FUNCTIONS-JSONB-OP-TABLE</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1012">
          
          
          <code class="ruby">        when &#39;?&#39;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1013">
          <span class="hits">10</span>
          
          <code class="ruby">          Arel::Nodes::JsonbKeyExists.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1014">
          
          
          <code class="ruby">        when &#39;?|&#39;</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="1015">
          <span class="hits">30</span>
          
          <code class="ruby">          if left.nil?</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1016">
          <span class="hits">10</span>
          
          <code class="ruby">            Arel::Nodes::UnaryOperation.new(:&#39;?|&#39;, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1017">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="1018">
          <span class="hits">20</span>
          
          <code class="ruby">            Arel::Nodes::JsonbAnyKeyExists.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1019">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1020">
          
          
          <code class="ruby">        when &#39;?&amp;&#39;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1021">
          <span class="hits">10</span>
          
          <code class="ruby">          Arel::Nodes::JsonbAllKeyExists.new(left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1022">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1023">
          
          
          <code class="ruby">        # https://www.postgresql.org/docs/9.3/functions-matching.html#FUNCTIONS-POSIX-TABLE</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1024">
          
          
          <code class="ruby">        when &#39;~*&#39;</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="1025">
          <span class="hits">20</span>
          
          <code class="ruby">          Arel::Nodes::Regexp.new(left, right, false)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1026">
          
          
          <code class="ruby">        when &#39;!~&#39;</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="1027">
          <span class="hits">20</span>
          
          <code class="ruby">          Arel::Nodes::NotRegexp.new(left, right, true)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1028">
          
          
          <code class="ruby">        when &#39;!~*&#39;</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="1029">
          <span class="hits">20</span>
          
          <code class="ruby">          Arel::Nodes::NotRegexp.new(left, right, false)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1030">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1031">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="224" data-linenumber="1032">
          <span class="hits">224</span>
          
          <code class="ruby">          if left.nil?</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="1033">
          <span class="hits">30</span>
          
          <code class="ruby">            Arel::Nodes::UnaryOperation.new(operator, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1034">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="194" data-linenumber="1035">
          <span class="hits">194</span>
          
          <code class="ruby">            Arel::Nodes::InfixOperation.new(operator, left, right)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1036">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1037">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1038">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1039">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="1040">
          <span class="hits">5</span>
          
          <code class="ruby">      def visit(attribute, context = nil)</code>
        </li>
      
        <li class="covered" data-hits="25695" data-linenumber="1041">
          <span class="hits">25695</span>
          
          <code class="ruby">        return attribute.map { |attr| visit(attr, context) } if</code>
        </li>
      
        <li class="covered" data-hits="185959" data-linenumber="1042">
          <span class="hits">185959</span>
          
          <code class="ruby">          attribute.is_a?(Google::Protobuf::RepeatedField) || attribute.is_a?(Array)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1043">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="132358" data-linenumber="1044">
          <span class="hits">132358</span>
          
          <code class="ruby">        dispatch_method = &quot;visit_#{attribute.class.name.demodulize}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1045">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="132358" data-linenumber="1046">
          <span class="hits">132358</span>
          
          <code class="ruby">        if context.present?</code>
        </li>
      
        <li class="covered" data-hits="80812" data-linenumber="1047">
          <span class="hits">80812</span>
          
          <code class="ruby">          method = method(dispatch_method)</code>
        </li>
      
        <li class="covered" data-hits="80812" data-linenumber="1048">
          <span class="hits">80812</span>
          
          <code class="ruby">          if method.parameters.include?(%i[opt context]) ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1049">
          
          
          <code class="ruby">             method.parameters.include?(%i[req context])</code>
        </li>
      
        <li class="covered" data-hits="75371" data-linenumber="1050">
          <span class="hits">75371</span>
          
          <code class="ruby">            send dispatch_method, attribute, context</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1051">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="5441" data-linenumber="1052">
          <span class="hits">5441</span>
          
          <code class="ruby">            send dispatch_method, attribute</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1053">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1054">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="51546" data-linenumber="1055">
          <span class="hits">51546</span>
          
          <code class="ruby">          send dispatch_method, attribute</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1056">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1057">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1058">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="1059">
          <span class="hits">5</span>
          
          <code class="ruby">      def generate_boolean_expression(args, boolean_class)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1060">
          <span class="hits">10</span>
          
          <code class="ruby">        chain = boolean_class.new(nil, nil)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1061">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1062">
          <span class="hits">10</span>
          
          <code class="ruby">        args.each_with_index.reduce(chain) do |c, (arg, index)|</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="1063">
          <span class="hits">20</span>
          
          <code class="ruby">          if args.length - 1 == index</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1064">
          <span class="hits">10</span>
          
          <code class="ruby">            c.right = arg</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1065">
          <span class="hits">10</span>
          
          <code class="ruby">            c</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1066">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1067">
          <span class="hits">10</span>
          
          <code class="ruby">            new_chain = boolean_class.new(arg, nil)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1068">
          <span class="hits">10</span>
          
          <code class="ruby">            c.right = new_chain</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1069">
          <span class="hits">10</span>
          
          <code class="ruby">            new_chain</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1070">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1071">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1072">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1073">
          <span class="hits">10</span>
          
          <code class="ruby">        chain.right</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1074">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1075">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="1076">
          <span class="hits">5</span>
          
          <code class="ruby">      def generate_sources(clause)</code>
        </li>
      
        <li class="covered" data-hits="6461" data-linenumber="1077">
          <span class="hits">6461</span>
          
          <code class="ruby">        froms = []</code>
        </li>
      
        <li class="covered" data-hits="6461" data-linenumber="1078">
          <span class="hits">6461</span>
          
          <code class="ruby">        join_sources = []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1079">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6461" data-linenumber="1080">
          <span class="hits">6461</span>
          
          <code class="ruby">        if (from_clauses = clause)</code>
        </li>
      
        <li class="covered" data-hits="6461" data-linenumber="1081">
          <span class="hits">6461</span>
          
          <code class="ruby">          results = visit(from_clauses).flatten</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1082">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6461" data-linenumber="1083">
          <span class="hits">6461</span>
          
          <code class="ruby">          results.each do |result|</code>
        </li>
      
        <li class="covered" data-hits="820" data-linenumber="1084">
          <span class="hits">820</span>
          
          <code class="ruby">            case result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1085">
          
          
          <code class="ruby">            when Arel::Table</code>
        </li>
      
        <li class="covered" data-hits="595" data-linenumber="1086">
          <span class="hits">595</span>
          
          <code class="ruby">              froms &lt;&lt; result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1087">
          
          
          <code class="ruby">            else</code>
        </li>
      
        <li class="covered" data-hits="225" data-linenumber="1088">
          <span class="hits">225</span>
          
          <code class="ruby">              join_sources &lt;&lt; result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1089">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1090">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1091">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1092">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6461" data-linenumber="1093">
          <span class="hits">6461</span>
          
          <code class="ruby">        if froms.empty?</code>
        </li>
      
        <li class="covered" data-hits="5886" data-linenumber="1094">
          <span class="hits">5886</span>
          
          <code class="ruby">          [nil, join_sources]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1095">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="575" data-linenumber="1096">
          <span class="hits">575</span>
          
          <code class="ruby">          [froms, join_sources]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1097">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1098">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1099">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="1100">
          <span class="hits">5</span>
          
          <code class="ruby">      def generate_sublink(sub_link_type, subselect, testexpr, operator)</code>
        </li>
      
        <li class="covered" data-hits="140" data-linenumber="1101">
          <span class="hits">140</span>
          
          <code class="ruby">        case sub_link_type</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1102">
          
          
          <code class="ruby">        when :EXISTS_SUBLINK</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="1103">
          <span class="hits">15</span>
          
          <code class="ruby">          Arel::Nodes::Exists.new subselect</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1104">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1105">
          
          
          <code class="ruby">        when :ALL_SUBLINK</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1106">
          <span class="hits">10</span>
          
          <code class="ruby">          generate_operator(testexpr, Arel::Nodes::All.new(subselect), operator)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1107">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1108">
          
          
          <code class="ruby">        when :ANY_SUBLINK</code>
        </li>
      
        <li class="covered" data-hits="60" data-linenumber="1109">
          <span class="hits">60</span>
          
          <code class="ruby">          if operator.nil?</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="1110">
          <span class="hits">40</span>
          
          <code class="ruby">            Arel::Nodes::In.new(testexpr, subselect)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1111">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="1112">
          <span class="hits">20</span>
          
          <code class="ruby">            generate_operator(testexpr, Arel::Nodes::Any.new(subselect), operator)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1113">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1114">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1115">
          
          
          <code class="ruby">        when :ROWCOMPARE_SUBLINK</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1116">
          
          
          <code class="ruby">          boom &#39;https://github.com/mvgijssel/arel_toolkit/issues/42&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1117">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1118">
          
          
          <code class="ruby">        when :EXPR_SUBLINK</code>
        </li>
      
        <li class="covered" data-hits="45" data-linenumber="1119">
          <span class="hits">45</span>
          
          <code class="ruby">          Arel::Nodes::Grouping.new(subselect)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1120">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1121">
          
          
          <code class="ruby">        when :MULTIEXPR_SUBLINK</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1122">
          
          
          <code class="ruby">          boom &#39;https://github.com/mvgijssel/arel_toolkit/issues/43&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1123">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1124">
          
          
          <code class="ruby">        when :ARRAY_SUBLINK</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1125">
          <span class="hits">10</span>
          
          <code class="ruby">          Arel::Nodes::ArraySubselect.new(subselect)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1126">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1127">
          
          
          <code class="ruby">        when :CTE_SUBLINK</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1128">
          
          
          <code class="ruby">          boom &#39;https://github.com/mvgijssel/arel_toolkit/issues/44&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1129">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1130">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1131">
          
          
          <code class="ruby">          boom &quot;Unknown sublinktype: #{type}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1132">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1133">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1134">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="1135">
          <span class="hits">5</span>
          
          <code class="ruby">      def maybe_add_grouping(node)</code>
        </li>
      
        <li class="covered" data-hits="6996" data-linenumber="1136">
          <span class="hits">6996</span>
          
          <code class="ruby">        case node</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1137">
          
          
          <code class="ruby">        when Arel::Nodes::Binary</code>
        </li>
      
        <li class="covered" data-hits="111" data-linenumber="1138">
          <span class="hits">111</span>
          
          <code class="ruby">          Arel::Nodes::Grouping.new(node)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1139">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="6885" data-linenumber="1140">
          <span class="hits">6885</span>
          
          <code class="ruby">          node</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1141">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1142">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1143">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="1144">
          <span class="hits">5</span>
          
          <code class="ruby">      def boom(message, backtrace = nil)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1145">
          <span class="hits">10</span>
          
          <code class="ruby">        new_message = &lt;&lt;~STRING</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1146">
          
          
          <code class="ruby">          SQL: #{sql}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1147">
          
          
          <code class="ruby">          BINDS: #{binds}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1148">
          
          
          <code class="ruby">          message: #{message}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1149">
          
          
          <code class="ruby">        STRING</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1150">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="1151">
          <span class="hits">10</span>
          
          <code class="ruby">        raise(Arel::SqlToArel::Error, new_message, backtrace) if backtrace</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1152">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="1153">
          <span class="hits">5</span>
          
          <code class="ruby">        raise Arel::SqlToArel::Error, new_message</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1154">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1155">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1156">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1157">
          
          
          <code class="ruby">end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1158">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1159">
          
          
          <code class="ruby"># rubocop:enable Metrics/PerceivedComplexity</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1160">
          
          
          <code class="ruby"># rubocop:enable Naming/MethodName</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1161">
          
          
          <code class="ruby"># rubocop:enable Metrics/CyclomaticComplexity</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1162">
          
          
          <code class="ruby"># rubocop:enable Metrics/AbcSize</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="50e4f15555728bbdb5a6df7de4591dc5763c82a3">
  <div class="header">
    <h3>lib/arel/sql_to_arel/pg_query_visitor/frame_options.rb</h3>
    <h4><span class="green">93.48 %</span> covered</h4>
    <div>
      <b>46</b> relevant lines. 
      <span class="green"><b>43</b> lines covered</span> and
      <span class="red"><b>3</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module SqlToArel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">    class PgQueryVisitor</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">      class FrameOptions</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">        class &lt;&lt; self</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">          def arel(frame_options, start_offset, end_offset)</code>
        </li>
      
        <li class="covered" data-hits="170" data-linenumber="7">
          <span class="hits">170</span>
          
          <code class="ruby">            frame_option_names = calculate_frame_option_names(frame_options)</code>
        </li>
      
        <li class="covered" data-hits="170" data-linenumber="8">
          <span class="hits">170</span>
          
          <code class="ruby">            return unless frame_option_names.include?(&#39;FRAMEOPTION_NONDEFAULT&#39;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="120" data-linenumber="10">
          <span class="hits">120</span>
          
          <code class="ruby">            range_klass = if frame_option_names.include?(&#39;FRAMEOPTION_RANGE&#39;)</code>
        </li>
      
        <li class="covered" data-hits="50" data-linenumber="11">
          <span class="hits">50</span>
          
          <code class="ruby">                            Arel::Nodes::Range</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">                          else</code>
        </li>
      
        <li class="covered" data-hits="70" data-linenumber="13">
          <span class="hits">70</span>
          
          <code class="ruby">                            Arel::Nodes::Rows</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">                          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="120" data-linenumber="16">
          <span class="hits">120</span>
          
          <code class="ruby">            start_node = calculate_frame_node(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">              &#39;FRAMEOPTION_START_&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">              frame_option_names,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">              start_offset,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">            )</code>
        </li>
      
        <li class="covered" data-hits="120" data-linenumber="21">
          <span class="hits">120</span>
          
          <code class="ruby">            end_node = calculate_frame_node(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">              &#39;FRAMEOPTION_END_&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">              frame_option_names,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">              end_offset,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">            )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="120" data-linenumber="27">
          <span class="hits">120</span>
          
          <code class="ruby">            if frame_option_names.include?(&#39;FRAMEOPTION_BETWEEN&#39;)</code>
        </li>
      
        <li class="covered" data-hits="100" data-linenumber="28">
          <span class="hits">100</span>
          
          <code class="ruby">              Arel::Nodes::Between.new(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">                range_klass.new,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">                Arel::Nodes::And.new([start_node, end_node]),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">              )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">            else</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="33">
          <span class="hits">20</span>
          
          <code class="ruby">              range_klass.new start_node</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="37">
          <span class="hits">5</span>
          
          <code class="ruby">          private</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby">          # always NONDEFAULT</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">          # RANGE or ROWS</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby">          # mandatory BETWEEN</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">          # RANGE only unbounded</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">          # ROWS all</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">          # https://github.com/postgres/postgres/blob/REL_10_1/src/include/nodes/parsenodes.h</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="45">
          <span class="hits">5</span>
          
          <code class="ruby">          FRAMEOPTIONS_V10 = {</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">            &#39;FRAMEOPTION_NONDEFAULT&#39; =&gt; 0x00001,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby">            &#39;FRAMEOPTION_RANGE&#39; =&gt; 0x00002,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby">            &#39;FRAMEOPTION_ROWS&#39; =&gt; 0x00004,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">            &#39;FRAMEOPTION_BETWEEN&#39; =&gt; 0x00008,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">            &#39;FRAMEOPTION_START_UNBOUNDED_PRECEDING&#39; =&gt; 0x00010,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">            &#39;FRAMEOPTION_END_UNBOUNDED_PRECEDING&#39; =&gt; 0x00020,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">            &#39;FRAMEOPTION_START_UNBOUNDED_FOLLOWING&#39; =&gt; 0x00040,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">            &#39;FRAMEOPTION_END_UNBOUNDED_FOLLOWING&#39; =&gt; 0x00080,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby">            &#39;FRAMEOPTION_START_CURRENT_ROW&#39; =&gt; 0x00100,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">            &#39;FRAMEOPTION_END_CURRENT_ROW&#39; =&gt; 0x00200,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby">            &#39;FRAMEOPTION_START_VALUE_PRECEDING&#39; =&gt; 0x00400,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby">            &#39;FRAMEOPTION_END_VALUE_PRECEDING&#39; =&gt; 0x00800,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">            &#39;FRAMEOPTION_START_VALUE_FOLLOWING&#39; =&gt; 0x01000,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">            &#39;FRAMEOPTION_END_VALUE_FOLLOWING&#39; =&gt; 0x02000,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby">          }.freeze</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="62">
          <span class="hits">5</span>
          
          <code class="ruby">          FRAMEOPTIONS_V11_AND_UP = {</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">            &#39;FRAMEOPTION_NONDEFAULT&#39; =&gt; 0x00001, # any specified? */</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="64">
          
          
          <code class="ruby">            &#39;FRAMEOPTION_RANGE&#39; =&gt; 0x00002, # RANGE behavior */</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby">            &#39;FRAMEOPTION_ROWS&#39; =&gt; 0x00004, # ROWS behavior */</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby">            &#39;FRAMEOPTION_GROUPS&#39; =&gt; 0x00008,  # GROUPS behavior */</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby">            &#39;FRAMEOPTION_BETWEEN&#39; =&gt; 0x00010, # BETWEEN given? */</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">            &#39;FRAMEOPTION_START_UNBOUNDED_PRECEDING&#39; =&gt; 0x00020, # start is U. P. */</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">            &#39;FRAMEOPTION_END_UNBOUNDED_PRECEDING&#39; =&gt; 0x00040, # (disallowed) */</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby">            &#39;FRAMEOPTION_START_UNBOUNDED_FOLLOWING&#39; =&gt; 0x00080, # (disallowed) */</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby">            &#39;FRAMEOPTION_END_UNBOUNDED_FOLLOWING&#39; =&gt; 0x00100, # end is U. F. */</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">            &#39;FRAMEOPTION_START_CURRENT_ROW&#39; =&gt; 0x00200, # start is C. R. */</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby">            &#39;FRAMEOPTION_END_CURRENT_ROW&#39; =&gt; 0x00400, # end is C. R. */</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">            &#39;FRAMEOPTION_START_OFFSET_PRECEDING&#39; =&gt; 0x00800, # start is O. P. */</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby">            &#39;FRAMEOPTION_END_OFFSET_PRECEDING&#39; =&gt; 0x01000, # end is O. P. */</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby">            &#39;FRAMEOPTION_START_OFFSET_FOLLOWING&#39; =&gt; 0x02000, # start is O. F. */</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby">            &#39;FRAMEOPTION_END_OFFSET_FOLLOWING&#39; =&gt; 0x04000, # end is O. F. */</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby">            &#39;FRAMEOPTION_EXCLUDE_CURRENT_ROW&#39; =&gt; 0x08000, # omit C.R. */</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="79">
          
          
          <code class="ruby">            &#39;FRAMEOPTION_EXCLUDE_GROUP&#39; =&gt; 0x10000, # omit C.R. &amp; peers */</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="80">
          
          
          <code class="ruby">            &#39;FRAMEOPTION_EXCLUDE_TIES&#39; =&gt; 0x20000, # omit C.R.&#39;s peers */</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="81">
          
          
          <code class="ruby">          }.freeze</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="83">
          <span class="hits">5</span>
          
          <code class="ruby">          def frameoptions</code>
        </li>
      
        <li class="covered" data-hits="1460" data-linenumber="84">
          <span class="hits">1460</span>
          
          <code class="ruby">            case PG.library_version.to_s[0, 2]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby">            when &#39;09&#39;, &#39;10&#39;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="86">
          
          
          <code class="ruby">              FRAMEOPTIONS_V10</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby">            when &#39;11&#39;, &#39;12&#39;, &#39;13&#39;, &#39;14&#39;</code>
        </li>
      
        <li class="covered" data-hits="1460" data-linenumber="88">
          <span class="hits">1460</span>
          
          <code class="ruby">              FRAMEOPTIONS_V11_AND_UP</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="89">
          
          
          <code class="ruby">            else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="90">
          
          
          <code class="ruby">              boom &quot;Version #{PG.library_version.to_s[0, 2]} not supported&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="91">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="93">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="94">
          <span class="hits">5</span>
          
          <code class="ruby">          def biggest_detractable_number(number, candidates)</code>
        </li>
      
        <li class="covered" data-hits="30660" data-linenumber="95">
          <span class="hits">30660</span>
          
          <code class="ruby">            high_to_low_candidates = candidates.sort { |a, b| b &lt;=&gt; a }</code>
        </li>
      
        <li class="covered" data-hits="730" data-linenumber="96">
          <span class="hits">730</span>
          
          <code class="ruby">            high_to_low_candidates.find do |candidate|</code>
        </li>
      
        <li class="covered" data-hits="9510" data-linenumber="97">
          <span class="hits">9510</span>
          
          <code class="ruby">              number - candidate &gt;= 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="98">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="99">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="100">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="101">
          <span class="hits">5</span>
          
          <code class="ruby">          def calculate_frame_option_names(frame_options, names = [])</code>
        </li>
      
        <li class="covered" data-hits="900" data-linenumber="102">
          <span class="hits">900</span>
          
          <code class="ruby">            return names if frame_options.zero?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="103">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="730" data-linenumber="104">
          <span class="hits">730</span>
          
          <code class="ruby">            number = biggest_detractable_number(frame_options, frameoptions.values)</code>
        </li>
      
        <li class="covered" data-hits="730" data-linenumber="105">
          <span class="hits">730</span>
          
          <code class="ruby">            name = frameoptions.key(number)</code>
        </li>
      
        <li class="covered" data-hits="730" data-linenumber="106">
          <span class="hits">730</span>
          
          <code class="ruby">            calculate_frame_option_names(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="107">
          
          
          <code class="ruby">              frame_options - number, names + [name]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="108">
          
          
          <code class="ruby">            )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="109">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="110">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="111">
          <span class="hits">5</span>
          
          <code class="ruby">          def calculate_frame_node(pattern, frame_option_names, offset)</code>
        </li>
      
        <li class="covered" data-hits="1400" data-linenumber="112">
          <span class="hits">1400</span>
          
          <code class="ruby">            node_name = frame_option_names.select { |n| n.start_with?(pattern) }</code>
        </li>
      
        <li class="covered" data-hits="240" data-linenumber="113">
          <span class="hits">240</span>
          
          <code class="ruby">            raise &quot;Don&#39;t know how to handle multiple nodes&quot; if node_name.length &gt; 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="114">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="240" data-linenumber="115">
          <span class="hits">240</span>
          
          <code class="ruby">            node_name = node_name.first.gsub(/FRAMEOPTION_(START|END)_/, &#39;&#39;)</code>
        </li>
      
        <li class="covered" data-hits="240" data-linenumber="116">
          <span class="hits">240</span>
          
          <code class="ruby">            name_to_node(node_name, offset)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="117">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="118">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="119">
          <span class="hits">5</span>
          
          <code class="ruby">          def name_to_node(node_name, offset)</code>
        </li>
      
        <li class="covered" data-hits="240" data-linenumber="120">
          <span class="hits">240</span>
          
          <code class="ruby">            case node_name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="121">
          
          
          <code class="ruby">            when &#39;UNBOUNDED_PRECEDING&#39;</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="122">
          <span class="hits">40</span>
          
          <code class="ruby">              Arel::Nodes::Preceding.new</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="123">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="124">
          
          
          <code class="ruby">            when &#39;UNBOUNDED_FOLLOWING&#39;</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="125">
          <span class="hits">40</span>
          
          <code class="ruby">              Arel::Nodes::Following.new</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="126">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="127">
          
          
          <code class="ruby">            when &#39;CURRENT_ROW&#39;</code>
        </li>
      
        <li class="covered" data-hits="90" data-linenumber="128">
          <span class="hits">90</span>
          
          <code class="ruby">              Arel::Nodes::CurrentRow.new</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="129">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="130">
          
          
          <code class="ruby">            when &#39;VALUE_PRECEDING&#39;, &#39;OFFSET_PRECEDING&#39;</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="131">
          <span class="hits">40</span>
          
          <code class="ruby">              Arel::Nodes::Preceding.new offset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="132">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="133">
          
          
          <code class="ruby">            when &#39;VALUE_FOLLOWING&#39;, &#39;OFFSET_FOLLOWING&#39;</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="134">
          <span class="hits">30</span>
          
          <code class="ruby">              Arel::Nodes::Following.new offset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="135">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="136">
          
          
          <code class="ruby">            else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="137">
          
          
          <code class="ruby">              raise &quot;Unknown start / end frame node `#{node_name}`&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="138">
          
          
          <code class="ruby">            end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="139">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="140">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="141">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="142">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="143">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="144">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="133975ff063a6a5445b684f153018088fca00cfe">
  <div class="header">
    <h3>lib/arel/sql_to_arel/result.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>16</b> relevant lines. 
      <span class="green"><b>16</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module SqlToArel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">    class Result &lt; Array</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">      def to_sql(engine = Arel::Table.engine)</code>
        </li>
      
        <li class="covered" data-hits="3106" data-linenumber="5">
          <span class="hits">3106</span>
          
          <code class="ruby">        sql, _binds = to_sql_and_binds(engine)</code>
        </li>
      
        <li class="covered" data-hits="3106" data-linenumber="6">
          <span class="hits">3106</span>
          
          <code class="ruby">        sql</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">      def to_sql_and_binds(engine = Arel::Table.engine)</code>
        </li>
      
        <li class="covered" data-hits="3327" data-linenumber="10">
          <span class="hits">3327</span>
          
          <code class="ruby">        sql_collection = []</code>
        </li>
      
        <li class="covered" data-hits="3327" data-linenumber="11">
          <span class="hits">3327</span>
          
          <code class="ruby">        binds_collection = []</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3327" data-linenumber="13">
          <span class="hits">3327</span>
          
          <code class="ruby">        each do |item|</code>
        </li>
      
        <li class="covered" data-hits="3382" data-linenumber="14">
          <span class="hits">3382</span>
          
          <code class="ruby">          sql, binds = item.to_sql_and_binds(engine)</code>
        </li>
      
        <li class="covered" data-hits="3382" data-linenumber="15">
          <span class="hits">3382</span>
          
          <code class="ruby">          sql_collection &lt;&lt; sql</code>
        </li>
      
        <li class="covered" data-hits="3382" data-linenumber="16">
          <span class="hits">3382</span>
          
          <code class="ruby">          binds_collection.concat(binds)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3327" data-linenumber="19">
          <span class="hits">3327</span>
          
          <code class="ruby">        [</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">          sql_collection.join(&#39;; &#39;),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">          binds_collection,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">        ]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="25">
          <span class="hits">5</span>
          
          <code class="ruby">      def map(&amp;block)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="26">
          <span class="hits">5</span>
          
          <code class="ruby">        Result.new super</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="db6d01e92d6027ee7d5737f2b1f7fd784d0999bb">
  <div class="header">
    <h3>lib/arel/transformer.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>4</b> relevant lines. 
      <span class="green"><b>4</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">require_relative &#39;./transformer/prefix_schema_name&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">require_relative &#39;./transformer/replace_table_with_subquery&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  module Transformer</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="f82357c9702debacaff100ffdb0a111bb51afeaf">
  <div class="header">
    <h3>lib/arel/transformer/prefix_schema_name.rb</h3>
    <h4><span class="green">97.67 %</span> covered</h4>
    <div>
      <b>86</b> relevant lines. 
      <span class="green"><b>84</b> lines covered</span> and
      <span class="red"><b>2</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Transformer</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">    class PrefixSchemaName</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">      PG_CATALOG = &#39;pg_catalog&#39;.freeze</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">      DEFAULT_SCHEMA_PRIORITY = [&#39;public&#39;, PG_CATALOG].freeze</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :object_mapping</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="8">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :schema_priority</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">        schema_priority = DEFAULT_SCHEMA_PRIORITY,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">        override_object_mapping = {}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">      )</code>
        </li>
      
        <li class="covered" data-hits="85" data-linenumber="14">
          <span class="hits">85</span>
          
          <code class="ruby">        @schema_priority = schema_priority</code>
        </li>
      
        <li class="covered" data-hits="85" data-linenumber="15">
          <span class="hits">85</span>
          
          <code class="ruby">        @object_mapping = database_object_mapping.merge(override_object_mapping)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">      def call(arel, next_middleware)</code>
        </li>
      
        <li class="covered" data-hits="85" data-linenumber="19">
          <span class="hits">85</span>
          
          <code class="ruby">        tree = Arel.enhance(arel)</code>
        </li>
      
        <li class="covered" data-hits="85" data-linenumber="20">
          <span class="hits">85</span>
          
          <code class="ruby">        update_arel_tables(tree)</code>
        </li>
      
        <li class="covered" data-hits="80" data-linenumber="21">
          <span class="hits">80</span>
          
          <code class="ruby">        update_typecasts(tree)</code>
        </li>
      
        <li class="covered" data-hits="75" data-linenumber="22">
          <span class="hits">75</span>
          
          <code class="ruby">        update_functions(tree)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="75" data-linenumber="24">
          <span class="hits">75</span>
          
          <code class="ruby">        next_middleware.call tree</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="27">
          <span class="hits">5</span>
          
          <code class="ruby">      private</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="29">
          <span class="hits">5</span>
          
          <code class="ruby">      def update_arel_tables(tree)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">        tree.query(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">          class: Arel::Table,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">          schema_name: nil,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">          context: { range_variable: true },</code>
        </li>
      
        <li class="covered" data-hits="85" data-linenumber="34">
          <span class="hits">85</span>
          
          <code class="ruby">        ).each do |node|</code>
        </li>
      
        <li class="covered" data-hits="50" data-linenumber="35">
          <span class="hits">50</span>
          
          <code class="ruby">          schema_name = schema_name_from_object_name(node[&#39;name&#39;].object.to_s)</code>
        </li>
      
        <li class="covered" data-hits="45" data-linenumber="36">
          <span class="hits">45</span>
          
          <code class="ruby">          node[&#39;schema_name&#39;].replace(schema_name)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="40">
          <span class="hits">5</span>
          
          <code class="ruby">      def update_typecasts(tree)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby">        tree.query(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">          class: Arel::Nodes::TypeCast,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">          type_name: &#39;regclass&#39;,</code>
        </li>
      
        <li class="covered" data-hits="80" data-linenumber="44">
          <span class="hits">80</span>
          
          <code class="ruby">        ).each do |node|</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="45">
          <span class="hits">20</span>
          
          <code class="ruby">          update_typecast_node(node)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="49">
          <span class="hits">5</span>
          
          <code class="ruby">      def update_typecast_node(node)</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="50">
          <span class="hits">20</span>
          
          <code class="ruby">        table_name = table_name_from_arel_node(node[&#39;arg&#39;].object)</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="51">
          <span class="hits">20</span>
          
          <code class="ruby">        reference_parts = table_name.split(&#39;.&#39;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="53">
          <span class="hits">20</span>
          
          <code class="ruby">        case reference_parts.length</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby">        when 1</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="55">
          <span class="hits">10</span>
          
          <code class="ruby">          schema_name = schema_name_from_object_name(table_name)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="56">
          <span class="hits">10</span>
          
          <code class="ruby">          reference_parts.unshift(schema_name)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="57">
          <span class="hits">10</span>
          
          <code class="ruby">          node[&#39;arg&#39;][&#39;expr&#39;].replace(reference_parts.join(&#39;.&#39;))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">        when 2</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="59">
          <span class="hits">5</span>
          
          <code class="ruby">          node # Do nothing</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="61">
          <span class="hits">5</span>
          
          <code class="ruby">          raise &quot;Don&#39;t know how to handle `#{reference_parts.length}` parts in &quot; \</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby">                &quot;`#{reference_parts}` for sql `#{node.to_sql}`&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="64">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="66">
          <span class="hits">5</span>
          
          <code class="ruby">      def update_functions(tree)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby">        tree.query(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">          class: Arel::Enhance::QueryMethods.in_ancestors?(Arel::Nodes::Function),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">          schema_name: nil,</code>
        </li>
      
        <li class="covered" data-hits="75" data-linenumber="70">
          <span class="hits">75</span>
          
          <code class="ruby">        ).each do |node|</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="71">
          <span class="hits">15</span>
          
          <code class="ruby">          update_function_node(node)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="75">
          <span class="hits">5</span>
          
          <code class="ruby">      def update_function_node(node)</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="76">
          <span class="hits">15</span>
          
          <code class="ruby">        object_name = if node.object.is_a?(Arel::Nodes::NamedFunction)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="77">
          <span class="hits">10</span>
          
          <code class="ruby">                        node[&#39;name&#39;].object.downcase</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby">                      else</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="79">
          <span class="hits">5</span>
          
          <code class="ruby">                        node.object.class.to_s.demodulize.underscore</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="80">
          
          
          <code class="ruby">                      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="81">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="82">
          <span class="hits">15</span>
          
          <code class="ruby">        schema_name = schema_name_from_object_name(object_name)</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="83">
          <span class="hits">15</span>
          
          <code class="ruby">        node[&#39;schema_name&#39;].replace(schema_name)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="84">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="86">
          <span class="hits">5</span>
          
          <code class="ruby">      def table_name_from_arel_node(arel_node)</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="87">
          <span class="hits">20</span>
          
          <code class="ruby">        case arel_node</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby">        when Arel::Nodes::Quoted</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="89">
          <span class="hits">20</span>
          
          <code class="ruby">          arel_node.expr</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="91">
          
          
          <code class="ruby">          raise &quot;Unknown node `#{table_name}` for `#{node.inspect}`&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="93">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="94">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="95">
          <span class="hits">5</span>
          
          <code class="ruby">      def schema_name_from_object_name(table_name)</code>
        </li>
      
        <li class="covered" data-hits="75" data-linenumber="96">
          <span class="hits">75</span>
          
          <code class="ruby">        table_name = unquote_string(table_name)</code>
        </li>
      
        <li class="covered" data-hits="75" data-linenumber="97">
          <span class="hits">75</span>
          
          <code class="ruby">        possible_schemas = object_mapping[table_name]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="98">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="75" data-linenumber="99">
          <span class="hits">75</span>
          
          <code class="ruby">        if possible_schemas.nil?</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="100">
          <span class="hits">5</span>
          
          <code class="ruby">          raise &quot;Object `#{table_name}` does not exist in the object_mapping and cannot be prefixed&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="101">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="70" data-linenumber="103">
          <span class="hits">70</span>
          
          <code class="ruby">        schema_name = schema_priority.find do |possible_schema_name|</code>
        </li>
      
        <li class="covered" data-hits="90" data-linenumber="104">
          <span class="hits">90</span>
          
          <code class="ruby">          possible_schemas.include?(possible_schema_name)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="106">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="70" data-linenumber="107">
          <span class="hits">70</span>
          
          <code class="ruby">        if schema_name.nil?</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="108">
          
          
          <code class="ruby">          raise &quot;Could not find a schema name for table `#{table_name}`.\n&quot; \</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="109">
          
          
          <code class="ruby">                &quot;Current schema priority is `#{schema_priority}`.\n&quot; \</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="110">
          
          
          <code class="ruby">                &quot;Possible schemas are `#{possible_schemas}`.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="111">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="112">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="113">
          
          
          <code class="ruby">        # We don&#39;t need to prefix nodes with `pg_catalog`, because that&#39;s the default</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="114">
          
          
          <code class="ruby">        # even if the search_path does not include `pg_catalog`.</code>
        </li>
      
        <li class="covered" data-hits="70" data-linenumber="115">
          <span class="hits">70</span>
          
          <code class="ruby">        return nil if schema_name == PG_CATALOG</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="116">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="60" data-linenumber="117">
          <span class="hits">60</span>
          
          <code class="ruby">        schema_name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="118">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="119">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="120">
          
          
          <code class="ruby">      # https://www.rubydoc.info/github/rubyworks/facets/String:unquote</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="121">
          <span class="hits">5</span>
          
          <code class="ruby">      def unquote_string(string)</code>
        </li>
      
        <li class="covered" data-hits="75" data-linenumber="122">
          <span class="hits">75</span>
          
          <code class="ruby">        s = string.dup</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="123">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="75" data-linenumber="124">
          <span class="hits">75</span>
          
          <code class="ruby">        case string[0, 1]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby">        when &quot;&#39;&quot;, &#39;&quot;&#39;, &#39;`&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="126">
          <span class="hits">5</span>
          
          <code class="ruby">          s[0] = &#39;&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="127">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="128">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="75" data-linenumber="129">
          <span class="hits">75</span>
          
          <code class="ruby">        case string[-1, 1]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="130">
          
          
          <code class="ruby">        when &quot;&#39;&quot;, &#39;&quot;&#39;, &#39;`&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="131">
          <span class="hits">5</span>
          
          <code class="ruby">          s[-1] = &#39;&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="132">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="133">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="75" data-linenumber="134">
          <span class="hits">75</span>
          
          <code class="ruby">        s</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="135">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="136">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="137">
          <span class="hits">5</span>
          
          <code class="ruby">      def database_object_mapping</code>
        </li>
      
        <li class="covered" data-hits="85" data-linenumber="138">
          <span class="hits">85</span>
          
          <code class="ruby">        mapping = {}</code>
        </li>
      
        <li class="covered" data-hits="85" data-linenumber="139">
          <span class="hits">85</span>
          
          <code class="ruby">        update_mapping mapping, database_tables</code>
        </li>
      
        <li class="covered" data-hits="85" data-linenumber="140">
          <span class="hits">85</span>
          
          <code class="ruby">        update_mapping mapping, database_views</code>
        </li>
      
        <li class="covered" data-hits="85" data-linenumber="141">
          <span class="hits">85</span>
          
          <code class="ruby">        update_mapping mapping, database_materialized_views</code>
        </li>
      
        <li class="covered" data-hits="85" data-linenumber="142">
          <span class="hits">85</span>
          
          <code class="ruby">        update_mapping mapping, database_functions</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="143">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="85" data-linenumber="144">
          <span class="hits">85</span>
          
          <code class="ruby">        mapping</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="145">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="146">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="147">
          <span class="hits">5</span>
          
          <code class="ruby">      def update_mapping(mapping, objects)</code>
        </li>
      
        <li class="covered" data-hits="340" data-linenumber="148">
          <span class="hits">340</span>
          
          <code class="ruby">        objects.each do |object|</code>
        </li>
      
        <li class="covered" data-hits="263041" data-linenumber="149">
          <span class="hits">263041</span>
          
          <code class="ruby">          name = object.fetch(&#39;object_name&#39;).to_s.downcase</code>
        </li>
      
        <li class="covered" data-hits="263041" data-linenumber="150">
          <span class="hits">263041</span>
          
          <code class="ruby">          mapping[name] ||= []</code>
        </li>
      
        <li class="covered" data-hits="263041" data-linenumber="151">
          <span class="hits">263041</span>
          
          <code class="ruby">          mapping[name] &lt;&lt; object.fetch(&#39;schema_name&#39;).to_s</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="152">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="153">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="154">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="155">
          <span class="hits">5</span>
          
          <code class="ruby">      def database_tables</code>
        </li>
      
        <li class="covered" data-hits="85" data-linenumber="156">
          <span class="hits">85</span>
          
          <code class="ruby">        connection.execute(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="157">
          
          
          <code class="ruby">          &#39;SELECT tablename AS object_name, schemaname AS schema_name FROM pg_tables&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="158">
          
          
          <code class="ruby">        )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="159">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="160">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="161">
          <span class="hits">5</span>
          
          <code class="ruby">      def database_views</code>
        </li>
      
        <li class="covered" data-hits="85" data-linenumber="162">
          <span class="hits">85</span>
          
          <code class="ruby">        connection.execute(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="163">
          
          
          <code class="ruby">          &#39;SELECT viewname AS object_name, schemaname AS schema_name FROM pg_views&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="164">
          
          
          <code class="ruby">        )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="165">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="166">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="167">
          <span class="hits">5</span>
          
          <code class="ruby">      def database_materialized_views</code>
        </li>
      
        <li class="covered" data-hits="85" data-linenumber="168">
          <span class="hits">85</span>
          
          <code class="ruby">        connection.execute(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="169">
          
          
          <code class="ruby">          &#39;SELECT matviewname AS object_name, schemaname AS schema_name FROM pg_matviews&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="170">
          
          
          <code class="ruby">        )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="171">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="172">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="173">
          <span class="hits">5</span>
          
          <code class="ruby">      def database_functions</code>
        </li>
      
        <li class="covered" data-hits="85" data-linenumber="174">
          <span class="hits">85</span>
          
          <code class="ruby">        connection.execute(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="175">
          
          
          <code class="ruby">          &#39;SELECT pg_proc.proname AS object_name, pg_namespace.nspname AS schema_name &#39; \</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="176">
          
          
          <code class="ruby">          &#39;FROM pg_proc INNER JOIN pg_namespace ON pg_proc.pronamespace = pg_namespace.oid&#39;,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="177">
          
          
          <code class="ruby">        )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="178">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="179">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="180">
          <span class="hits">5</span>
          
          <code class="ruby">      def connection</code>
        </li>
      
        <li class="covered" data-hits="340" data-linenumber="181">
          <span class="hits">340</span>
          
          <code class="ruby">        Arel::Table.engine.connection</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="182">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="183">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="184">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="185">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="fe608cd549253ce112d854d8a1046665d822b287">
  <div class="header">
    <h3>lib/arel/transformer/replace_table_with_subquery.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>15</b> relevant lines. 
      <span class="green"><b>15</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">module Arel</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">  module Transformer</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">    class ReplaceTableWithSubquery</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">      attr_reader :subquery_for_table</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">      def initialize(subquery_for_table)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="7">
          <span class="hits">10</span>
          
          <code class="ruby">        @subquery_for_table = subquery_for_table</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">      def call(arel, next_middleware)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="11">
          <span class="hits">10</span>
          
          <code class="ruby">        tree = Arel.enhance(arel)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="12">
          <span class="hits">10</span>
          
          <code class="ruby">        update_arel_tables(tree)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="13">
          <span class="hits">10</span>
          
          <code class="ruby">        next_middleware.call tree</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="16">
          <span class="hits">5</span>
          
          <code class="ruby">      private</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">      def update_arel_tables(tree)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">        tree.query(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">          class: Arel::Table,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">          context: { range_variable: true },</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">          schema_name: nil,</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="23">
          <span class="hits">10</span>
          
          <code class="ruby">        ).each do |node|</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="24">
          <span class="hits">10</span>
          
          <code class="ruby">          if (subquery = subquery_for_table.call(node.name.value))</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="25">
          <span class="hits">5</span>
          
          <code class="ruby">            node.replace subquery.as(node.name.value)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">          end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">        end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">      end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">    end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">  end</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="7292a66fecfbd9ea82f0ad6d5d2fe1be03a4fcca">
  <div class="header">
    <h3>lib/arel_toolkit.rb</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>16</b> relevant lines. 
      <span class="green"><b>16</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby"># Make sure the gems are loaded before ArelToolkit</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;postgres_ext&#39; if Gem.loaded_specs.key?(&#39;postgres_ext&#39;)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;active_record_upsert&#39; if Gem.loaded_specs.key?(&#39;active_record_upsert&#39;)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;pg_search&#39; if Gem.loaded_specs.key?(&#39;pg_search&#39;)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;rails/railtie&#39; if Gem.loaded_specs.key?(&#39;railties&#39;)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;active_record&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="8">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;active_record/connection_adapters/postgresql_adapter&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel_toolkit/version&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;pg&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel_toolkit/pg_result_init&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/extensions&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="16">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/sql_to_arel&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="17">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/middleware&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/enhance&#39;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="19">
          <span class="hits">5</span>
          
          <code class="ruby">require &#39;arel/transformer&#39;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="21">
          <span class="hits">5</span>
          
          <code class="ruby">module ArelToolkit</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">end</code>
        </li>
      
    </ol>
  </pre>
</div>

      
      </div>
    </div>
  </body>
</html>
